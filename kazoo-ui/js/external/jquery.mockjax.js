(function(e){var t=e.ajax,n=[];e.extend({ajax:function(r){var i=jQuery.extend(!0,{},jQuery.ajaxSettings,r),s=!1;return e.each(n,function(o,u){if(!n[o])return;var a=null;if(e.isFunction(n[o]))a=n[o](i);else{a=n[o];if(e.isFunction(a.url.test))a.url.test(i.url)||(a=null);else{var f=a.url.indexOf("*");if(a.url!="*"&&a.url!=i.url&&f==-1||f>-1&&a.url.substr(0,f)!=i.url.substr(0,f))a=null}if(a){if(a.data&&i.data){var l=!1;(function b(t,n){if(typeof n=="string")return l=e.isFunction(t.test)?t.test(n):t==n,l;e.each(t,function(r,i){return n[r]===undefined?(l=!1,!1):(l=!0,typeof n[r]=="object"?b(t[r],n[r]):(e.isFunction(t[r].test)?l=t[r].test(n[r]):l=t[r]==n[r],l))})})(a.data,i.data),l==0&&(a=null)}a&&a.type&&a.type!=i.type&&(a=null)}}if(a){typeof console!="undefined"&&console.log&&console.log("MOCK "+i.type+": "+i.url),s=!0;if(i.dataType==="jsonp"){if(i.type.toUpperCase()==="GET")c.test(i.url)||(i.url+=(rquery.test(i.url)?"&":"?")+(i.jsonp||"callback")+"=?");else if(!i.data||!c.test(i.data))i.data=(i.data?i.data+"&":"")+(i.jsonp||"callback")+"=?";i.dataType="json"}var c=/=\?(&|$)/;i.dataType==="json"&&(i.data&&c.test(i.data)||c.test(i.url))&&(jsonp=i.jsonpCallback||"jsonp"+jsc++,i.data&&(i.data=(i.data+"").replace(c,"="+jsonp+"$1")),i.url=i.url.replace(c,"="+jsonp+"$1"),i.dataType="script",window[jsonp]=window[jsonp]||function(e){data=e,m(),g(),window[jsonp]=undefined;try{delete window[jsonp]}catch(t){}head&&head.removeChild(script)});var h=/^(\w+:)?\/\/([^\/?#]+)/,p=h.exec(i.url),d=p&&(p[1]&&p[1]!==location.protocol||p[2]!==location.host);if(i.dataType==="script"&&i.type.toUpperCase()==="GET"&&d){var v=r&&r.context||i;function m(){i.success&&i.success.call(v,a.response?a.response.toString():a.responseText||"",status,{}),i.global&&y("ajaxSuccess",[{},i])}function g(){i.complete&&i.complete.call(v,{},status),i.global&&y("ajaxComplete",[{},i]),i.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop")}function y(e,t){(i.context?jQuery(i.context):jQuery.event).trigger(e,t)}return a.response&&e.isFunction(a.response)?a.response(r):e.globalEval(a.responseText),m(),g(),!1}return s=t.call(e,e.extend(!0,{},r,{xhr:function(){return a=e.extend({},e.mockjaxSettings,a),{status:a.status,readyState:1,open:function(){},send:function(){var n=e.proxy(function(){this.status=a.status,this.readyState=4,e.isFunction(a.response)&&a.response(r),i.dataType=="json"&&typeof a.responseText=="object"?this.responseText=JSON.stringify(a.responseText):i.dataType=="xml"?e.xmlDOM&&typeof a.responseXML=="string"?this.responseXML=e.xmlDOM(a.responseXML)[0]:this.responseXML=a.responseXML:this.responseText=a.responseText,this.onreadystatechange(a.isTimeout?"timeout":undefined)},this);a.proxy?t({global:!1,url:a.proxy,type:a.type,data:a.data,dataType:i.dataType,complete:function(e,t){a.responseXML=e.responseXML,a.responseText=e.responseText,this.responseTimer=setTimeout(n,a.responseTime||0)}}):i.async===!1?n():this.responseTimer=setTimeout(n,a.responseTime||50)},abort:function(){clearTimeout(this.responseTimer)},setRequestHeader:function(){},getResponseHeader:function(e){if(a.headers&&a.headers[e])return a.headers[e];if(e=="Last-modified")return a.lastModified||(new Date).toString();if(e=="Etag")return a.etag||"";if(e=="content-type")return a.contentType||"text/plain"}}}})),!1}}),s?s:t.apply(e,arguments)}}),e.mockjaxSettings={status:200,responseTime:500,isTimeout:!1,contentType:"text/plain",response:"",responseText:"",responseXML:"",proxy:"",lastModified:null,etag:"",headers:{etag:"IJF@H#@923uf8023hFO@I#H#","content-type":"text/plain"}},e.mockjax=function(e){var t=n.length;return n[t]=e,t},e.mockjaxClear=function(e){arguments.length==1?n[e]=null:n=[]}})(jQuery);