(function(e,t,n){function r(t,r){var i=r.__amplify__?JSON.parse(r.__amplify__):{};e.store.addType(t,function(e,t,s){var o=t,u=(new Date).getTime(),a,f;if(!e){o={};for(e in i)a=r[e],f=a?JSON.parse(a):{expires:-1},f.expires&&f.expires<=u?(delete r[e],delete i[e]):o[e.replace(/^__amplify__/,"")]=f.data;return r.__amplify__=JSON.stringify(i),o}e="__amplify__"+e;if(t===n){if(i[e]){a=r[e],f=a?JSON.parse(a):{expires:-1};if(!(f.expires&&f.expires<=u))return f.data;delete r[e],delete i[e]}}else t===null?(delete r[e],delete i[e]):(r[e]=JSON.stringify({data:t,expires:s.expires?u+s.expires:null}),i[e]=!0);return r.__amplify__=JSON.stringify(i),o})}e.store=function(t,n,r){var i=e.store.type;return r&&r.type&&r.type in e.store.types&&(i=r.type),e.store.types[i](t,n,r||{})},t.extend(e.store,{types:{},type:null,addType:function(n,r){this.type||(this.type=n),this.types[n]=r,e.store[n]=function(r,i,s){return e.store(r,i,t.extend({type:n},s))}}}),t.each(["localStorage","sessionStorage"],function(e,t){try{window[t].getItem&&r(t,window[t])}catch(n){}}),window.globalStorage&&r("globalStorage",window.globalStorage[window.location.hostname]),function(){var r=t("<div>").hide().appendTo("html")[0],i="amplify",s;r.addBehavior&&(r.addBehavior("#default#userdata"),r.load(i),s=r.getAttribute(i)?JSON.parse(r.getAttribute(i)):{},e.store.addType("userData",function(e,t,o){var u=t,a=(new Date).getTime(),f,l;if(!e){u={};for(e in s)f=r.getAttribute(e),l=f?JSON.parse(f):{expires:-1},l.expires&&l.expires<=a?(r.removeAttribute(e),delete s[e]):u[e]=l.data;return r.setAttribute(i,JSON.stringify(s)),r.save(i),u}e=e.replace(/[^-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u37f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-");if(t===n){if(e in s){f=r.getAttribute(e),l=f?JSON.parse(f):{expires:-1};if(!(l.expires&&l.expires<=a))return l.data;r.removeAttribute(e),delete s[e]}}else t===null?(r.removeAttribute(e),delete s[e]):(r.setAttribute(e,JSON.stringify({data:t,expires:o.expires?a+o.expires:null})),s[e]=!0);return r.setAttribute(i,JSON.stringify(s)),r.save(i),u}))}(),r("memory",{}),t.cookie&&t.support.cookie&&e.store.addType("cookie",function(e,n,r){return t.cookie(e,n,{expires:r.expires||99e9,path:"/"})})})(amplify,jQuery);