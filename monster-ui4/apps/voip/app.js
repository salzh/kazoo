define("apps/voip/submodules/devices/devices",["require","jquery","underscore","monster","toastr"],function(t){var e=t("jquery"),n=t("underscore"),l=t("monster"),a=t("toastr"),i={requests:{"provisioner.ui.getModel":{apiRoot:l.config.api.provisioner,url:"ui/{brand}/{family}/{model}",verb:"GET",generateError:!1},"provisioner.devices.unlock":{apiRoot:l.config.api.provisioner,url:"locks/{accountId}/{macAddress}",verb:"DELETE"}},subscribe:{"voip.devices.render":"devicesRender","voip.devices.renderAdd":"devicesRenderAdd","voip.devices.editDevice":"devicesRenderEdit"},devicesRender:function(t){var a=this,i=t||{},s=i.parent||e(".right-content"),r=i.deviceId||"",o=i.callback;a.devicesGetData(function(t){var i,c=a.devicesFormatListData(t),u=e(l.template(a,"devices-layout",c));if(n.each(c.devices,function(t){i=l.template(a,"devices-row",t),u.find(".devices-rows").append(i)}),a.devicesBindEvents(u,s,c),s.empty().append(u),r){var d=s.find(".grid-row[data-id="+r+"]");l.ui.highlight(d,{endColor:"#FCFCFC"})}0===c.devices.length?s.find(".no-devices-row").css("display","block"):s.find(".no-devices-row").css("display","none"),o&&o()})},devicesBindEvents:function(t,l,a){var i=this;setTimeout(function(){t.find(".search-query").focus()}),t.find(".devices-header .search-query").on("keyup",function(){var l=e(this).val().toLowerCase(),a=t.find(".devices-rows .grid-row:not(.title)"),i=t.find(".devices-rows .empty-search-row");n.each(a,function(t){var n=e(t);n.data("search").toLowerCase().indexOf(l)<0?n.hide():n.show()}),a.size()>0&&(a.is(":visible")?i.hide():i.show())}),t.find(".switch-state").on("change",function(){var t=e(this),l=t.parents(".grid-row"),s=l.data("id"),r=t.prop("checked");i.devicesGetDevice(s,function(e){e.enabled=r,i.devicesUpdateDevice(e,function(t){l.find(".type").removeClass("unregistered registered disabled");var e="disabled";t.enabled===!0&&(e="unregistered",n.each(a.devices,function(n){if(n.id===t.id)return n.registered===!0&&(e="registered"),!1})),l.find(".type").addClass(e)},function(){t.prop("checked",!r)})},function(){t.prop("checked",!r)})}),t.find(".settings").on("click",function(){var t=e(this),n={id:t.parents(".grid-row").data("id"),isRegistered:t.parents(".grid-row").data("registered")===!0};i.devicesRenderEdit({data:n,callbackSave:function(t){i.devicesRender({deviceId:t.id})}})}),t.find(".create-device").on("click",function(){var t=e(this).data("type");i.devicesRenderAdd({type:t,callback:function(t){i.devicesRender({deviceId:t.id})}})})},getKeyTypes:function(t){var e=[];return t.hasOwnProperty("feature_keys")&&t.feature_keys.iterate>0&&e.push("feature_keys"),t.hasOwnProperty("combo_keys")&&t.combo_keys.iterate>0&&e.push("combo_keys"),n.isEmpty(e)?null:e},devicesRenderEdit:function(t){var l=this,a=t.data,i=t.callbackSave,s=t.callbackDelete||function(t){l.devicesRender()};l.devicesGetEditData(a,function(t){t.hasOwnProperty("provision")?l.devicesGetIterator(t.provision,function(a){var r=l.getKeyTypes(a);r?l.devicesListUsers({success:function(o){n.each(r,function(e,n){t.provision.hasOwnProperty(e)||(t.provision[e]={});for(var l=0,i=a[e].iterate;l<i;l++)t.provision[e].hasOwnProperty(l)||(t.provision[e][l]={type:"none"})});var c,u=["none","presence","parking","personal_parking","speed_dial"],d=[];o.sort(function(t,e){return t.last_name.toLowerCase()>e.last_name.toLowerCase()?1:-1});for(var p=0;p<10;p++)d[p]=p+1;n.each(u,function(t,e,n){n[e]={id:t,text:l.i18n.active().devices.popupSettings.keys.types[t]},"none"!==t&&(n[e].info=l.i18n.active().devices.popupSettings.keys.info.types[t])}),c={provision:{users:o,parkingSpots:d,keyActions:u,keys:[]}},n.each(r,function(e,n){var a=l.devicesSnakeToCamel(e);c.provision.keys.push({id:e,type:a,title:l.i18n.active().devices.popupSettings.keys[a].title,label:l.i18n.active().devices.popupSettings.keys[a].label,data:t.provision[e]})}),t.extra=t.hasOwnProperty("extra")?e.extend(!0,{},t.extra,c):c,l.devicesRenderDevice(t,i,s)}}):l.devicesRenderDevice(t,i,s)},function(){l.devicesRenderDevice(t,i,s)}):l.devicesRenderDevice(t,i,s)})},devicesRenderAdd:function(t){var e=this,n=t.type,a=t.callback,i={device_type:n};"sip_device"===n&&l.config.api.provisioner?l.pub("common.chooseModel.render",{callback:function(t,n){e.callApi({resource:"device.create",data:{accountId:e.accountId,data:t},success:function(t,e){a(t.data),n&&n()}})},callbackMissingBrand:function(){e.devicesRenderEdit({data:i,callbackSave:function(t){a&&a(t)}})}}):e.devicesRenderEdit({data:i,callbackSave:function(t){a&&a(t)}})},devicesRenderDevice:function(t,i,s){var r=this,o=t.id?"edit":"add",c=t.device_type,u="edit"===o?l.template(r,"!"+r.i18n.active().devices[c].editTitle,{name:t.name}):r.i18n.active().devices[c].addTitle,d=e(l.template(r,"devices-"+c,e.extend(!0,{},t,{isProvisionerConfigured:l.config.api.hasOwnProperty("provisioner"),showEmergencyCnam:l.util.isNumberFeatureEnabled("cnam")&&l.util.isNumberFeatureEnabled("e911")}))),p=d.find("#form_device");if(t.extra.hasOwnProperty("provision")&&t.extra.provision.hasOwnProperty("keys")&&(n.each(t.extra.provision.keys,function(t,e){var l='.tabs-section[data-section="'+t.type+'"] ';n.each(t.data,function(t,e){var n='.control-group[data-id="'+e+'"] ',a='.feature-key-value[data-type="'+t.type+'"]';d.find(l.concat(n,a)).addClass("active").find('[name="provision.feature_keys['+e+'].value"]').val(t.value)})}),d.find(".feature-key-index").each(function(t,n){e(n).text(parseInt(e(n).text(),10)+1)})),t.extra.hasE911Numbers){var m;t.caller_id&&t.caller_id.emergency&&t.caller_id.emergency.number&&(m=t.caller_id.emergency.number,r.devicesGetE911NumberAddress(t.caller_id.emergency.number,function(t){d.find(".number-address").show().find("p").html(t)})),l.pub("common.numberSelector.render",{container:d.find(".emergency-number"),inputName:"caller_id.emergency.number",number:m,customNumbers:t.extra.e911Numbers,noBuy:!0,noExtension:!0,labels:{empty:r.i18n.active().devices.popupSettings.callerId.notSet,remove:r.i18n.active().devices.popupSettings.callerId.useDefault,spare:r.i18n.active().devices.popupSettings.callerId.selectNumber,hideNumber:!0}})}if(l.ui.validate(p,{rules:{name:{required:!0},mac_address:{required:!0,mac:!0},"mobile.mdn":{number:!0},"sip.username":{required:!0},"sip.password":{required:!0},"call_forward.number":{required:!0}},ignore:""}),e.inArray(c,["sip_device","smartphone","mobile","softphone","fax","ata"])>-1)var f=l.ui.codecSelector("audio",d.find("#audio_codec_selector"),t.media.audio.codecs);if(e.inArray(c,["sip_device","smartphone","mobile","softphone"])>-1)var v=l.ui.codecSelector("video",d.find("#video_codec_selector"),t.media.video.codecs);l.ui.tabs(d),l.ui.protectField(d.find("#sip_password"),d),l.ui.tooltips(d),l.ui.mask(d.find("#mac_address"),"macAddress"),l.ui.mask(d.find('[name="call_forward.number"]'),"phoneNumber"),d.find(".chosen-feature-key-user").chosen({search_contains:!0,width:"inherit"}),t.media.encryption.enforce_security||d.find("#rtp_method").hide(),d.find("#secure_rtp").on("change",function(){d.find("#rtp_method").toggle()}),d.find("#restart_device").on("click",function(){e(this).hasClass("disabled")||r.devicesRestart(t.id,function(){a.success(r.i18n.active().devices.popupSettings.miscellaneous.restart.success)})}),d.find("#unlock_device").on("click",function(){r.devicesUnlock(t.mac_address.replace(/\:/g,""),function(){a.success(r.i18n.active().devices.popupSettings.miscellaneous.unlock.success)})}),d.find(".actions .save").on("click",function(){if(l.ui.valid(p)){d.find(".feature-key-value:not(.active)").remove();var e=r.devicesMergeData(t,d,f,v);r.devicesSaveDevice(e,function(t){h.dialog("close").remove(),i&&i(t)})}else d.find('.tabs-selector[data-section="basic"]').click()}),"mobile"!==c&&d.find("#delete_device").on("click",function(){var t=e(this).parents(".edit-device").data("id");l.ui.confirm(r.i18n.active().devices.confirmDeleteDevice,function(){r.devicesDeleteDevice(t,function(t){h.dialog("close").remove(),a.success(l.template(r,"!"+r.i18n.active().devices.deletedDevice,{deviceName:t.name})),s&&s(t)})})}),d.find(".actions .cancel-link").on("click",function(){h.dialog("close").remove()}),d.on("change",".caller-id-select",function(){var t=this.value,e=d.find(".number-address");e.find("p").empty(),""!==t?(r.devicesGetE911NumberAddress(t,function(t){e.find("p").html(t)}),e.slideDown()):e.slideUp()}),d.find(".restrictions-switch").on("change",function(){d.find(".restriction-matcher-sign").hide(),d.find(".restriction-message").hide()}),d.find(".restriction-matcher-button").on("click",function(t){t.preventDefault();var e=d.find(".restriction-matcher-input").val();e?r.callApi({resource:"numbers.matchClassifier",data:{accountId:r.accountId,phoneNumber:encodeURIComponent(e)},success:function(t,n){var a=d.find('.restriction-line[data-restriction="'+t.data.name+'"]'),i=a.find(".restriction-matcher-sign"),s=d.find(".restriction-message");d.find(".restriction-matcher-sign").hide(),a.find(".restrictions-switch").prop("checked")?(i.removeClass("monster-red fa-times").addClass("monster-green fa-check").css("display","inline-block"),s.removeClass("red-box").addClass("green-box").css("display","inline-block").empty().text(l.template(r,"!"+r.i18n.active().devices.popupSettings.restrictions.matcher.allowMessage,{phoneNumber:l.util.formatPhoneNumber(e)}))):(i.removeClass("monster-green fa-check").addClass("monster-red fa-times").css("display","inline-block"),s.removeClass("green-box").addClass("red-box").css("display","inline-block").empty().text(l.template(r,"!"+r.i18n.active().devices.popupSettings.restrictions.matcher.denyMessage,{phoneNumber:l.util.formatPhoneNumber(e)})))}}):(d.find(".restriction-matcher-sign").hide(),d.find(".restriction-message").hide())}),d.find(".feature-key-type").on("change",function(){var t=e(this).val();e(this).siblings(".feature-key-value.active").removeClass("active"),e(this).siblings('.feature-key-value[data-type="'+t+'"]').addClass("active")}),d.find('.tabs-section[data-section="featureKeys"] .type-info a').on("click",function(){var t=e(this);setTimeout(function(){var e=(t.hasClass("collapsed")?"show":"hide").concat("Info");t.find(".text").text(r.i18n.active().devices.popupSettings.keys.info.link[e])})});var h=l.ui.dialog(d,{position:["center",20],title:u,dialogClass:"voip-edit-device-popup overflow-visible"})},devicesRestart:function(t,e){var n=this;n.callApi({resource:"device.restart",data:{accountId:n.accountId,deviceId:t},success:function(t){e&&e(t.data)}})},devicesUnlock:function(t,e){var n=this;l.request({resource:"provisioner.devices.unlock",data:{accountId:n.accountId,macAddress:t},success:function(t,n){e&&e()}})},devicesMergeData:function(t,a,i,s){var r=e.inArray(t.device_type,["sip_device","landline","fax","ata","softphone","smartphone","mobile","sip_uri"])>-1,o=e.inArray(t.device_type,["fax","ata","softphone","smartphone","mobile"])>-1,c=e.inArray(t.device_type,["landline","cellphone","smartphone"])>-1,u=e.inArray(t.device_type,["sip_device","mobile","softphone"])>-1,d=l.ui.getFormData("form_device");"mac_address"in d&&(d.mac_address=l.util.formatMacAddress(d.mac_address)),c&&(d.call_forward=e.extend(!0,{enabled:!0,require_keypress:!0,keep_caller_id:!0},d.call_forward),"smartphone"===t.device_type&&(d.call_forward.failover=!0),d.hasOwnProperty("extra")&&d.extra.allowVMCellphone&&(d.call_forward.require_keypress=!d.extra.allowVMCellphone)),r&&(d.media=e.extend(!0,{audio:{codecs:[]},video:{codecs:[]}},d.media)),o&&(d.sip=e.extend(!0,{expire_seconds:360,invite_format:"username",method:"password"},d.sip)),"call_restriction"in d&&n.each(d.call_restriction,function(e,n){n in t.extra.restrictions&&t.extra.restrictions[n].disabled?e.action=t.extra.restrictions[n].action:e.action=e.action===!0?"inherit":"deny"}),d.hasOwnProperty("provision")&&d.provision.hasOwnProperty("keys")&&(n.each(d.provision.keys,function(e,l,a){var i={};a[l].forEach(function(t,e){"none"!==t.type&&(i[e]=t)}),n.isEmpty(i)?delete t.provision[l]:t.provision[l]=i}),delete d.provision.keys);var p=e.extend(!0,{},t,d);return u&&(p.media.encryption.methods=[],p.media.encryption.enforce_security&&p.media.encryption.methods.push(d.extra.rtpMethod)),p.extra.hasOwnProperty("notify_unregister")&&(p.suppress_unregister_notifications=!p.extra.notify_unregister),r&&(i&&(p.media.audio.codecs=i.getSelectedItems()),s&&(p.media.video.codecs=s.getSelectedItems())),p.hasOwnProperty("media")&&p.media.hasOwnProperty("fax_option")&&"auto"===p.media.fax_option&&delete p.media.fax_option,p.hasOwnProperty("media")&&p.media.hasOwnProperty("fax")&&p.media.fax.hasOwnProperty("option")&&delete p.media.fax.option,p.hasOwnProperty("caller_id")&&p.caller_id.hasOwnProperty("emergency")&&p.caller_id.emergency.hasOwnProperty("number")&&""===p.caller_id.emergency.number&&(delete p.caller_id.emergency.number,n.isEmpty(p.caller_id.emergency)&&delete p.caller_id.emergency),delete p.media.secure_rtp,delete p.extra,p},devicesFormatData:function(t,a){var i=this,s={extra:{hasE911Numbers:!n.isEmpty(t.e911Numbers),e911Numbers:t.e911Numbers,restrictions:t.listClassifiers,rtpMethod:t.device.media&&t.device.media.encryption&&t.device.media.encryption.enforce_security?t.device.media.encryption.methods[0]:"",selectedCodecs:{audio:[],video:[]},availableCodecs:{audio:[],video:[]}},call_restriction:{},device_type:"sip_device",enabled:!0,media:{encryption:{enforce_security:!1},audio:{codecs:["PCMU","PCMA"]},video:{codecs:[]}},suppress_unregister_notifications:!0},r={sip_device:{sip:{password:l.util.randomString(12),realm:l.apps.auth.currentAccount.realm,username:"user_"+l.util.randomString(10)}},landline:{call_forward:{require_keypress:!0,keep_caller_id:!0},contact_list:{exclude:!0}},cellphone:{call_forward:{require_keypress:!0,keep_caller_id:!0},contact_list:{exclude:!0}},ata:{sip:{password:l.util.randomString(12),realm:l.apps.auth.currentAccount.realm,username:"user_"+l.util.randomString(10)}},fax:{media:{fax_option:"false"},outbound_flags:["fax"],sip:{password:l.util.randomString(12),realm:l.apps.auth.currentAccount.realm,username:"user_"+l.util.randomString(10)}},softphone:{sip:{password:l.util.randomString(12),realm:l.apps.auth.currentAccount.realm,username:"user_"+l.util.randomString(10)}},mobile:{sip:{password:l.util.randomString(12),realm:l.apps.auth.currentAccount.realm,username:"user_"+l.util.randomString(10)}},smartphone:{call_forward:{require_keypress:!0,keep_caller_id:!0},contact_list:{exclude:!0},sip:{password:l.util.randomString(12),realm:l.apps.auth.currentAccount.realm,username:"user_"+l.util.randomString(10)}},sip_uri:{sip:{password:l.util.randomString(12),username:"user_"+l.util.randomString(10),expire_seconds:360,invite_format:"route",method:"password"}}};n.each(t.listClassifiers,function(e,n){n in i.i18n.active().devices.classifiers&&(s.extra.restrictions[n].friendly_name=i.i18n.active().devices.classifiers[n].name,"help"in i.i18n.active().devices.classifiers[n]&&(s.extra.restrictions[n].help=i.i18n.active().devices.classifiers[n].help)),"call_restriction"in t.accountLimits&&n in t.accountLimits.call_restriction&&"deny"===t.accountLimits.call_restriction[n].action&&(s.extra.restrictions[n].disabled=!0,s.extra.hasDisabledRestrictions=!0),"call_restriction"in t.device&&n in t.device.call_restriction?s.extra.restrictions[n].action=t.device.call_restriction[n].action:s.extra.restrictions[n].action="inherit"});var o=e.extend(!0,{},r[t.device.device_type],s,t.device);return t.device.media&&t.device.media.audio&&t.device.media.audio.codecs&&(o.media.audio.codecs=t.device.media.audio.codecs),t.device.media&&t.device.media.video&&t.device.media.video.codecs&&(o.media.video.codecs=t.device.media.video.codecs),o.extra.isRegistered=a.isRegistered,o.hasOwnProperty("call_forward")&&o.call_forward.hasOwnProperty("require_keypress")&&(o.extra.allowVMCellphone=!o.call_forward.require_keypress),o},devicesFormatListData:function(t){var e=this,l={countDevices:0,devices:{}},a={},i=e.i18n.active().devices.unassignedDevice,s={cellphone:"fa fa-phone",smartphone:"icon-telicon-mobile-phone",landline:"icon-telicon-home",mobile:"icon-telicon-sprint-phone",softphone:"icon-telicon-soft-phone",sip_device:"icon-telicon-voip-phone",sip_uri:"icon-telicon-voip-phone",fax:"icon-telicon-fax",ata:"icon-telicon-ata"};n.each(t.users,function(t){a[t.id]=t}),n.each(t.devices,function(t){var n=!!t.owner_id;l.countDevices++,l.devices[t.id]={id:t.id,isAssigned:n+"",friendlyIconClass:s[t.device_type],macAddress:t.mac_address,name:t.name,userName:t.owner_id&&t.owner_id in a?a[t.owner_id].first_name+" "+a[t.owner_id].last_name:i,sortableUserName:t.owner_id&&t.owner_id in a?a[t.owner_id].last_name+" "+a[t.owner_id].first_name:i,enabled:t.enabled,type:t.device_type,friendlyType:e.i18n.active().devices.types[t.device_type],registered:!1,classStatus:t.enabled?"unregistered":"disabled",isRegistered:!1,sipUserName:t.username}}),n.each(t.status,function(t){if(t.registered===!0&&t.device_id in l.devices){var e=l.devices[t.device_id];e.registered=!0,e.enabled&&(e.classStatus="registered",e.isRegistered=!0)}});var r=[];return n.each(l.devices,function(t){r.push(t)}),r.sort(function(t,e){if(t.userName===e.userName){var n=t.name.toLowerCase(),l=e.name.toLowerCase();return n>l?1:n<l?-1:0}if(t.userName===i)return 1;if(e.userName===i)return-1;var a=t.sortableUserName.toLowerCase(),s=e.sortableUserName.toLowerCase();return a>s?1:a<s?-1:0}),l.devices=r,l},devicesSnakeToCamel:function(t){return t.replace(/(\_\w)/g,function(t){return t[1].toUpperCase()})},devicesDeleteDevice:function(t,e){var n=this;n.callApi({resource:"device.delete",data:{accountId:n.accountId,deviceId:t,data:{}},success:function(t){e(t.data)}})},devicesListClassifiers:function(t){var e=this;e.callApi({resource:"numbers.listClassifiers",data:{accountId:e.accountId},success:function(e){t(e.data)}})},devicesGetE911Numbers:function(t){var e=this;e.callApi({resource:"numbers.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(l){var a={};n.each(l.data.numbers,function(t,n){t.features.indexOf("e911")>=0&&(a[n]=e.devicesFormatNumber(t))}),t(a)}})},devicesFormatNumber:function(t){return"locality"in t&&(t.isoCountry=t.locality.country||"",t.friendlyLocality="city"in t.locality?t.locality.city+("state"in t.locality?", "+t.locality.state:""):""),t},devicesGetEditData:function(t,e){var n=this;l.parallel({listClassifiers:function(t){n.devicesListClassifiers(function(e){t(null,e)})},device:function(e){t.id?n.devicesGetDevice(t.id,function(t){e(null,t)}):e(null,t)},e911Numbers:function(t){n.devicesGetE911Numbers(function(e){t(null,e)})},accountLimits:function(t){n.callApi({resource:"limits.get",data:{accountId:n.accountId},success:function(e,n){t(null,e.data)}})}},function(l,a){var i=n.devicesFormatData(a,t);e&&e(i)})},devicesGetDevice:function(t,e,n){var l=this;l.callApi({resource:"device.get",data:{accountId:l.accountId,deviceId:t},success:function(t){e&&e(t.data)},error:function(t){n&&n(t)}})},devicesSaveDevice:function(t,e){var n=this;t.id?n.devicesUpdateDevice(t,e):n.devicesCreateDevice(t,e)},devicesCreateDevice:function(t,e){var n=this;n.callApi({resource:"device.create",data:{accountId:n.accountId,data:t},success:function(t){e(t.data)}})},devicesUpdateDevice:function(t,e,n){var l=this;l.callApi({resource:"device.update",data:{accountId:l.accountId,data:t,deviceId:t.id},success:function(t){e&&e(t.data)},error:function(t){n&&n(t)}})},devicesGetData:function(t){var e=this;l.parallel({users:function(t){e.callApi({resource:"user.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(null,e.data)}})},status:function(t){e.callApi({resource:"device.getStatus",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(null,e.data)}})},devices:function(t){e.callApi({resource:"device.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t(null,e.data)}})}},function(e,n){t&&t(n)})},devicesGetE911NumberAddress:function(t,e){var n=this;n.callApi({resource:"numbers.get",data:{accountId:n.accountId,phoneNumber:encodeURIComponent(t)},success:function(t,n){var l=t.data.e911.street_address,a=t.data.e911.locality,i=t.data.e911.postal_code,s=t.data.e911.region;e("undefined"!=typeof t.data.e911.extended_address?l+", "+t.data.e911.extended_address+"<br>"+a+", "+s+" "+i:l+", <br>"+a+", "+s+" "+i)}})},devicesGetIterator:function(t,e,n){t.hasOwnProperty("endpoint_brand")&&t.hasOwnProperty("endpoint_family")&&t.hasOwnProperty("endpoint_model")?l.request({resource:"provisioner.ui.getModel",data:{brand:t.endpoint_brand,family:t.endpoint_family,model:t.endpoint_model},success:function(t,n){e&&e(t.data.template)},error:function(t,e){}}):n&&n()},devicesListUsers:function(t){var e=this;e.callApi({resource:"user.list",data:{accountId:e.accountId},success:function(e,n){t.hasOwnProperty("success")&&t.success(e.data)},error:function(e,n){t.hasOwnProperty("error")&&t.error()}})}};return i}),define("apps/voip/submodules/groups/groups",["require","jquery","underscore","monster","monster-timezone","toastr"],function(t){var e=t("jquery"),n=t("underscore"),l=t("monster"),a=(t("monster-timezone"),t("toastr")),i={requests:{},subscribe:{"voip.groups.render":"groupsRender"},groupsRender:function(t){var a=this,t=t||{},i=t.parent||e(".right-content"),s=t.groupId,r=t.callback;a.groupsRemoveOverlay(),a.groupsGetData(function(t){var o=n.find(t.callflows,function(t){return!t.hasOwnProperty("type")});if(o)l.ui.alert("error",a.i18n.active().groups.outdatedGroupsError);else{var c,u=a.groupsFormatListData(t),d=n.size(u.groups),p=e(l.template(a,"groups-layout",{countGroups:d}));if(n.each(u.groups,function(t){c=l.template(a,"groups-row",t),p.find(".groups-rows").append(c)}),a.groupsBindEvents(p,i),i.empty().append(p),a.groupsCheckWalkthrough(),s){var m=i.find(".grid-row[data-id="+s+"] .grid-cell");l.ui.highlight(m)}0===d?(i.find(".grid-row.title").css("display","none"),i.find(".no-groups-row").css("display","block")):(i.find(".grid-row.title").css("display","block"),i.find(".no-groups-row").css("display","none")),r&&r()}})},groupsFormatListData:function(t){var e=this,l={},a=[];return n.each(t.groups,function(t){l[t.id]=t,l[t.id].extra=e.groupsGetGroupFeatures(t)}),n.each(t.callflows,function(t){if(t.group_id in l)if("userGroup"===t.type){var e=[],a=[];n.each(t.numbers,function(t){t.length<7?e.push(t):a.push(t)}),l[t.group_id].extra.listCallerId=[],e.length>0&&(l[t.group_id].extra.extension=e[0],n.each(e,function(e){l[t.group_id].extra.listCallerId.push(e)})),l[t.group_id].extra.additionalExtensions=e.length>1,a.length>0&&(l[t.group_id].extra.mainNumber=a[0],n.each(a,function(e){l[t.group_id].extra.listCallerId.push(e)})),l[t.group_id].extra.additionalNumbers=a.length>1,l[t.group_id].extra.callflowId=t.id}else"baseGroup"===t.type&&(l[t.group_id].extra.baseCallflowId=t.id)}),n.each(l,function(t){a.push(t)}),a.sort(function(t,e){return t.name>e.name?1:-1}),t.groups=a,t},groupsGetGroupFeatures:function(t){var e=this,l={mapFeatures:{call_recording:{icon:"fa fa-microphone",iconColor:"monster-primary-color",title:e.i18n.active().groups.callRecording.title},ringback:{icon:"fa fa-music",iconColor:"monster-yellow",title:e.i18n.active().groups.ringback.title},next_action:{icon:"fa fa-arrow-right",iconColor:"monster-green",title:e.i18n.active().groups.nextAction.title},forward:{icon:"fa fa-mail-forward",iconColor:"monster-orange",title:e.i18n.active().groups.forward.title},prepend:{icon:"fa fa-file-text-o",iconColor:"monster-pink",title:e.i18n.active().groups.prepend.title}},hasFeatures:!1};return n.each(l.mapFeatures,function(e,n){("features"in t&&t.features.indexOf(n)>=0||"smartpbx"in t&&n in t.smartpbx&&t.smartpbx[n].enabled)&&(e.active=!0,l.hasFeatures=!0)}),l},groupsBindEvents:function(t,a){var i=this;setTimeout(function(){t.find(".search-query").focus()}),l.ui.tooltips(t,{options:{container:"body"}}),t.find(".grid-row:not(.title) .grid-cell").on("click",function(){var n=e(this),a=n.data("type"),s=n.parents(".grid-row"),r=s.data("id");t.find(".edit-groups").slideUp("400",function(){e(this).empty()}),n.hasClass("active")?(t.find(".grid-cell").removeClass("active"),t.find(".grid-row").removeClass("active"),i.groupsRemoveOverlay(),n.css({position:"inline-block","z-index":"0"}),n.parent().siblings(".edit-groups").css({position:"block","z-index":"0","border-top-color":"#a6a7a9"})):(t.find(".grid-cell").removeClass("active"),t.find(".grid-row").removeClass("active"),n.toggleClass("active"),s.toggleClass("active"),n.css({position:"relative","z-index":"2"}),n.parents(".groups-cells").siblings(".edit-groups").css({position:"relative","z-index":"2","border-top-color":"transparent"}),i.groupsGetTemplate(a,r,function(t,n){l.ui.tooltips(t),s.find(".edit-groups").append(t).slideDown(),e("body").append(e('<div id="groups_container_overlay"></div>'))}))}),t.find(".groups-header .search-query").on("keyup",function(){var l=e(this).val().toLowerCase(),a=t.find(".groups-rows .grid-row:not(.title)"),i=t.find(".groups-rows .empty-search-row");n.each(a,function(t){var n=e(t);n.data("search").toLowerCase().indexOf(l)<0?n.hide():n.show()}),a.size()>0&&(a.is(":visible")?i.hide():i.show())}),t.on("click",".cancel-link",function(){t.find(".edit-groups").slideUp("400",function(){e(this).empty(),t.find(".grid-cell.active").css({position:"inline-block","z-index":"0"}),t.find(".grid-row.active .edit-groups").css({position:"block","z-index":"0"}),t.find(".grid-row.active").removeClass("active"),i.groupsRemoveOverlay(),t.find(".grid-cell.active").removeClass("active")})}),t.find(".groups-header .add-group").on("click",function(){i.groupsGetCreationData(function(t){var a=e(l.template(i,"groups-creation",t)),s=a.find("#form_group_creation");l.ui.validate(s),l.ui.mask(s.find("#inputExtension"),"extension"),a.find("#create_group").on("click",function(){if(l.ui.valid(s)){var e=i.groupsCreationMergeData(t,a);n.isEmpty(e.group.endpoints)?l.ui.alert("warning",i.i18n.active().groups.emptyEndpointsWarning):i.groupsCreate(e,function(t){r.dialog("close").remove(),i.groupsRender({groupId:t.id})})}}),a.find("#group_user_selector .selected-users, #group_user_selector .available-users").sortable({connectWith:".connectedSortable"}).disableSelection();var r=l.ui.dialog(a,{title:i.i18n.active().groups.dialogCreationGroup.title})})}),e("body").on("click","#groups_container_overlay",function(){t.find(".edit-groups").slideUp("400",function(){e(this).empty()}),i.groupsRemoveOverlay(),t.find(".grid-cell.active").css({position:"inline-block","z-index":"0"}),t.find(".grid-row.active").parent().siblings(".edit-groups").css({position:"block","z-index":"0"}),t.find(".grid-cell.active").removeClass("active"),t.find(".grid-row.active").removeClass("active")})},groupsCreationMergeData:function(t,n){var a=l.ui.getFormData("form_group_creation"),i="20",s="0",r={timeout:i,delay:s,endpoint_type:"user"},o=[],c={};n.find(".selected-users li").each(function(){var t=e(this).data("user_id"),n=e.extend(!0,{},r,{id:t});c[t]={type:"user"},o.push(n)});var u={group:{name:a.name,endpoints:c},baseCallflow:{numbers:[l.util.randomString(25)],name:a.name+" Base Group",flow:{module:"ring_group",children:{},data:{strategy:"simultaneous",timeout:parseInt(i)+parseInt(s),endpoints:o}},type:"baseGroup"},callflow:{numbers:[a.extra.extension],name:a.name+" Ring Group",flow:{module:"callflow",children:{_:{module:"play",children:{},data:{id:"system_media/vm-not_available_no_voicemail"}}},data:{id:""}},type:"userGroup"}};return u},groupsGetTemplate:function(t,e,n){var l=this;"name"===t?l.groupsGetNameTemplate(e,n):"numbers"===t?l.groupsGetNumbersTemplate(e,n):"extensions"===t?l.groupsGetExtensionsTemplate(e,n):"features"===t?l.groupsGetFeaturesTemplate(e,n):"members"===t&&l.groupsGetMembersTemplate(e,n)},groupsGetFeaturesTemplate:function(t,n){var a=this;a.groupsGetFeaturesData(t,function(t){template=e(l.template(a,"groups-features",t.group)),a.groupsBindFeatures(template,t),n&&n(template,t)})},groupsGetNameTemplate:function(t,n){var a=this;a.groupsGetNameData(t,function(t){template=e(l.template(a,"groups-name",t)),a.groupsBindName(template,t),n&&n(template,t)})},groupsGetNumbersTemplate:function(t,a){var i=this;i.groupsGetNumbersData(t,function(t){i.groupsFormatNumbersData(t,function(t){template=e(l.template(i,"groups-numbers",t)),n.each(t.assignedNumbers,function(t,e){t.phoneNumber=e;var n=template.find('[data-id="'+e+'"]'),a={target:n.find(".edit-features"),numberData:t,afterUpdate:function(t){l.ui.paintNumberFeaturesIcon(t,n.find(".features"))}};l.pub("common.numberFeaturesMenu.render",a)}),i.groupsBindNumbers(template,t),a&&a(template,t)})})},groupsGetExtensionsTemplate:function(t,n){var a=this;a.groupsGetNumbersData(t,function(t){a.groupsFormatNumbersData(t,function(t){template=e(l.template(a,"groups-extensions",t)),a.groupsBindExtensions(template,t),n&&n(template,t)})})},groupsGetMembersTemplate:function(t,n){var a=this;a.groupsGetMembersData(t,function(t){var t=a.groupsFormatMembersData(t);template=e(l.template(a,"groups-members",t)),l.pub("common.ringingDurationControl.render",{container:template.find(".members-container"),endpoints:t.extra.ringGroup,hasRemoveColumn:!0}),a.groupsBindMembers(template,t),n&&n(template,t)})},groupsBindFeatures:function(t,e){var n=this;t.find('.feature[data-feature="call_recording"]').on("click",function(){n.groupsRenderCallRecording(e)}),t.find('.feature[data-feature="ringback"]').on("click",function(){n.groupsRenderRingback(e)}),t.find('.feature[data-feature="next_action"]').on("click",function(){n.groupsRenderNextAction(e)}),t.find('.feature[data-feature="forward"]').on("click",function(){n.groupsRenderForward(e)}),t.find('.feature[data-feature="prepend"]').on("click",function(){n.groupsRenderPrepend(e)})},groupsRenderCallRecording:function(t){var n,a=this,i=l.util.findCallflowNode(t.callflow,"record_call"),s=e.extend(!0,{group:t.group},t.group.extra.mapFeatures.call_recording.active&&i?{url:i.data.url,format:i.data.format,timeLimit:i.data.time_limit}:{}),r=e(l.template(a,"groups-feature-call_recording",s)),o=r.find(".switch-state"),c=r.find("#call_recording_form");l.ui.validate(c,{rules:{time_limit:{digits:!0}}}),r.find(".cancel-link").on("click",function(){n.dialog("close").remove()}),o.on("change",function(){e(this).prop("checked")?r.find(".content").slideDown():r.find(".content").slideUp()}),r.find(".save").on("click",function(){if(l.ui.valid(c)){var i=l.ui.getFormData("call_recording_form"),s=o.prop("checked");if("smartpbx"in t.group||(t.group.smartpbx={}),"call_recording"in t.group.smartpbx||(t.group.smartpbx.call_recording={enabled:!1}),t.group.smartpbx.call_recording.enabled||s){t.group.smartpbx.call_recording.enabled=s;var r=e.extend(!0,{},t.callflow),u=l.util.findCallflowNode(r,"record_call")||l.util.findCallflowNode(r,"callflow");s?"record_call"===u.module?u.data=e.extend(!0,{action:"start"},i):(u.children={_:e.extend(!0,{},u)},u.module="record_call",u.data=e.extend(!0,{action:"start"},i)):"record_call"===u.module&&(u.module=u.children._.module,u.data=u.children._.data,u.children=u.children._.children),a.groupsUpdateCallflow(r,function(e){a.groupsUpdate(t.group,function(e){n.dialog("close").remove(),a.groupsRender({groupId:t.group.id})})})}else n.dialog("close").remove(),a.groupsRender({groupId:t.group.id})}}),n=l.ui.dialog(r,{title:t.group.extra.mapFeatures.call_recording.title,position:["center",20]})},groupsRenderRingback:function(t){for(var n=this,a="silence_stream://300000",i=t.baseCallflow.flow,s=void 0;"ring_group"!==i.module&&"_"in i.children;)i=i.children._;n.groupsListMedias(function(r){var o,c={group:t.group,silenceMedia:a,mediaList:r,media:i.data.ringback||""},u=e(l.template(n,"groups-feature-ringback",c)),d=u.find(".switch-state"),p=function(t){if(s=void 0,u.find(".upload-div input").val(""),u.find(".upload-div").slideUp(function(){u.find(".upload-toggle").removeClass("active")}),t){var e=u.find(".media-dropdown");e.append('<option value="'+t.id+'">'+t.name+"</option>"),e.val(t.id)}};u.find(".upload-input").fileUpload({inputOnly:!0,wrapperClass:"file-upload input-append",
btnText:n.i18n.active().groups.ringback.audioUploadButton,btnClass:"monster-button",maxSize:5,success:function(t){s=t[0]},error:function(t){t.hasOwnProperty("size")&&t.size.length>0&&l.ui.alert(n.i18n.active().groups.ringback.fileTooBigAlert),u.find(".upload-div input").val(""),s=void 0}}),u.find(".cancel-link").on("click",function(){o.dialog("close").remove()}),d.on("change",function(){e(this).prop("checked")?u.find(".content").slideDown():u.find(".content").slideUp()}),u.find(".upload-toggle").on("click",function(){e(this).hasClass("active")?u.find(".upload-div").stop(!0,!0).slideUp():u.find(".upload-div").stop(!0,!0).slideDown()}),u.find(".upload-cancel").on("click",function(){p()}),u.find(".upload-submit").on("click",function(){s?n.callApi({resource:"media.create",data:{accountId:n.accountId,data:{streamable:!0,name:s.name,media_source:"upload",description:s.name}},success:function(t,e){var l=t.data;n.callApi({resource:"media.upload",data:{accountId:n.accountId,mediaId:l.id,data:s.file},success:function(t,e){p(l)},error:function(t,e){n.callApi({resource:"media.delete",data:{accountId:n.accountId,mediaId:l.id,data:{}},success:function(t,e){}})}})}}):l.ui.alert(n.i18n.active().groups.ringback.emptyUploadAlert)}),u.find(".save").on("click",function(){var e=u.find(".media-dropdown option:selected").val(),l=d.prop("checked");"smartpbx"in t.group||(t.group.smartpbx={}),l?(i.data.ringback=e,"ringback"in t.group.smartpbx?t.group.smartpbx.ringback.enabled=!0:t.group.smartpbx.ringback={enabled:!0},n.groupsUpdateCallflow(t.baseCallflow,function(){n.groupsUpdate(t.group,function(e){o.dialog("close").remove(),n.groupsRender({groupId:t.group.id})})})):(i.data.ringback||t.group.smartpbx.ringback&&t.group.smartpbx.ringback.enabled)&&(delete i.data.ringback,"ringback"in t.group.smartpbx&&(t.group.smartpbx.ringback.enabled=!1),n.groupsUpdateCallflow(t.baseCallflow,function(){n.groupsUpdate(t.group,function(e){o.dialog("close").remove(),n.groupsRender({groupId:t.group.id})})}))}),o=l.ui.dialog(u,{title:t.group.extra.mapFeatures.ringback.title,position:["center",20]})})},groupsRenderNextAction:function(t){for(var a=this,i=t.callflow.flow,s=null;"callflow"!=i.module;)i=i.children._;"_"in i.children&&(s=i.children._.data.id);var r,o=e.extend(!0,{selectedEntity:s},t),c=e(l.template(a,"groups-feature-next_action",o)),u=c.find(".switch-state");c.find(".cancel-link").on("click",function(){r.dialog("close").remove()}),u.on("change",function(){e(this).prop("checked")?c.find(".content").slideDown():c.find(".content").slideUp()}),c.find(".save").on("click",function(){var i=c.find(".next-action-select option:selected"),s=u.prop("checked");if("smartpbx"in t.group||(t.group.smartpbx={}),"next_action"in t.group.smartpbx||(t.group.smartpbx.next_action={enabled:!1}),t.group.smartpbx.next_action.enabled||s){t.group.smartpbx.next_action.enabled=s;var o=e.extend(!0,{},t.callflow),d=l.util.findCallflowNode(o,"callflow");n.isArray(d)&&(d=d[0]),d.children={},s?d.children._={children:{},module:i.data("module"),data:{id:i.val()}}:d.children._={module:"play",children:{},data:{id:"system_media/vm-not_available_no_voicemail"}},a.groupsUpdateCallflow(o,function(e){a.groupsUpdate(t.group,function(e){r.dialog("close").remove(),a.groupsRender({groupId:t.group.id})})})}else r.dialog("close").remove(),a.groupsRender({groupId:t.group.id})}),r=l.ui.dialog(c,{title:t.group.extra.mapFeatures.next_action.title,position:["center",20]})},groupsRenderForward:function(t){var n,a=this,i=e(l.template(a,"groups-feature-forward",t)),s=i.find(".switch-state");i.find(".cancel-link").on("click",function(){n.dialog("close").remove()}),i.find(".save").on("click",function(){var e=s.prop("checked"),i=!e;t.group.smartpbx=t.group.smartpbx||{},t.group.smartpbx.forward=t.group.smartpbx.forward||{},t.group.smartpbx.forward.enabled=e,t.group.ignore_forward=i,t.baseCallflow.flow.data.ignore_forward=i,l.parallel({groups:function(e){a.groupsUpdate(t.group,function(t){e(null,t)})},ringGroup:function(e){a.groupsUpdateCallflow(t.baseCallflow,function(t){e(null,t)})}},function(t,e){n.dialog("close").remove(),a.groupsRender({groupId:e.groups.id})})}),n=l.ui.dialog(i,{title:t.group.extra.mapFeatures.forward.title,position:["center",20]})},groupsRenderPrepend:function(t){var n,a=this,i=l.util.findCallflowNode(t.callflow,"prepend_cid"),s=e.extend(!0,{group:t.group},t.group.extra.mapFeatures.prepend.active&&i?{caller_id_name_prefix:i.data.caller_id_name_prefix,caller_id_number_prefix:i.data.caller_id_number_prefix}:{}),r=e(l.template(a,"groups-feature-prepend",s)),o=r.find(".switch-state");r.find(".cancel-link").on("click",function(){n.dialog("close").remove()}),o.on("change",function(){e(this).prop("checked")?r.find(".content").slideDown():r.find(".content").slideUp()}),r.find(".save").on("click",function(){var s=o.prop("checked"),r=e.extend(!0,{action:"prepend"},l.ui.getFormData("prepend_form"));if("smartpbx"in t.group||(t.group.smartpbx={}),"prepend"in t.group.smartpbx||(t.group.smartpbx.prepend={enabled:!1}),t.group.smartpbx.prepend.enabled||s){t.group.smartpbx.prepend.enabled=s;var c=e.extend(!0,{},t.callflow);s?"prepend_cid"!==c.flow.module?c.flow={children:{_:e.extend(!0,{},t.callflow.flow)},module:"prepend_cid",data:r}:c.flow.data=r:i&&(c.flow=e.extend(!0,{},i.children._)),a.groupsUpdateCallflow(c,function(e){a.groupsUpdate(t.group,function(e){n.dialog("close").remove(),a.groupsRender({groupId:t.group.id})})})}else n.dialog("close").remove(),a.groupsRender({groupId:t.group.id})}),n=l.ui.dialog(r,{title:t.group.extra.mapFeatures.prepend.title,position:["center",20]})},groupsBindName:function(t,n){var i=this,s=t.find("#form-name");l.ui.validate(s),t.find(".save-group").on("click",function(){if(l.ui.valid(s)){var t=l.ui.getFormData("form-name");n=e.extend(!0,{},n,t),i.groupsUpdate(n,function(t){i.groupsRender({groupId:t.id})})}}),t.find(".delete-group").on("click",function(){l.ui.confirm(i.i18n.active().groups.confirmDeleteGroup,function(){i.groupsDelete(n.id,function(t){a.success(l.template(i,"!"+i.i18n.active().groups.groupDeleted,{name:t.group.name})),i.groupsRender()})})})},groupsBindNumbers:function(t,i){var s=this,r=s.i18n.active().groups.toastrMessages,o="",c=[];t.on("click",".list-assigned-items .remove-number",function(){var n=e(this),l=n.parents(".item-row");c.push(l.data("id")),l.slideUp(function(){l.remove(),t.find(".list-assigned-items .item-row").is(":visible")||t.find(".list-assigned-items .empty-row").slideDown(),t.find(".spare-link").removeClass("disabled")})}),t.on("keyup",".list-wrapper .unassigned-list-header .search-query",function(){var l,a=t.find(".list-unassigned-items .item-row"),i=t.find(".list-unassigned-items .empty-search-row");o=e(this).val().toLowerCase(),n.each(a,function(t){l=e(t),l.data("search").toLowerCase().indexOf(o)<0?l.hide():l.show()}),a.size()>0&&(a.is(":visible")?i.hide():i.show())}),t.on("click",".actions .spare-link:not(.disabled)",function(a){a.preventDefault();var i=(e(this),{accountName:l.apps.auth.currentAccount.name,accountId:s.accountId,ignoreNumbers:e.map(t.find(".item-row"),function(t){return e(t).data("id")}),extraNumbers:c,callback:function(a,i){t.find(".empty-row").hide(),n.each(a,function(a,i){t.find(".list-assigned-items").append(e(l.template(s,"groups-numbersItemRow",{number:a})));var r=t.find('[data-id="'+a.phoneNumber+'"]'),o={target:r.find(".edit-features"),numberData:a,afterUpdate:function(t){l.ui.paintNumberFeaturesIcon(t,r.find(".features"))}};l.pub("common.numberFeaturesMenu.render",o),c=n.without(c,a.phoneNumber)}),l.ui.tooltips(t),0===i&&t.find(".spare-link").addClass("disabled")}});l.pub("common.numbers.dialogSpare",i)}),t.on("click",".actions .buy-link",function(a){a.preventDefault(),l.pub("common.buyNumbers",{searchType:e(this).data("type"),callbacks:{success:function(a){n.each(a,function(n,a){n.phoneNumber=n.id;var i=e(l.template(s,"groups-numbersItemRow",{number:n})),r={target:i.find(".edit-features"),numberData:n,afterUpdate:function(t){l.ui.paintNumberFeaturesIcon(t,i.find(".features"))}};l.pub("common.numberFeaturesMenu.render",r),l.ui.tooltips(i),t.find(".list-unassigned-items .empty-row").hide(),t.find(".list-unassigned-items").append(i)})}}})}),t.on("click",".save-numbers",function(){var n=e(this),i=n.parents(".grid-row"),o=i.data("callflow_id"),c=i.data("name");dataNumbers=[],t.find(".item-row").each(function(t,n){dataNumbers.push(e(n).data("id"))}),s.groupsUpdateNumbers(o,dataNumbers,function(t){a.success(l.template(s,"!"+r.numbersUpdated,{name:c})),s.groupsRender({groupId:t.group_id})})})},groupsBindExtensions:function(t,i){var s=this,r=s.i18n.active().groups.toastrMessages,o=[];t.on("click",".save-extensions",function(){var n=[],i=e(this).parents(".grid-row"),o=i.data("callflow_id"),c=i.data("name");t.find(".list-assigned-items .item-row").each(function(t,l){var a,l=e(l);a=(l.data("id")?l.data("id"):l.find(".input-extension").val())+"",n.push(a)}),s.groupsUpdateExtensions(o,n,function(t){a.success(l.template(s,"!"+r.numbersUpdated,{name:c})),s.groupsRender({groupId:t.group_id})})}),t.on("click","#add_extensions",function(){var a=function(n){var n=o[o.length-1]+1,a={recommendedExtension:n},i=e(l.template(s,"groups-newExtension",a)),r=t.find(".list-assigned-items");l.ui.mask(i.find(".input-extension"),"extension"),o.push(n),r.find(".empty-row").hide(),r.append(i)};n.isEmpty(o)?s.groupsListExtensions(function(t){o=t,a()}):a()}),t.on("click",".remove-extension",function(){var t=e(this).parents(".item-row"),n=t.siblings(".empty-row");0===t.siblings(".item-row").size()&&n.show(),t.remove()}),t.on("click",".cancel-extension-link",function(){var t=parseInt(e(this).siblings("input").val()),n=o.indexOf(t);n>-1&&o.splice(n,1),e(this).parents(".item-row").remove()})},groupsBindMembers:function(t,a){var i=this;t.find(".save-groups").on("click",function(){var e=a.id;l.pub("common.ringingDurationControl.getEndpoints",{container:t,callback:function(t){n.each(t,function(t){delete t.name,t.endpoint_type="user"}),i.groupsUpdateBaseRingGroup(e,t,function(t){i.groupsRender({groupId:e})})}})}),t.on("click",".add-user-link",function(){var i=e.map(t.find(".grid-time-row[data-id]"),function(t){return e(t).data("id")}),s=n.filter(a.extra.remainingUsers,function(t){return i.indexOf(t.id)===-1});l.pub("common.monsterListing.render",{dataList:s,dataType:"users",okCallback:function(e){n.each(e,function(e){var n={id:e.id,timeout:20,delay:0,endpoint_type:"user",name:e.name};l.pub("common.ringingDurationControl.addEndpoint",{container:t.find(".members-container"),endpoint:n,hasRemoveColumn:!0})})}})})},groupsGetCreationData:function(t){var e=this;e.groupsListUsers(function(e){var n={extra:{listUsers:e}};t&&t(n)})},groupsListUsers:function(t){var e=this;e.callApi({resource:"user.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(e.data)}})},groupsGetFeaturesData:function(t,e){var a=this;l.parallel({group:function(e){a.groupsGetGroup(t,function(t){e(null,t)})},users:function(t){a.groupsListUsers(function(e){t(null,e)})},callflow:function(e){a.groupsGetRingGroup(t,function(t){e(null,t)})},baseCallflow:function(e){a.groupsGetBaseRingGroup(t,function(t){e(null,t)})},voicemails:function(t){a.groupsListVMBoxes(function(e){t(null,e)})},mainMenu:function(t){a.callApi({resource:"callflow.list",data:{accountId:a.accountId,filters:{filter_type:"main"}},success:function(e){t(null,e.data&&e.data.length>0?n.find(e.data,function(t){return"MainOpenHoursMenu"===t.numbers[0]}):null)}})},userCallflows:function(t){a.callApi({resource:"callflow.list",data:{accountId:a.accountId,filters:{has_key:"owner_id",filter_type:"mainUserCallflow"}},success:function(e){t(null,e.data)}})}},function(t,l){l.group.extra=a.groupsGetGroupFeatures(l.group),l.userCallflows=n.filter(l.userCallflows,function(t){var e=n.find(l.users,function(e){return t.owner_id===e.id});return!!e&&(t.userName=e.first_name+" "+e.last_name,!0)}),e&&e(l)})},groupsGetNameData:function(t,e){var n=this;n.groupsGetGroup(t,function(t){e&&e(t)})},groupsFormatNumbersData:function(t,e){var l={emptyExtensions:!0,extensions:[],emptyAssigned:!0,assignedNumbers:{},countSpare:0,unassignedNumbers:{}};n.each(t.numbers.numbers,function(t,e){t.localityEnabled="locality"in t,t.hasOwnProperty("used_by")&&""!==t.used_by||(l.unassignedNumbers[e]=t,l.countSpare++)}),"groupCallflow"in t.callflow&&"numbers"in t.callflow.groupCallflow&&n.each(t.callflow.groupCallflow.numbers,function(e){e in t.numbers.numbers?(t.numbers.numbers[e].isLocal=t.numbers.numbers[e].features.indexOf("local")>-1,l.assignedNumbers[e]=t.numbers.numbers[e]):l.extensions.push(e)}),l.emptyExtensions=n.isEmpty(l.extensions),l.emptyAssigned=n.isEmpty(l.assignedNumbers),l.emptySpare=n.isEmpty(l.unassignedNumbers),e&&e(l)},groupsGetNumbersData:function(t,e){var n=this;l.parallel({callflow:function(e){var l={};n.callApi({resource:"callflow.list",data:{accountId:n.accountId,filters:{filter_group_id:t,filter_type:"userGroup"}},success:function(t){t.data.length>0?n.groupsGetCallflow(t.data[0].id,function(t){l.groupCallflow=t,e&&e(null,l)}):e&&e(null,null)}})},numbers:function(t){n.callApi({resource:"numbers.list",data:{accountId:n.accountId,filters:{paginate:"false"}},success:function(e){t&&t(null,e.data)}})}},function(t,n){e&&e(n)})},groupsGetMembersData:function(t,e){var n=this;l.parallel({users:function(t){n.groupsListUsers(function(e){t(null,e)})},group:function(e){n.groupsGetGroup(t,function(t){e(null,t)})},baseCallflow:function(e){n.groupsGetBaseRingGroup(t,function(t){e(null,t)})}},function(t,n){e&&e(n)})},groupsFormatMembersData:function(t){var e=this,l={},a=t.baseCallflow.flow;n.each(t.users,function(t){l[t.id]=t});var i=a.data.endpoints;return n.each(i,function(t){t.delay=parseInt(t.delay),t.timeout=parseInt(t.timeout),t.id in l?t.name=l[t.id].first_name+" "+l[t.id].last_name:(t.name=e.i18n.active().groups.userDeleted,t.deleted=!0)}),t.group.extra={ringGroup:i,remainingUsers:l},t.group},groupsUpdateNumbers:function(t,e,l){var a=this;a.groupsGetCallflow(t,function(t){n.each(t.numbers,function(t){t.length<7&&e.push(t)}),t.numbers=e,a.groupsUpdateCallflow(t,function(t){l&&l(t)})})},groupsUpdateExtensions:function(t,e,l){var a=this;a.groupsGetCallflow(t,function(t){n.each(t.numbers,function(t){t.length>6&&e.push(t)}),t.numbers=e,a.groupsUpdateCallflow(t,function(t){l&&l(t)})})},groupsListExtensions:function(t){var e=this,l=[];e.groupsListCallflows(function(e){n.each(e,function(t){n.each(t.numbers,function(t){if(t.length<7){var e=parseInt(t);e>1&&l.push(e)}})}),l.sort(function(t,e){var n=parseInt(t),l=parseInt(e),a=-1;return n>0&&l>0&&(a=n>l),a}),t&&t(l)})},groupsCheckWalkthrough:function(){var t=this;t.groupsHasWalkthrough(function(){t.groupsShowWalkthrough(function(){t.groupsUpdateWalkthroughFlagUser()})})},groupsHasWalkthrough:function(t){var e=this,n=e.uiFlags.user.get("showGroupsWalkthrough");n!==!1&&t&&t()},groupsUpdateWalkthroughFlagUser:function(t){var e=this,n=e.uiFlags.user.set("showGroupsWalkthrough",!1);e.groupsUpdateOriginalUser(n,function(e){t&&t(e)})},groupsShowWalkthrough:function(t){var n=this,a=e("#voip_container"),i=a.find(".grid-row:not(.title):first"),s=[{element:a.find(".add-group")[0],intro:n.i18n.active().groups.walkthrough.steps[1],position:"right"},{element:i.find(".walkthrough-group")[0],intro:n.i18n.active().groups.walkthrough.steps[2],position:"right"},{element:i.find(".phone-number")[0],intro:n.i18n.active().groups.walkthrough.steps[3],position:"bottom"},{element:i.find(".features")[0],intro:n.i18n.active().groups.walkthrough.steps[4],position:"left"}];l.ui.stepByStep(s,function(){t&&t()})},groupsListCallflows:function(t){var e=this;e.callApi({resource:"callflow.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(e.data)}})},groupsListMedias:function(t){var e=this;e.callApi({resource:"media.list",data:{accountId:e.accountId,filters:{paginate:"false",key_missing:"type"}},success:function(e){t&&t(e.data)}})},groupsListVMBoxes:function(t){var e=this;e.callApi({resource:"voicemail.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(e.data)}})},groupsCreate:function(t,e){var n=this;n.callApi({resource:"group.create",data:{accountId:n.accountId,data:t.group},success:function(l){t.callflow.group_id=l.data.id,t.baseCallflow.group_id=l.data.id,n.callApi({resource:"callflow.create",data:{accountId:n.accountId,data:t.baseCallflow},success:function(a){t.callflow.flow.data.id=a.data.id,n.callApi({resource:"callflow.create",data:{accountId:n.accountId,data:t.callflow},success:function(t){e&&e(l.data)},error:function(){n.callApi({resource:"group.delete",data:{accountId:n.accountId,groupId:l.data.id}}),n.callApi({resource:"callflow.delete",data:{accountId:n.accountId,callflowId:a.data.id}})}})},error:function(){n.callApi({resource:"group.delete",data:{accountId:n.accountId,groupId:l.data.id}})}})}})},groupsGetRingGroup:function(t,e,n){var l=this;l.callApi({resource:"callflow.list",data:{accountId:l.accountId,filters:{filter_group_id:t,filter_type:"userGroup"}},success:function(t){t.data.length>0?l.groupsGetCallflow(t.data[0].id,function(t){e&&e(t)}):(n&&n(t),a.error(l.i18n.active().groups.ringGroupMissing))},error:function(t){n&&n(t)}})},groupsGetBaseRingGroup:function(t,e,n){var l=this;l.callApi({resource:"callflow.list",data:{accountId:l.accountId,filters:{filter_group_id:t,filter_type:"baseGroup"}},success:function(t){t.data.length>0?l.groupsGetCallflow(t.data[0].id,function(t){e&&e(t)}):(n&&n(t),a.error(l.i18n.active().groups.ringGroupMissing))},error:function(t){n&&n(t)}})},groupsComputeTimeout:function(t){var e=0;return n.each(t,function(t){var n=parseInt(t.delay),l=parseInt(t.timeout),a=n+l;a>e&&(e=a)}),e},groupsUpdateBaseRingGroup:function(t,e,a){var i=this;l.parallel({group:function(l){i.groupsGetGroup(t,function(t){var a=!1;n.each(e,function(e){return e.id in t.endpoints?void delete t.endpoints[e.id]:(a=!0,!1)}),n.isEmpty(t.endpoints)||(a=!0),a?(t.endpoints={},n.each(e,function(e){t.endpoints[e.id]={type:"user"}}),i.groupsUpdate(t,function(t){l&&l(null,t)})):l&&l(null,t)})},callflow:function(n){i.groupsGetBaseRingGroup(t,function(t){t.flow.data.endpoints=e,t.flow.data.timeout=i.groupsComputeTimeout(e),i.groupsUpdateCallflow(t,function(t){n&&n(null,t)})})}},function(t,e){a&&a(e)})},groupsUpdate:function(t,e){var n=this;delete t.extra,n.callApi({resource:"group.update",data:{accountId:n.accountId,groupId:t.id,data:t},success:function(t){e&&e(t.data)}})},groupsUpdateCallflow:function(t,e){var n=this;delete t.metadata,n.callApi({resource:"callflow.update",data:{accountId:n.accountId,callflowId:t.id,data:t},success:function(t){e&&e(t.data)}})},groupsGetGroup:function(t,e){var n=this;n.callApi({resource:"group.get",data:{groupId:t,accountId:n.accountId},success:function(t){e&&e(t.data)}})},groupsDelete:function(t,e){var n=this;l.parallel({group:function(e){n.callApi({resource:"group.delete",data:{accountId:n.accountId,groupId:t},success:function(t){e&&e(null,t.data)}})},callflow:function(e){n.groupsGetRingGroup(t,function(t){n.callApi({resource:"callflow.delete",data:{accountId:n.accountId,callflowId:t.id},success:function(t){e&&e(null,t)}})},function(t){e&&e(null,t)})},baseCallflow:function(e){n.groupsGetBaseRingGroup(t,function(t){n.callApi({resource:"callflow.delete",data:{accountId:n.accountId,callflowId:t.id},success:function(t){e&&e(null,t)}})},function(t){e&&e(null,t)})}},function(t,n){e&&e(n)})},groupsGetCallflow:function(t,e){var n=this;n.callApi({resource:"callflow.get",data:{accountId:n.accountId,callflowId:t},success:function(t){e&&e(t.data)}})},groupsGetData:function(t){var e=this;l.parallel({groups:function(t){e.callApi({resource:"group.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t(null,e.data)}})},callflows:function(t){e.callApi({resource:"callflow.list",data:{accountId:e.accountId,filters:{has_key:"group_id"}},success:function(e){t(null,e.data)}})}},function(e,n){t&&t(n)})},groupsRemoveOverlay:function(){e("body").find("#groups_container_overlay").remove()},groupsUpdateOriginalUser:function(t,e){var n=this;n.callApi({resource:"user.update",data:{userId:t.id,accountId:l.apps.auth.originalAccount.id,data:t},success:function(t){e&&e(t.data)}})}};return i}),define("apps/voip/submodules/numbers/numbers",["require","jquery","monster"],function(t){var e=t("jquery"),n=t("monster"),l={requests:{},subscribe:{"voip.numbers.render":"numbersRender"},numbersRender:function(t){var l=t.parent||e("#ws_content"),a=t.callback;n.pub("common.numbers.render",{container:l,viewType:"pbx",callbackAfterRender:a})}};return l}),define("apps/voip/submodules/strategy/strategy",["require","jquery","underscore","monster","monster-timezone","toastr"],function(t){var e=t("jquery"),n=t("underscore"),l=t("monster"),a=t("monster-timezone"),i=t("toastr"),s={requests:{},subscribe:{"voip.strategy.render":"strategyRender","auth.currentAccountUpdated":"_strategyOnCurrentAccountUpdated"},weekdays:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],weekdayLabels:["MainMonday","MainTuesday","MainWednesday","MainThursday","MainFriday","MainSaturday","MainSunday"],subCallflowsLabel:["MainOpenHours","MainAfterHours","MainLunchHours","MainHolidays"],featureCodes:[{name:"call_forward[action=deactivate]",number:"73",callflowNumber:"*73",moduleName:"call_forward",actionName:"deactivate"},{name:"call_forward[action=activate]",number:"72",callflowNumber:"*72",moduleName:"call_forward",actionName:"activate"},{name:"call_forward[action=toggle]",number:"74",pattern:"^\\*74([0-9]*)$",moduleName:"call_forward",actionName:"toggle"},{name:"call_forward[action=update]",number:"56",callflowNumber:"*56",moduleName:"call_forward",actionName:"update"},{name:"hotdesk[action=login]",number:"11",callflowNumber:"*11",moduleName:"hotdesk",actionName:"login"},{name:"hotdesk[action=logout]",number:"12",callflowNumber:"*12",moduleName:"hotdesk",actionName:"logout"},{name:"hotdesk[action=toggle]",number:"13",callflowNumber:"*13",moduleName:"hotdesk",actionName:"toggle"},{name:"voicemail[action=check]",number:"97",callflowNumber:"*97",moduleName:"voicemail",actionName:"check"},{name:"voicemail[single_mailbox_login]",number:"98",callflowNumber:"*98",moduleName:"voicemail",actionName:"check",extraData:{single_mailbox_login:!0}},{name:'voicemail[action="direct"]',number:"*",pattern:"^\\*\\*([0-9]*)$",moduleName:"voicemail",actionName:"compose"},{name:"intercom",number:"0",pattern:"^\\*0([0-9]*)$",moduleName:"intercom",actionName:"compose"},{name:"privacy[mode=full]",number:"67",pattern:"^\\*67([0-9]*)$",moduleName:"privacy",actionName:"full"},{name:"park_and_retrieve",number:"3",pattern:"^\\*3([0-9]*)$",moduleName:"park",actionName:"auto"},{name:"valet",number:"4",callflowNumber:"*4",moduleName:"park",actionName:"park"},{name:"retrieve",number:"5",pattern:"^\\*5([0-9]*)$",moduleName:"park",actionName:"retrieve"},{name:"move",number:"6683",callflowNumber:"6683",moduleName:"move"}],strategyRender:function(t){var n,a=this,t=t||{},i=t.parent||e(".right-content"),s=t.openElement,r=t.callback;l.parallel({temporalRules:function(t){a.strategyGetTemporalRules(function(e){t(null,e)})},callflows:function(t){a.strategyGetMainCallflows(function(e){t(null,e)})},callEntities:function(t){a.strategyGetCallEntities(function(e){t(null,e)})},voicemails:function(t){a.strategyGetVoicesmailBoxes(function(e){t(null,e)})},directories:function(t){a.strategyListDirectories(function(e){t(null,e)})}},function(t,o){var c=o.callflows.MainCallflow.numbers.length>1,u=o.callflows.MainConference.numbers.length>0&&"undefinedconf"!==o.callflows.MainConference.numbers[0],d=o.callflows.MainFaxing.numbers.length>0&&"undefinedfaxing"!==o.callflows.MainFaxing.numbers[0],p={mainNumbers:c?o.callflows.MainCallflow.numbers.slice(1):[a.i18n.active().strategy.noNumberTitle],confNumbers:u?o.callflows.MainConference.numbers:[a.i18n.active().strategy.noNumberTitle],customConfGreeting:!!(o.callflows.MainConference&&"welcome_prompt"in o.callflows.MainConference.flow.data),faxingNumbers:d?o.callflows.MainFaxing.numbers:[a.i18n.active().strategy.noNumberTitle]};if(n=e(l.template(a,"strategy-layout",p)),a.strategyBindEvents(n,o),i.empty().append(n),l.ui.tooltips(n),c?(n.find(".element-container.helper").css("display","none"),n.find(".element-container.main-number").css("margin-top","0px"),a.strategyCheckSecondWalkthrough()):(n.find(".element-container.strategy-hours,.element-container.strategy-holidays,.element-container.strategy-calls").hide(),n.find(".element-container.helper").css("display","block"),n.find(".element-container.main-number").css("margin-top","10px"),a.strategyCheckFirstWalkthrough()),s){var m=n.find(".element-container."+s+":visible");m.length>0&&a.strategyRefreshTemplate(m,o,function(){m.addClass("open"),m.find(".element-content").show()})}r&&r()}),a.strategyCreateFeatureCodes()},strategyCheckFirstWalkthrough:function(){var t=this,e="showStrategyFirstWalkthrough";t.strategyHasWalkthrough(e,function(){t.strategyShowFirstWalkthrough(function(){t.strategyUpdateWalkthroughFlagUser(e)})})},strategyCheckSecondWalkthrough:function(){var t=this,e="showStrategySecondWalkthrough";t.strategyHasWalkthrough(e,function(){t.strategyShowSecondWalkthrough(function(){t.strategyUpdateWalkthroughFlagUser(e)})})},strategyHasWalkthrough:function(t,e){var n=this,l=n.uiFlags.user.get(t);l!==!1&&e&&e()},strategyUpdateWalkthroughFlagUser:function(t,e){var n=this,l=n.uiFlags.user.set(t,!1);n.strategyUpdateOriginalUser(l,function(t){e&&e(t)})},strategyShowFirstWalkthrough:function(t){var n=this,a=e("#strategy_container"),i=[{element:a.find(".element-container.main-number")[0],intro:n.i18n.active().strategy.walkthrough.first.steps[1],position:"bottom"}];l.ui.stepByStep(i,function(){t&&t()})},strategyShowSecondWalkthrough:function(t){var n=this,a=e("#strategy_container"),i=[{element:a.find(".element-container.strategy-hours")[0],intro:n.i18n.active().strategy.walkthrough.second.steps[1],position:"bottom"},{element:a.find(".element-container.strategy-holidays")[0],intro:n.i18n.active().strategy.walkthrough.second.steps[2],position:"bottom"},{element:a.find(".element-container.strategy-calls")[0],intro:n.i18n.active().strategy.walkthrough.second.steps[3],position:"top"},{element:a.find(".element-container.strategy-confnum")[0],intro:n.i18n.active().strategy.walkthrough.second.steps[4],position:"top"},{element:a.find(".element-container.strategy-faxingnum")[0],intro:n.i18n.active().strategy.walkthrough.second.steps[5],position:"top"}];l.ui.stepByStep(i,function(){t&&t()})},strategyBindEvents:function(t,n){var l=this,a=t.find(".element-container"),i=t.find(".element-container.main-number .element-content"),s=t.find(".element-container.strategy-confnum .element-content"),r=t.find(".element-container.strategy-faxingnum .element-content"),o=t.find(".element-container.strategy-hours .element-content"),c=t.find(".element-container.strategy-holidays .element-content"),u=t.find(".element-container.strategy-calls .element-content");t.find(".element-header-inner").on("click",function(t){var i=e(this).parents(".element-container");i.hasClass("open")?i.find(".element-content").slideUp(function(){i.removeClass("open")}):(e.each(a,function(){var t=e(this);t.hasClass("open")&&t.find(".element-content").slideUp(function(){t.removeClass("open")})}),l.strategyRefreshTemplate(i,n,function(){i.addClass("open"),i.find(".element-content").slideDown()}))}),t.find(".element-container").on("click",".cancel-link",function(t){t.preventDefault();var n=e(this).parents(".element-container");n.find(".element-content").slideUp(function(){n.removeClass("open")})}),l.strategyNumbersBindEvents(i,n),l.strategyConfNumBindEvents(s,n),l.strategyFaxingNumBindEvents(r,n),l.strategyHoursBindEvents(o,n),l.strategyHolidaysBindEvents(c,n),l.strategyCallsBindEvents(u,n)},strategyRefreshTemplate:function(t,i,s){var r=this,o=t.data("template");switch(o){case"numbers":r.strategyListAccountNumbers(function(a){var c=i.callflows.MainCallflow,u=c.numbers,d={numbers:e.map(u,function(t,n){if("0"!==t){var l={number:{id:t}};return a.hasOwnProperty(t)&&(l.number=e.extend(!0,a[t],l.number)),l}}),spareLinkEnabled:n.countBy(a,function(t){return t.used_by?"assigned":"spare"}).spare>0},p=e(l.template(r,"strategy-"+o,d));n.each(d.numbers,function(t){t.number.phoneNumber=t.number.id;var e=p.find('[data-phonenumber="'+t.number.id+'"]'),n={target:e.find(".edit-features"),numberData:t.number,afterUpdate:function(t){l.ui.paintNumberFeaturesIcon(t,e.find(".features"))}};l.pub("common.numberFeaturesMenu.render",n)}),l.ui.tooltips(p),t.find(".element-content").empty().append(p),s&&s()});break;case"confnum":r.strategyListAccountNumbers(function(a){var c=i.callflows.MainConference,u=c.numbers,d={numbers:e.map(u,function(t,e){if("undefinedconf"!==t)return{number:t}}),spareLinkEnabled:n.countBy(a,function(t){return t.used_by?"assigned":"spare"}).spare>0},p=l.template(r,"strategy-"+o,d);t.find(".element-content").empty().append(p),s&&s()});break;case"faxingnum":r.strategyListAccountNumbers(function(a){var c=i.callflows.MainFaxing,u=c.numbers,d={numbers:e.map(u,function(t,e){if("undefinedfaxing"!==t)return{number:t}}),actionLinksEnabled:n.isEmpty(c.flow.data),spareLinkEnabled:n.countBy(a,function(t){return t.used_by?"assigned":"spare"}).spare>0},p=l.template(r,"strategy-"+o,d);t.find(".element-content").empty().append(p),s&&s()});break;case"hours":var c,u=!(!l.apps.auth.currentUser.ui_flags||!l.apps.auth.currentUser.ui_flags.twelve_hours_mode),d=function(t){var e=parseInt(t/3600)%24,n=(parseInt(t/60)%60).toString(),l="";return u&&(l=e>=12?"PM":"AM",e=e>12?e-12:0===e?12:e),e.toString()+":"+(n.length<2?"0"+n:n)+l},p=i.temporalRules.weekdays,m={alwaysOpen:!0,companyTimezone:a.formatTimezone(i.callflows.MainCallflow.flow.data.timezone||l.apps.auth.currentAccount.timezone),days:[],lunchbreak:{enabled:i.temporalRules.lunchbreak.id in i.callflows.MainCallflow.flow.children,from:d(parseInt(i.temporalRules.lunchbreak.time_window_start,10)),to:d(parseInt(i.temporalRules.lunchbreak.time_window_stop,10))}};n.each(r.weekdayLabels,function(t){var e=p[t].id in i.callflows.MainCallflow.flow.children;m.days.push({name:t,label:r.i18n.active().strategy.weekdays[t.substring(4).toLowerCase()],open:e,from:d(parseInt(p[t].time_window_start,10)),to:d(parseInt(p[t].time_window_stop,10))}),e&&(m.alwaysOpen=!1)}),m.alwaysOpen&&n.each(m.days,function(t){"MainSaturday"!==t.name&&"MainSunday"!==t.name&&(t.open=!0,t.from=u?"9:00AM":"9:00",t.to=u?"5:00PM":"17:00")}),c=e(l.template(r,"strategy-"+o,m));var f={rules:{"lunchbreak.from":{},"lunchbreak.to":{greaterDate:c.find('input[name="lunchbreak.from"]')}},groups:{lunchbreak:"lunchbreak.from lunchbreak.to"},errorPlacement:function(t,e){t.appendTo(e.parent())}};u?(f.rules["lunchbreak.from"].time12h=!0,f.rules["lunchbreak.to"].time12h=!0):(f.rules["lunchbreak.from"].time24h=!0,f.rules["lunchbreak.to"].time24h=!0),n.each(r.weekdayLabels,function(t){f.rules["weekdays."+t+".from"]={},f.rules["weekdays."+t+".to"]={greaterDate:c.find('input[name="weekdays.'+t+'.from"]')},u?(f.rules["weekdays."+t+".from"].time12h=!0,f.rules["weekdays."+t+".to"].time12h=!0):(f.rules["weekdays."+t+".from"].time24h=!0,f.rules["weekdays."+t+".to"].time24h=!0),f.groups[t]="weekdays."+t+".from weekdays."+t+".to"}),l.ui.validate(c.find("#strategy_custom_hours_form"),f),t.find(".element-content").empty().append(c),l.ui.timepicker(c.find(".timepicker")),s&&s();break;case"holidays":var m={enabled:!e.isEmptyObject(i.temporalRules.holidays)},c=e(l.template(r,"strategy-"+o,m)),v=c.find(".holidays-list");t.find(".element-content").empty().append(c),v.empty(),n.each(i.temporalRules.holidays,function(t,e){if(t.id in i.callflows.MainCallflow.flow.children){var n,l={id:t.id,name:t.name,fromMonth:t.month};t.hasOwnProperty("ordinal")?(n="advanced",l.ordinal=t.ordinal,l.wday=t.wdays[0]):t.hasOwnProperty("viewData")?(n="range",l.fromDay=t.viewData.fromDay,l.fromMonth=t.viewData.fromMonth,
l.toDay=t.viewData.toDay,l.toMonth=t.viewData.toMonth,l.set=!0):(l.fromDay=t.days[0],t.days.length>1?(n="range",l.toDay=t.days[t.days.length-1],l.toMonth=t.month):n="single"),r.strategyRenderHolidayLine(v,n,l)}}),s&&s();break;case"calls":var c,m={lunchbreak:i.temporalRules.lunchbreak.id in i.callflows.MainCallflow.flow.children,holidays:!e.isEmptyObject(i.temporalRules.holidays),afterhours:!1};n.each(r.weekdayLabels,function(t){i.temporalRules.weekdays[t].id in i.callflows.MainCallflow.flow.children&&(m.afterhours=!0)}),c=e(l.template(r,"strategy-"+o,m)),t.find(".element-content").empty().append(c),e.each(c.find(".callflow-tab"),function(){var t=e(this),a=t.data("callflow"),s=a+"Menu",o={callOption:{type:"default"},hideAdvancedCallflows:n.isEmpty(i.callEntities.advancedCallflows),callflow:a,callEntities:r.strategyGetCallEntitiesDropdownData(i.callEntities,!0,!0),voicemails:i.voicemails,tabMessage:r.i18n.active().strategy.calls.callTabsMessages[a]};i.callflows[a].flow.hasOwnProperty("is_main_number_cf")?(o.callOption.callEntityId=i.callflows[a].flow.data.id,o.callOption.type="advanced-callflow"):"voicemail"===i.callflows[a].flow.module?(o.callOption.callEntityId="none",o.callOption.voicemailId=i.callflows[a].flow.data.id,o.callOption.type="user-voicemail"):n.isEmpty(i.callflows[a].flow.children)||(o.callOption.callEntityId=i.callflows[a].flow.data.id,"_"in i.callflows[a].flow.children&&"voicemail"===i.callflows[a].flow.children._.module?(o.callOption.type="user-voicemail",o.callOption.voicemailId=i.callflows[a].flow.children._.data.id):o.callOption.type="user-menu"),s in i.callflows&&(o.menu=s),e(this).empty().append(l.template(r,"strategy-callsTab",o))}),e.each(c.find(".user-select select"),function(){var t=e(this);t.chosen({search_contains:!0,width:"160px"}),t.siblings(".title").text(t.find("option:selected").closest("optgroup").prop("label"))}),c.find(".voicemail-select select").chosen({search_contains:!0,width:"160px"}),c.find(".advancedCallflows-select select").chosen({search_contains:!0,width:"160px"}),s&&s();break;default:s&&s()}},strategyNumbersBindEvents:function(t,a){var s=this,r=function(e){if(e.length){var n=a.callflows.MainCallflow;n.numbers=n.numbers.concat(e),s.strategyUpdateCallflow(n,function(e){var n=t.parents(".element-container");a.callflows.MainCallflow=e,o(n),s.strategyRefreshTemplate(n,a)})}},o=function(e){var n=a.callflows.MainCallflow,i=e.find(".element-header-inner .summary > span");n.numbers.length>1?(i.html(l.util.formatPhoneNumber(n.numbers[1])),n.numbers.length>3?i.append('<i class="icon-telicon-multiple-items icon-small"></i>'):3===n.numbers.length&&i.append(", "+l.util.formatPhoneNumber(n.numbers[2])),t.parents("#strategy_container").find(".element-container:not(.main-number,.strategy-confnum)").show(),t.parents("#strategy_container").find(".element-container:not(.main-number,.strategy-faxingnum)").show(),t.parents("#strategy_container").find(".element-container.helper").hide(),t.parents("#strategy_container").find(".element-container.main-number").css("margin-top","0px"),s.strategyCheckSecondWalkthrough()):(i.html(s.i18n.active().strategy.noNumberTitle),t.parents("#strategy_container").find(".element-container:not(.main-number,.strategy-confnum)").hide(),t.parents("#strategy_container").find(".element-container:not(.main-number,.strategy-faxingnum)").hide(),t.parents("#strategy_container").find(".element-container.helper").show(),t.parents("#strategy_container").find(".element-container.main-number").css("margin-top","10px"))};t.on("click",".action-links .spare-link:not(.disabled)",function(t){t.preventDefault();var n={accountName:l.apps.auth.currentAccount.name,accountId:s.accountId,callback:function(t){var n=e.map(t,function(t){return t.phoneNumber});r(n)}};l.pub("common.numbers.dialogSpare",n)}),t.on("click",".action-links .buy-link",function(t){t.preventDefault(),l.pub("common.buyNumbers",{searchType:e(this).data("type"),callbacks:{success:function(t){r(n.keys(t)),i.success(s.i18n.active().strategy.toastrMessages.buyNumbersSuccess)},error:function(t){i.error(s.i18n.active().strategy.toastrMessages.buyNumbersError)}}})}),t.on("click",".action-links .port-link",function(t){t.preventDefault()}),t.on("click",".number-element .remove-number",function(r){r.preventDefault();var c=e(this),u=c.data("number"),d=c.data("e911"),p=l.util.isNumberFeatureEnabled("e911"),m=a.callflows.MainCallflow.numbers.indexOf(u.toString());"active"===d&&1===t.find('.number-element .remove-number[data-e911="active"]').length&&p?l.ui.alert("error",s.i18n.active().strategy.alertMessages.lastE911Error):m>=0&&s.strategyGetNumber(u,function(r){var c,d,p={phoneNumber:u},f=[],v=function(){a.callflows.MainCallflow.numbers.splice(m,1),s.strategyUpdateCallflow(a.callflows.MainCallflow,function(e){var n=t.parents(".element-container");i.success(s.i18n.active().strategy.toastrMessages.removeNumberSuccess),a.callflows.MainCallflow=e,o(n),s.strategyRefreshTemplate(n,a),s.callApi({resource:"account.get",data:{accountId:s.accountId},success:function(t){var e=!1;"caller_id"in t.data&&"external"in t.data.caller_id&&t.data.caller_id.external.number===u&&(delete t.data.caller_id.external,e=!0),"caller_id"in t.data&&"emergency"in t.data.caller_id&&t.data.caller_id.emergency.number===u&&(delete t.data.caller_id.emergency,e=!0),e&&s.callApi({resource:"account.update",data:{accountId:s.accountId,data:t.data},success:function(t){}})}})})};n.each(r,function(t,e){"cnam"!==e&&"e911"!==e||f.push({name:e,friendlyName:s.i18n.active().strategy.popupRemoveFeatures.features[e]})}),f.length>0?(p.featureList=f,c=e(l.template(s,"strategy-popupRemoveFeatures",p)),d=l.ui.dialog(c,{title:s.i18n.active().strategy.popupRemoveFeatures.title,width:"540px"}),d.find(".cancel-link").on("click",function(){d.dialog("close")}),d.find("#remove_features").on("click",function(){d.find(".table td").each(function(t,n){e(n).find("input").is(":checked")&&delete r[e(n).data("name")]}),s.strategyUpdateNumber(u,r,function(){d.dialog("close"),v()})})):v()})})},strategyConfNumBindEvents:function(t,a){var s=this,r=function(e){if(e.length){var n=a.callflows.MainConference;n.numbers.length<=1&&"undefinedconf"===n.numbers[0]&&(n.numbers=[]),n.numbers=n.numbers.concat(e),s.strategyUpdateCallflow(n,function(e){var n=t.parents(".element-container");a.callflows.MainConference=e,o(n),s.strategyRefreshTemplate(n,a)})}},o=function(t){var e=a.callflows.MainConference,n=t.find(".element-header-inner .summary > span");e.numbers.length>0&&"undefinedconf"!==e.numbers[0]?(n.html(l.util.formatPhoneNumber(e.numbers[0])),e.numbers.length>2?n.append('<i class="icon-telicon-multiple-items icon-small"></i>'):2===e.numbers.length&&n.append(", "+l.util.formatPhoneNumber(e.numbers[1]))):n.html(s.i18n.active().strategy.noNumberTitle)};t.on("click",".action-links .spare-link:not(.disabled)",function(t){t.preventDefault();var n={accountName:l.apps.auth.currentAccount.name,accountId:s.accountId,callback:function(t){var n=e.map(t,function(t){return t.phoneNumber});r(n)}};l.pub("common.numbers.dialogSpare",n)}),t.on("click",".action-links .greeting-link",function(t){t.preventDefault();var n=a.callflows.MainConference;n?s.getMainConferenceGreetingMedia(function(t){var i=e(l.template(s,"strategy-customConferenceGreeting",{enabled:"welcome_prompt"in n.flow.data,greeting:t&&t.tts?t.tts.text:""})),r=l.ui.dialog(i,{title:s.i18n.active().strategy.customConferenceGreeting.title,position:["center",20]});i.find(".switch-state").on("change",function(){e(this).prop("checked")?i.find(".content").slideDown():i.find(".content").slideUp()}),i.find(".cancel").on("click",function(){r.dialog("close").remove()}),i.find(".save").on("click",function(){if(i.find(".switch-state").prop("checked")){var l=function(e){t?(t.description="<Text to Speech>",t.media_source="tts",t.tts={text:i.find(".custom-greeting-text").val(),voice:"female/en-US"},s.callApi({resource:"media.update",data:{accountId:s.accountId,mediaId:t.id,data:t},success:function(t,n){e&&e(t.data)}})):s.callApi({resource:"media.create",data:{accountId:s.accountId,data:{description:"<Text to Speech>",media_source:"tts",name:"MainConferenceGreeting",streamable:!0,type:"mainConfGreeting",tts:{text:i.find(".custom-greeting-text").val(),voice:"female/en-US"}}},success:function(t,n){e&&e(t.data)}})};l(function(t){n.flow.data.welcome_prompt={media_id:t.id},s.strategyUpdateCallflow(n,function(t){a.callflows.MainConference=t,r.dialog("close").remove(),e("#strategy_container .custom-greeting-icon").show()})})}else"welcome_prompt"in n.flow.data?(delete n.flow.data.welcome_prompt,s.strategyUpdateCallflow(n,function(t){a.callflows.MainConference=t,r.dialog("close").remove(),e("#strategy_container .custom-greeting-icon").hide()})):r.dialog("close").remove()})}):l.ui.alert("error",s.i18n.active().strategy.customConferenceGreeting.mainConfMissing)}),t.on("click",".action-links .buy-link",function(t){t.preventDefault(),l.pub("common.buyNumbers",{searchType:e(this).data("type"),callbacks:{success:function(t){r(n.keys(t)),i.success(s.i18n.active().strategy.toastrMessages.buyNumbersSuccess)},error:function(t){i.error(s.i18n.active().strategy.toastrMessages.buyNumbersError)}}})}),t.on("click",".number-element .remove-number",function(n){n.preventDefault();var l=e(this).data("number").toString(),r=a.callflows.MainConference.numbers.indexOf(l);r>=0&&(a.callflows.MainConference.numbers.splice(r,1),0===a.callflows.MainConference.numbers.length&&(a.callflows.MainConference.numbers=["undefinedconf"]),s.strategyUpdateCallflow(a.callflows.MainConference,function(e){var n=t.parents(".element-container");i.success(s.i18n.active().strategy.toastrMessages.removeNumberSuccess),a.callflows.MainConference=e,o(n),s.strategyRefreshTemplate(n,a)}))})},getMainConferenceGreetingMedia:function(t){var e=this;e.callApi({resource:"media.list",data:{accountId:e.accountId,filters:{filter_type:"mainConfGreeting"}},success:function(n,l){n.data&&n.data.length>0?e.callApi({resource:"media.get",data:{accountId:e.accountId,mediaId:n.data[0].id},success:function(e,n){t&&t(e.data)},error:function(e,n){t&&t(null)}}):t&&t(null)},error:function(e,n){t&&t(null)}})},strategyFaxingNumBindEvents:function(t,a){var s=this,r=function(n){if(n.length){var i=a.callflows.MainFaxing,r=function(){s.strategyUpdateCallflow(i,function(e){var n=t.parents(".element-container");a.callflows.MainFaxing=e,o(n),s.strategyRefreshTemplate(n,a)})};if(i.numbers.length<=1&&"undefinedfaxing"===i.numbers[0]&&(i.numbers=[]),i.numbers=i.numbers.concat(n),i.flow.data.hasOwnProperty("id"))r();else{var c=e(l.template(s,"strategy-popupEditFaxbox")),u=l.ui.dialog(c,{title:s.i18n.active().strategy.popupEditFaxbox.titles.create,position:["center",20],hideClose:!0});c.find(".cancel-link").on("click",function(t){t.preventDefault(),u.dialog("close").remove()}),c.find(".save").on("click",function(t){t.preventDefault();var e=c.find("#faxbox_form"),n=l.ui.getFormData("faxbox_form").email;l.ui.validate(e,{rules:{email:{required:!0,email:!0}}}),l.ui.valid(e)&&(u.dialog("close").remove(),s.strategyBuildFaxbox({data:{email:n,number:i.numbers[0]},success:function(t){i.flow.data.id=t.id,r()}}))})}}},o=function(t){var e=a.callflows.MainFaxing,n=t.find(".element-header-inner .summary > span");e.numbers.length>0&&"undefinedfaxing"!==e.numbers[0]?(n.html(l.util.formatPhoneNumber(e.numbers[0])),e.numbers.length>2?n.append('<i class="icon-telicon-multiple-items icon-small"></i>'):2===e.numbers.length&&n.append(", "+l.util.formatPhoneNumber(e.numbers[1]))):n.html(s.i18n.active().strategy.noNumberTitle)};t.on("click",".action-links .spare-link:not(.disabled)",function(t){t.preventDefault();var n={accountName:l.apps.auth.currentAccount.name,accountId:s.accountId,singleSelect:!0,callback:function(t){var n=e.map(t,function(t){return t.phoneNumber});r(n)}};l.pub("common.numbers.dialogSpare",n)}),t.on("click",".action-links .edit-email",function(t){event.preventDefault(),l.waterfall([function(t){s.strategyGetFaxbox({data:{faxboxId:a.callflows.MainFaxing.flow.data.id},success:function(a){var i=e(l.template(s,"strategy-popupEditFaxbox",{email:a.notifications.inbound.email.send_to})),r=l.ui.dialog(i,{title:s.i18n.active().strategy.popupEditFaxbox.titles.edit,position:["center",20]});i.find(".cancel-link").on("click",function(e){e.preventDefault(),r.dialog("close").remove(),t(!0,null)}),i.find(".save").on("click",function(e){e.preventDefault();var s=i.find("#faxbox_form"),o=l.ui.getFormData("faxbox_form").email;l.ui.validate(s,{rules:{email:{required:!0,email:!0}}}),l.ui.valid(s)&&(r.dialog("close").remove(),t(null,n.extend(a,{notifications:{inbound:{email:{send_to:o}}}})))})}})},function(t,e){s.strategyUpdateFaxbox({data:{faxboxId:t.id,data:t},success:function(t){e(null,t)}})}],function(t,e){t||i.success("Main Fabox Email Successfully Changed")})}),t.on("click",".action-links .buy-link",function(t){t.preventDefault(),l.pub("common.buyNumbers",{searchType:e(this).data("type"),singleSelect:!0,callbacks:{success:function(t){r(n.keys(t)),i.success(s.i18n.active().strategy.toastrMessages.buyNumbersSuccess)},error:function(t){i.error(s.i18n.active().strategy.toastrMessages.buyNumbersError)}}})}),t.on("click",".number-element .remove-number",function(n){n.preventDefault();var l=e(this).data("number"),r=a.callflows.MainFaxing,c=r.numbers.indexOf(l);c>=0&&(r.numbers.splice(c,1),0===r.numbers.length&&(r.numbers=["undefinedfaxing"]),s.strategyDeleteFaxbox({data:{id:r.flow.data.id},success:function(e){delete r.flow.data.id,s.strategyUpdateCallflow(r,function(e){var n=t.parents(".element-container");i.success(s.i18n.active().strategy.toastrMessages.removeNumberSuccess),a.callflows.MainFaxing=e,o(n),s.strategyRefreshTemplate(n,a)})}}))})},strategyHoursBindEvents:function(t,a){var i=this;t.on("change",'.custom-hours-toggler input[type="radio"]',function(n){var l=t.find(".custom-hours-div");"true"==e(this).val()?l.slideDown():l.slideUp()}),t.on("change",'.custom-days input[type="checkbox"]',function(t){var n=e(this).parents(".custom-day"),l=n.find(".timepickers"),a=n.find(".status");e(this).prop("checked")?(l.fadeIn(200),a.fadeOut(100,function(){a.html(i.i18n.active().strategy.open),a.fadeIn(100)})):(l.fadeOut(200),a.fadeOut(100,function(){a.html(i.i18n.active().strategy.closed),a.fadeIn(100)}))}),t.on("change",'.custom-hours-lunchbreak input[type="checkbox"]',function(t){e(this).prop("checked")?e(this).parents(".custom-hours-lunchbreak").find(".timepickers").fadeIn(200):e(this).parents(".custom-hours-lunchbreak").find(".timepickers").fadeOut(200)}),t.on("click",".save-button",function(s){if(s.preventDefault(),l.ui.valid(t.find("#strategy_custom_hours_form"))){var r=e(this).parents(".element-container"),o=l.ui.getFormData("strategy_custom_hours_form"),c=a.callflows.MainCallflow,u=function(t){return{children:{},data:{id:t},module:"callflow"}};if(n.each(a.temporalRules.weekdays,function(t,e){delete c.flow.children[t.id]}),delete c.flow.children[a.temporalRules.lunchbreak.id],"false"!==o.enabled&&o.opendays&&0!==o.opendays.length){var d={};if(c.flow.children._=u(a.callflows.MainAfterHours.id),o.lunchbreak.enabled){var p=a.temporalRules.lunchbreak;p.time_window_start=l.util.timeToSeconds(o.lunchbreak.from),p.time_window_stop=l.util.timeToSeconds(o.lunchbreak.to),d.lunchbreak=function(t){i.callApi({resource:"temporalRule.update",data:{accountId:i.accountId,ruleId:p.id,data:p},success:function(e,n){t(null,e.data)}})},c.flow.children[p.id]=u(a.callflows.MainLunchHours.id)}n.each(o.opendays,function(t){var e=a.temporalRules.weekdays[t];e.time_window_start=l.util.timeToSeconds(o.weekdays[t].from),e.time_window_stop=l.util.timeToSeconds(o.weekdays[t].to),d[t]=function(t){i.callApi({resource:"temporalRule.update",data:{accountId:i.accountId,ruleId:e.id,data:e},success:function(e,n){t(null,e.data)}})},c.flow.children[e.id]=u(a.callflows.MainOpenHours.id)}),l.parallel(d,function(t,e){})}else c.flow.children._=u(a.callflows.MainOpenHours.id);i.strategyRebuildMainCallflowRuleArray(a),i.strategyUpdateCallflow(c,function(t){a.callflows.MainCallflow=t,r.find(".element-content").hide(),r.removeClass("open")})}})},strategyHolidaysBindEvents:function(t,a){var s=this;t.on("change",'.holidays-toggler input[type="checkbox"]',function(n){e(this).prop("checked")?t.find(".holidays-div").slideDown():t.find(".holidays-div").slideUp()}),t.on("click",".add-holidays-link",function(n){n.preventDefault(),s.strategyRenderHolidayLine(t.find(".holidays-list"),e(this).data("type"))}),t.on("click",".delete-holiday",function(t){var n=e(this).parents(".holidays-element"),i=n.data("id"),r=n.data("type");i?l.ui.confirm(s.i18n.active().strategy.confirmMessages.deleteHoliday,function(){var t=a.callflows.MainCallflow;delete t.flow.children[i],s.strategyRebuildMainCallflowRuleArray(a),s.strategyUpdateCallflow(t,function(t){a.callflows.MainCallflow=t;var e=function(t){delete a.temporalRules.holidays[t.name],n.remove()};"set"===r?s.strategyDeleteRuleSetAndRules(i,e):s.strategyDeleteHoliday(i,e)})}):n.remove()}),t.on("click",".save-button",function(r){r.preventDefault();var o=e(this).parents(".element-container"),c=a.callflows.MainCallflow,u=o.find('.holidays-toggler input[type="checkbox"]')[0].checked,d={},p=!1;u?(e.each(t.find(".holidays-element"),function(){var t=s.strategyBuildHolidayRule(e(this),d);return t?void(d[t.name]=function(e){t.hasOwnProperty("isRange")?s.strategyBuildMultiMonthRangeHoliday(t,function(n){n.viewData=t,e&&e(null,n)}):s.strategyCleanUpdateHoliday(t,function(t){e&&e(null,t)})}):(p=!0,!1)}),p?l.ui.alert(s.i18n.active().strategy.alertMessages.uniqueHoliday):l.parallel(d,function(t,e){var l=[],r=n.pluck(d,"id");n.each(c.flow.children,function(t,e){"_"!==e&&t.data.id===a.callflows.MainHolidays.id&&l.push(e)}),n.each(l,function(t){r.indexOf(t)<0&&delete c.flow.children[t]}),n.each(e,function(t,e){c.flow.children[t.id]={children:{},data:{id:a.callflows.MainHolidays.id},module:"callflow"},a.temporalRules.holidays[t.name]=t}),s.strategyRebuildMainCallflowRuleArray(a),s.strategyUpdateCallflow(c,function(t){a.callflows.MainCallflow=t,o.find(".element-content").hide(),o.removeClass("open"),i.success(s.i18n.active().strategy.toastrMessages.updateHolidaySuccess)})})):l.ui.confirm(s.i18n.active().strategy.confirmMessages.disableHolidays,function(){n.each(a.temporalRules.holidays,function(t,e){d[e]=function(e){t.hasOwnProperty("temporal_rules")?s.strategyDeleteRuleSetAndRules(t.id,function(){delete c.flow.children[t.id],e(null,{})}):s.strategyDeleteHoliday(t.id,function(){delete c.flow.children[t.id],e(null,{})})}}),l.parallel(d,function(t,e){a.temporalRules.holidays={},s.strategyRebuildMainCallflowRuleArray(a),s.strategyUpdateCallflow(c,function(t){a.callflows.MainCallflow=t,o.find(".element-content").hide(),o.removeClass("open"),i.success(s.i18n.active().strategy.toastrMessages.updateHolidaySuccess)})})})})},strategyCleanUpdateHoliday:function(t,e){var n=this,l=function(){delete t.extra,n.strategyUpdateHoliday(t,function(t){e&&e(t)})};"set"===t.extra.oldType?n.strategyDeleteRuleSetAndRules(t.id,function(){delete t.id,l()}):l()},strategyBuildMultiMonthRangeHoliday:function(t,e){var a=this,i=parseInt(t.fromDay),s=parseInt(t.fromMonth),r=parseInt(t.toDay),o=parseInt(t.toMonth),c=t.name,u=function(t,e,n,l){for(var a=parseInt(e),i=n||1,s=l||31,r=[],o=i;o<=s;o++)r.push(o);return{name:t+"_"+a,cycle:"yearly",days:r,interval:1,month:a}},d=[],p={name:c,temporal_rules:[],type:"main_holidays"},m={},f=c+"_"+l.util.randomString(6);if(s!==o){d.push(u(f,s,i,31));for(var v=12===s?1:s+1,h=v;h!==o&&h-12!==o;h++)13===h&&(h=1),d.push(u(f,h,1,31));d.push(u(f,o,1,r))}else d.push(u(f,s,i,r));n.each(d,function(t){m[t.name]=function(e){a.strategyUpdateHoliday(t,function(t){e&&e(null,t)})}});var g=function(){l.parallel(m,function(t,l){n.each(d,function(t){p.temporal_rules.push(l[t.name].id)}),a.strategyCreateRuleSet(p,function(t){e(t)})})};t.hasOwnProperty("id")?"rule"===t.extra.oldType?a.strategyDeleteHoliday(t.id,function(){g()}):a.strategyDeleteRuleSetAndRules(t.id,function(){g()}):g()},strategyGetDetailRuleSet:function(t,e){var a=this;a.strategyGetRuleSet(t,function(t){var i={};n.each(t.temporal_rules,function(t){i[t]=function(e){a.strategyGetRule(t,function(t){t.hasOwnProperty("message")&&"bad identifier"===t.message&&(t={}),e&&e(null,t)})}}),l.parallel(i,function(l,i){var s=[],r=[],o={};n.each(t.temporal_rules,function(t){n.isEmpty(i[t])||(r.push(t),s.push(i[t]))}),s.length&&(o.fromDay=s[0].days[0],o.toDay=s[s.length-1].days[s[s.length-1].days.length-1],o.fromMonth=s[0].month,o.toMonth=s[s.length-1].month),n.isEqual(r,t.temporal_rules)?(t.viewData=o,e&&e(t)):r.length>0?(t.temporal_rules=r,a.strategyUpdateRuleSet(t,function(t){t.viewData=o,e&&e(t)})):a.strategyDeleteRuleSet(t.id,function(){e&&e({})})})})},strategyGetRuleSet:function(t,e){var n=this;n.callApi({resource:"temporalSet.get",data:{accountId:n.accountId,setId:t},success:function(t,n){e(t.data)}})},strategyUpdateRuleSet:function(t,e){var n=this;n.callApi({resource:"temporalSet.update",data:{accountId:n.accountId,setId:t.id,data:t},success:function(t,n){e(t.data)}})},strategyCreateRuleSet:function(t,e){var n=this;n.callApi({resource:"temporalSet.create",data:{accountId:n.accountId,data:t},success:function(t,n){e(t.data)}})},strategyDeleteRuleSetAndRules:function(t,e){var a=this;a.strategyGetRuleSet(t,function(i){var s={};n.each(i.temporal_rules,function(t){s[t]=function(e){a.strategyDeleteHoliday(t,function(){e&&e(null,{})})}}),l.parallel(s,function(n,l){a.strategyDeleteRuleSet(t,function(t){e&&e(t)})})})},strategyDeleteRuleSet:function(t,e){var n=this;n.callApi({resource:"temporalSet.delete",data:{accountId:n.accountId,setId:t},success:function(t,n){e&&e(t.data)}})},strategyBuildHolidayRule:function(t,l){var a=e(t),i=a.find(".name").val().trim(),s=parseInt(a.find(".month.from :selected").val()),r=parseInt(a.find(".month.to :selected").val()),o=parseInt(a.find(".day.from :selected").val()),c=parseInt(a.find(".day.to :selected").val()),u=a.find(".ordinal :selected").val(),d=a.find(".wday :selected").val(),p=a.data("id"),m=a.data("type"),f={};if(!i||n.keys(l).indexOf(i)>=0)f=!1;else if(r&&s!==r)f={isRange:!0,name:i,fromDay:o,fromMonth:s,toDay:c,toMonth:r};else if(f={name:i,cycle:"yearly",interval:1,month:s,type:"main_holidays"},o){var v=o;if(f.days=[v],c)for(var h=v+1;h<=c;h++)f.days.push(h)}else f.ordinal=u,f.wdays=[d];return p&&(f.id=p),f.extra={oldType:m},f},strategyUpdateHoliday:function(t,e){var n=this;t.id?n.callApi({resource:"temporalRule.update",data:{accountId:n.accountId,ruleId:t.id,data:t},success:function(t,n){e(t.data)}}):n.callApi({resource:"temporalRule.create",data:{accountId:n.accountId,data:t},success:function(t,n){e(t.data)}})},strategyDeleteHoliday:function(t,e){var n=this;n.callApi({resource:"temporalRule.delete",data:{accountId:n.accountId,ruleId:t,generateError:!1},success:function(t,n){e(t.data)},error:function(t,n){e(t.data)}})},strategyCallsBindEvents:function(t,a){function s(t){t.siblings().removeClass("active"),t.addClass("active")}var r=this;t.on("click",".calls-tabs a",function(t){t.preventDefault(),e(this).tab("show")}),t.on("click",".call-option",function(t){var n=e(this);s(n),n.find('.radio-div input[type="radio"]').prop("checked",!0)}),t.on("change",'input[type="radio"]',function(t){e(this).prop("checked")&&s(e(this).parents(".call-option"))}),t.on("click",".menu-div a",function(n){n.preventDefault();var l=e(this).parents(".callflow-tab");r.strategyShowMenuPopup({strategyData:a,name:l.data("callflow")+"Menu",label:t.find('a[href="#'+l.prop("id")+'"]').text()})}),t.on("change",".user-select select",function(t){var n=e(this);n.siblings(".title").text(n.find("option:selected").closest("optgroup").prop("label"))}),t.on("click",".save-button",function(s){s.preventDefault();var o=null,c={};if(e.each(t.find(".callflow-tab"),function(){var t=e(this),n=t.data("callflow"),l=t.find(".call-option.active"),i=l.find(".menu-div"),s=l.find(".user-select"),r=l.find(".voicemail-select"),u=l.find(".advancedCallflows-select"),d={};if(s.length){var p=s.find("option:selected"),m={children:{},module:p.data("type"),data:{}};switch(m.module){case"user":case"device":case"callflow":case"play":m.data.id=p.val();break;case"ring_group":m.data.endpoints=[{endpoint_type:"group",id:p.val()}];break;case"none":m={}}d=m}if(r.length){var f=r.find("option:selected"),m={children:{},module:"voicemail",data:{id:f.val()}};"children"in d?d.children._=m:d=m}if(i.length){var v=i.data("callflow");if(!v)return o=this.id,!1;var m={children:{},module:"callflow",data:{id:a.callflows[v].id}};"children"in d?d.children._=m:d=m}u.length&&(d={children:{},module:"callflow",data:{id:u.find("option:selected").val()},is_main_number_cf:!0}),c[n]=d}),o)l.ui.alert(r.i18n.active().strategy.alertMessages.undefinedMenu),t.find('a[href="#'+o+'"]').tab("show");else{var u={};n.each(c,function(t,e){a.callflows[e].flow=t,u[e]=function(t){r.strategyUpdateCallflow(a.callflows[e],function(n){a.callflows[e]=n,t(null,n)})}}),l.parallel(u,function(e,n){t.hide(),t.parents(".element-container").removeClass("open"),i.success(r.i18n.active().strategy.toastrMessages.updateCallSuccess)})}})},strategyRenderHolidayLine:function(t,n,a,i){for(var s=this,r=e.extend(!0,{resources:{months:[{value:1,label:s.i18n.active().strategy.monthsShort.january},{value:2,label:s.i18n.active().strategy.monthsShort.february},{value:3,label:s.i18n.active().strategy.monthsShort.march},{value:4,label:s.i18n.active().strategy.monthsShort.april},{value:5,label:s.i18n.active().strategy.monthsShort.may},{value:6,label:s.i18n.active().strategy.monthsShort.june},{value:7,label:s.i18n.active().strategy.monthsShort.july},{value:8,label:s.i18n.active().strategy.monthsShort.august},{value:9,label:s.i18n.active().strategy.monthsShort.september},{value:10,label:s.i18n.active().strategy.monthsShort.october},{value:11,label:s.i18n.active().strategy.monthsShort.november},{value:12,label:s.i18n.active().strategy.monthsShort.december}],days:[],wdays:e.map(s.weekdays,function(t){return{value:t,label:s.i18n.active().strategy.weekdays[t].substring(0,3)}}),ordinals:[{value:"first",label:s.i18n.active().strategy.ordinals.first},{value:"second",label:s.i18n.active().strategy.ordinals.second},{value:"third",label:s.i18n.active().strategy.ordinals.third},{value:"fourth",label:s.i18n.active().strategy.ordinals.fourth},{value:"fifth",label:s.i18n.active().strategy.ordinals.fifth},{value:"last",label:s.i18n.active().strategy.ordinals.last}]}},a,{holidayType:n}),o=1;o<=31;o++)r.resources.days.push({value:o});t.append(l.template(s,"strategy-holidayLine",r))},strategyShowMenuPopup:function(t,a){var s,r,o,c=this,u=t.strategyData,d=t.name,p=t.label,m=function(){s=e(l.template(c,"strategy-menuPopup",{menu:r,greeting:o})),popup=l.ui.dialog(s,{title:c.i18n.active().strategy.popup.title+" - "+p,dialogClass:"overflow-visible"});var a=s.find(".menu-block .left .content"),i=e.extend(!0,{},u.callEntities,{voicemail:u.voicemails},{directory:u.directories}),m=c.strategyGetCallEntitiesDropdownData(i);n.each(u.callflows[d].flow.children,function(t,e){a.append(l.template(c,"strategy-menuLine",{number:e,callEntities:m,selectedId:t.data.id||t.data.endpoints[0].id}))}),e.each(a.find(".target-input"),function(){var t=e(this),n=t.find(".target-select option:selected").parents("optgroup").data("icon");t.find(".target-icon").addClass(n)}),c.strategyBindMenuPopupEvents(popup,e.extend({menu:r,greeting:o},t))};d in u.callflows?c.callApi({resource:"menu.get",data:{accountId:c.accountId,menuId:u.callflows[d].flow.data.id},success:function(t,e){r=t.data,r.media.greeting?c.callApi({resource:"media.get",data:{accountId:c.accountId,mediaId:r.media.greeting,generateError:!1},success:function(t,e){o=t.data,m()},error:function(t,e,n){t&&"404"===t.error?(m(),i.warning(c.i18n.active().strategy.greetingMissing)):n(t,{generateError:!0})}}):m()}}):c.callApi({resource:"menu.create",data:{accountId:c.accountId,data:{name:d,record_pin:l.util.randomString(4,"1234567890"),media:{exit_media:!0,invalid_media:!0,transfer_media:!0},retries:3,max_extension_length:4,type:"main"}},success:function(t,n){r=t.data,c.callApi({resource:"callflow.create",data:{accountId:c.accountId,data:{contact_list:{exclude:!1},numbers:[d],type:"main",flow:{children:{},data:{id:r.id},module:"menu"}}},success:function(t,n){u.callflows[d]=t.data,e(".callflow-tab.active .menu-div").data("callflow",d),e(".callflow-tab.active .menu-div").addClass("has-menu"),m()}})}})},strategyBindMenuPopupEvents:function(t,n){var a,i=this,s=n.strategyData,r=n.name,o=n.menu,c=n.greeting,u=t.find("#strategy_menu_popup"),d=u.find("#strategy_menu_popup_tts_greeting"),p=u.find("#strategy_menu_popup_upload_greeting");u.find(".target-select").chosen({search_contains:!0,width:"150px"}),u.find(".upload-input").fileUpload({inputOnly:!0,wrapperClass:"upload-container",btnText:i.i18n.active().strategy.popup.fileUploadButton,btnClass:"monster-button-secondary",maxSize:5,success:function(t){a=t[0]},error:function(t){t.hasOwnProperty("size")&&t.size.length>0&&l.ui.alert(i.i18n.active().strategy.alertMessages.fileTooBigAlert),u.find(".upload-container input").val(""),a=void 0}}),u.on("change",".target-select",function(t){var n=e(this),l=n.parents(".target-input").find(".target-icon"),a=n.find("option:selected").parents("optgroup").data("icon");l.attr("class","target-icon "+a)}),u.on("click",".remove-btn",function(t){e(this).parents(".menu-line").remove()}),u.find(".add-menu-line a").on("click",function(t){t.preventDefault();var n=e.extend(!0,{},s.callEntities,{voicemail:s.voicemails},{directory:s.directories}),a=e(l.template(i,"strategy-menuLine",{callEntities:i.strategyGetCallEntitiesDropdownData(n)})),r=a.find(".target-select option:selected").parents("optgroup").data("icon");u.find(".menu-block .left .content").append(a),a.find(".target-icon").addClass(r),a.find(".number-input").focus()}),d.find(".update-greeting").on("click",function(t){var e=d.find("textarea").val();e?c&&c.id?(c.type="virtual_receptionist",c.description="<Text to Speech>",c.media_source="tts",c.tts={voice:"female/en-US",text:e},i.callApi({resource:"media.update",data:{accountId:i.accountId,mediaId:c.id,data:c},success:function(t,e){c=t.data,u.find(".greeting-option").removeClass("active"),d.parents(".greeting-option").addClass("active"),d.collapse("hide")}})):i.callApi({resource:"media.create",data:{accountId:i.accountId,data:{streamable:!0,name:r,type:"virtual_receptionist",media_source:"tts",description:"<Text to Speech>",tts:{voice:"female/en-US",text:e}}},success:function(t,e){c=t.data,o.media.greeting=t.data.id,i.callApi({resource:"menu.update",data:{accountId:i.accountId,menuId:o.id,data:o},success:function(t,e){o=t.data}}),u.find(".greeting-option").removeClass("active"),d.parents(".greeting-option").addClass("active"),d.collapse("hide")}}):l.ui.alert(i.i18n.active().strategy.alertMessages.emptyTtsGreeting)}),p.find(".update-greeting").on("click",function(t){var e=function(t,e,n){i.callApi({resource:"media.upload",data:{accountId:i.accountId,mediaId:e,data:t},success:function(t,e){n&&n()}})};a?c&&c.id?(c.type="virtual_receptionist",c.description=a.name,c.media_source="upload",delete c.tts,i.callApi({resource:"media.update",data:{accountId:i.accountId,mediaId:c.id,data:c},success:function(t,n){c=t.data,e(a.file,c.id,function(){u.find(".greeting-option").removeClass("active"),p.parents(".greeting-option").addClass("active"),p.collapse("hide")})}})):i.callApi({resource:"media.create",data:{accountId:i.accountId,data:{streamable:!0,name:r,type:"virtual_receptionist",media_source:"upload",description:a.name}},success:function(t,n){c=t.data,o.media.greeting=c.id,i.callApi({resource:"menu.update",data:{accountId:i.accountId,menuId:o.id,data:o},success:function(t,e){o=t.data}}),e(a.file,c.id,function(){u.find(".greeting-option").removeClass("active"),p.parents(".greeting-option").addClass("active"),p.collapse("hide")})}}):l.ui.alert(i.i18n.active().strategy.alertMessages.emptyUploadGreeting)}),u.find(".cancel-greeting").on("click",function(t){
e(this).parents(".collapse").collapse("hide")}),u.find(".cancel-link").on("click",function(e){e.preventDefault(),t.dialog("close")}),u.find(".save-button").on("click",function(n){var a={},o=!1;e.each(u.find(".menu-line"),function(){var t=e(this),n=t.find(".target-select option:selected"),l=t.find(".number-input").val(),i=n.data("type"),s=n.val();if(!l||l in a)return o=!0,!1;switch(a[l]={children:{},module:i,data:{}},i){case"ring_group":a[l].data.endpoints=[{endpoint_type:"group",id:s}];break;default:a[l].data.id=s}}),o?l.ui.alert(i.i18n.active().strategy.alertMessages.uniqueMenuNumbers):(s.callflows[r].flow.children=a,i.strategyUpdateCallflow(s.callflows[r],function(t){s.callflows[r]=t}),t.dialog("close"))})},strategyGetCallEntitiesDropdownData:function(t,l,a){var i=this,l=l===!0||!1,a=a===!0||!1,s=e.extend(!0,{},t),r=[];return l||(s.user=s.userCallflows),delete s.userCallflows,a||(s.ring_group=s.userGroups),delete s.userGroups,n.each(s,function(t,n){var l={groupName:i.i18n.active().strategy.callEntities[n],groupType:n,entities:e.map(t,function(t){var e=t.name;return e||(t.hasOwnProperty("first_name")?e=t.first_name+" "+t.last_name:t.hasOwnProperty("numbers")&&(e=t.numbers.toString())),{id:t.id,name:e,module:t.module||n}})};switch(l.groupType){case"directory":l.groupIcon="fa fa-book";break;case"user":l.groupIcon="fa fa-user";break;case"device":l.groupIcon="icon-telicon-voip-phone";break;case"ring_group":l.groupIcon="fa fa-users";break;case"media":l.groupIcon="fa fa-music";break;case"voicemail":l.groupIcon="icon-telicon-voicemail"}l.entities.sort(function(t,e){return t.name.toLowerCase()>e.name.toLowerCase()}),"directory"===l.groupType?r.unshift(l):"user"===l.groupType?"directory"===r[0].groupType?r.splice(1,0,l):r.unshift(l):r.push(l)}),r},strategyBuildFaxbox:function(t){var e=this;e.strategyGetAccount({success:function(n){t.data={name:n.name+e.i18n.active().strategy.faxing.nameExtension,caller_name:n.name,caller_id:t.data.number,fax_header:l.config.whitelabel.companyName+e.i18n.active().strategy.faxing.headerExtension,fax_timezone:n.timezone,fax_identity:l.util.formatPhoneNumber(t.data.number),owner_id:n.id,notifications:{inbound:{email:{send_to:t.data.email}}}},e.strategyCreateFaxbox(t)}})},strategyGetMainCallflows:function(t){var a=this;a.callApi({resource:"callflow.list",data:{accountId:a.accountId,filters:{has_value:"type",key_missing:["owner_id","group_id"]}},success:function(i,s){var r={},o={};n.each(i.data,function(t,e){if("main"===t.type||"conference"===t.type||"faxing"===t.type){var n=t.name||t.numbers[0];"conference"===t.type?n="MainConference":"faxing"===t.type&&(n="MainFaxing"),r[n]=function(e){a.callApi({resource:"callflow.get",data:{accountId:a.accountId,callflowId:t.id},success:function(t,n){e(null,t.data)}})}}}),r.MainConference||(r.MainConference=function(t){a.callApi({resource:"callflow.create",data:{accountId:a.accountId,data:{contact_list:{exclude:!1},numbers:["undefinedconf"],name:"MainConference",type:"conference",flow:{children:{},data:{},module:"conference"}}},success:function(e,n){t(null,e.data)}})}),r.MainFaxing||(r.MainFaxing=function(t){a.callApi({resource:"callflow.create",data:{accountId:a.accountId,data:{contact_list:{exclude:!1},numbers:["undefinedfaxing"],name:"MainFaxing",type:"faxing",flow:{children:{},data:{},module:"faxbox"}}},success:function(e,n){t(null,e.data)}})}),n.each(a.subCallflowsLabel,function(t){var e=t+"Menu";r[e]?r[t]||(o[e]=r[e],delete r[e]):o[e]=function(t){a.callApi({resource:"menu.create",data:{accountId:a.accountId,data:{name:e,record_pin:l.util.randomString(4,"1234567890"),media:{exit_media:!0,invalid_media:!0,transfer_media:!0},retries:3,max_extension_length:4,type:"main"}},success:function(n,l){a.callApi({resource:"callflow.create",data:{accountId:a.accountId,data:{contact_list:{exclude:!1},numbers:[e],type:"main",flow:{children:{},data:{id:n.data.id},module:"menu"}}},success:function(e,n){t&&t(null,e.data)}})}})}}),l.parallel(o,function(i,s){var o=s;n.each(a.subCallflowsLabel,function(t){r[t]||(r[t]=function(e){a.callApi({resource:"callflow.create",data:{accountId:a.accountId,data:{contact_list:{exclude:!1},numbers:[t],type:"main",flow:{children:{},data:{id:o[t+"Menu"].id},module:"callflow"}}},success:function(t,n){e(null,t.data)}})})}),l.parallel(r,function(n,l){r.MainCallflow?(delete l.MainCallflow.flow.data.timezone,"0"!==l.MainCallflow.numbers[0]?("undefined"===l.MainCallflow.numbers[0]?l.MainCallflow.numbers[0]="0":l.MainCallflow.numbers.splice(0,0,"0"),a.strategyUpdateCallflow(l.MainCallflow,function(n){l.MainCallflow=n,t(e.extend(!0,o,l))})):t(e.extend(!0,o,l))):a.callApi({resource:"callflow.create",data:{accountId:a.accountId,data:{contact_list:{exclude:!1},numbers:["0"],name:"MainCallflow",type:"main",flow:{children:{_:{children:{},data:{id:l.MainOpenHours.id},module:"callflow"}},data:{},module:"temporal_route"}}},success:function(n,a){l.MainCallflow=n.data,t(e.extend(!0,o,l))}})})})}})},strategyCreateFeatureCodes:function(t){var a=this;a.strategyGetFeatureCodes(function(i){var s=e.map(i,function(t){return t.featurecode.name}),r=[];n.each(a.featureCodes,function(t){if(s.indexOf(t.name)==-1){var n={flow:{children:{},data:t.extraData||{},module:t.moduleName},featurecode:{name:t.name,number:t.number}};t.hasOwnProperty("actionName")&&(n.flow.data=e.extend(n.flow.data,{action:t.actionName})),"pattern"in t?n.patterns=[t.pattern]:n.numbers=[t.callflowNumber],r.push(function(t){a.strategyCreateCallflow(n,function(e){t&&t(null,e)})})}}),r.length>0?l.parallel(r,function(e,n){t&&t()}):t&&t()})},strategyGetFeatureCodes:function(t){var e=this,n={paginate:"false",has_key:"featurecode"};e.strategyGetCallflows(function(e){t&&t(e)},n)},strategyGetAllRules:function(t){var e=this;l.parallel({rules:function(t){e.callApi({resource:"temporalRule.list",data:{accountId:e.accountId,filters:{has_key:"type"}},success:function(e,n){t&&t(null,e.data)}})},sets:function(t){e.callApi({resource:"temporalSet.list",data:{accountId:e.accountId,filters:{has_key:"type",filter_type:"main_holidays"}},success:function(a,i){var s={};n.each(a.data,function(t){s[t.id]=function(n){e.strategyGetDetailRuleSet(t.id,function(t){n&&n(null,t)})}}),l.parallel(s,function(e,n){t&&t(null,n)})}})}},function(e,n){t&&t(n)})},strategyGetRule:function(t,e){var n=this;n.callApi({resource:"temporalRule.get",data:{accountId:n.accountId,ruleId:t,generateError:!1},success:function(t,n){e&&e(t.data)},error:function(t,n){e&&e(t.data)}})},strategyGetTemporalRules:function(t){var e=this;e.strategyGetAllRules(function(a){var i={};n.each(a.rules,function(t,n){i[t.name]=function(n){e.strategyGetRule(t.id,function(t){n(null,t)})}}),n.each(e.weekdayLabels,function(t){t in i||(i[t]=function(n){e.callApi({resource:"temporalRule.create",data:{accountId:e.accountId,data:{cycle:"weekly",interval:1,name:t,type:"main_weekdays",time_window_start:32400,time_window_stop:61200,wdays:[t.substring(4).toLowerCase()]}},success:function(t,e){n(null,t.data)}})})}),"MainLunchHours"in i||(i.MainLunchHours=function(t){e.callApi({resource:"temporalRule.create",data:{accountId:e.accountId,data:{cycle:"weekly",interval:1,name:"MainLunchHours",type:"main_lunchbreak",time_window_start:43200,time_window_stop:46800,wdays:e.weekdays}},success:function(e,n){t(null,e.data)}})}),l.parallel(i,function(e,l){var i={weekdays:{},lunchbreak:{},holidays:{}};n.each(l,function(t,e){switch(t.type){case"main_weekdays":i.weekdays[e]=t;break;case"main_lunchbreak":i.lunchbreak=t;break;case"main_holidays":i.holidays[e]=t}}),n.each(a.sets,function(t){n.isEmpty(t)||(i.holidays[t.name]=t)}),t(i)})})},strategyGetCallEntities:function(t){var a=this;l.parallel({users:function(t){a.callApi({resource:"user.list",data:{accountId:a.accountId,filters:{paginate:"false"}},success:function(e,n){t(null,e.data)}})},media:function(t){a.strategyListMedia(function(e){t(null,e)})},userCallflows:function(t){a.callApi({resource:"callflow.list",data:{accountId:a.accountId,filters:{has_key:"owner_id",filter_type:"mainUserCallflow",paginate:"false"}},success:function(e,l){var a=n.indexBy(e.data,"owner_id");t(null,a)}})},groups:function(t){a.callApi({resource:"group.list",data:{accountId:a.accountId,filters:{paginate:"false"}},success:function(e,n){t(null,e.data)}})},ringGroups:function(t){a.callApi({resource:"callflow.list",data:{accountId:a.accountId,filters:{has_key:"group_id",filter_type:"baseGroup"}},success:function(e,n){t(null,e.data)}})},userGroups:function(t){a.callApi({resource:"callflow.list",data:{accountId:a.accountId,filters:{has_key:"group_id",filter_type:"userGroup"}},success:function(e,n){t(null,e.data)}})},devices:function(t){a.callApi({resource:"device.list",data:{accountId:a.accountId,filters:{paginate:"false"}},success:function(e,n){t(null,e.data)}})},advancedCallflows:function(t){a.strategyGetCallflows(function(e){t(null,e)},{filter_ui_is_main_number_cf:!0})}},function(l,a){var i={device:a.devices,user:e.extend(!0,[],a.users),play:a.media,userCallflows:[],ring_group:[],userGroups:e.map(a.userGroups,function(t){var e=n.find(a.groups,function(e){return t.group_id===e.id});return t.name=e&&e.name||t.name,t.module="callflow",t}),advancedCallflows:a.advancedCallflows};n.each(i.play,function(t){t.module="play"}),n.each(i.device,function(t){t.module="device"}),n.each(a.users,function(t){a.userCallflows.hasOwnProperty(t.id)?(t.id=a.userCallflows[t.id].id,t.module="callflow"):t.module="user",i.userCallflows.push(t)}),n.each(a.groups,function(t){var e=n.find(a.ringGroups,function(e){return e.group_id===t.id});e?(t.id=e.id,t.module="callflow"):t.module="ring_group",i.ring_group.push(t)}),n.each(a.advancedCallflows,function(t){t.module="callflow"}),t(i)})},strategyGetVoicesmailBoxes:function(t){var e=this;e.callApi({resource:"voicemail.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e,n){e.data.sort(function(t,e){return t.name.toLowerCase()>e.name.toLowerCase()}),t(e.data)}})},strategyListAccountNumbers:function(t){var e=this;e.callApi({resource:"numbers.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e,n){t(e.data.numbers)}})},strategyGetNumber:function(t,e){var n=this;n.callApi({resource:"numbers.get",data:{accountId:n.accountId,phoneNumber:encodeURIComponent(t)},success:function(t,n){e(t.data)}})},strategyUpdateNumber:function(t,e,n){var l=this;l.callApi({resource:"numbers.update",data:{accountId:l.accountId,phoneNumber:encodeURIComponent(t),data:e},success:function(t,e){n()}})},strategyRebuildMainCallflowRuleArray:function(t){var e=t.callflows.MainCallflow,l=t.temporalRules,a=[];n.each(l.holidays,function(t,n){t.id in e.flow.children&&a.push(t.id)}),l.lunchbreak.id in e.flow.children&&a.push(l.lunchbreak.id),n.each(l.weekdays,function(t,n){t.id in e.flow.children&&a.push(t.id)}),e.flow.data.rules=a},strategyGetCallflows:function(t,e){var n=this;n.callApi({resource:"callflow.list",data:{accountId:n.accountId,filters:e||{}},success:function(e){t&&t(e.data)}})},strategyCreateCallflow:function(t,e){var n=this;n.callApi({resource:"callflow.create",data:{accountId:n.accountId,data:t},success:function(t){e&&e(t.data)}})},strategyUpdateCallflow:function(t,e){var n=this,l=t.id;delete t.metadata,delete t.id,n.callApi({resource:"callflow.update",data:{accountId:n.accountId,callflowId:l,data:t},success:function(t,n){e(t.data)}})},strategyListDirectories:function(t,e){var n=this;n.callApi({resource:"directory.list",data:{accountId:n.accountId},success:function(e,n){t&&t(e.data)},error:function(t,n){e&&e()}})},strategyListMedia:function(t){var e=this;e.callApi({resource:"media.list",data:{accountId:e.accountId},success:function(e,n){t&&t(e.data)}})},_strategyOnCurrentAccountUpdated:function(t){e("#strategy_custom_hours_timezone").text(a.formatTimezone(t.timezone))},strategyUpdateOriginalUser:function(t,e){var n=this;n.callApi({resource:"user.update",data:{userId:t.id,accountId:l.apps.auth.originalAccount.id,data:t},success:function(t){e&&e(t.data)}})},strategyGetAccount:function(t){var e=this;e.callApi({resource:"account.get",data:{accountId:e.accountId},success:function(e,n){t.hasOwnProperty("success")&&t.success(e.data)},error:function(e,n){t.hasOwnProperty("error")&&t.error()}})},strategyGetFaxbox:function(t){var n=this;n.callApi({resource:"faxbox.get",data:e.extend(!0,{accountId:n.accountId},t.data),success:function(e,n){t.hasOwnProperty("success")&&t.success(e.data)},error:function(e,n){t.hasOwnProperty("error")&&t.error()}})},strategyCreateFaxbox:function(t){var e=this;e.callApi({resource:"faxbox.create",data:{accountId:e.accountId,data:t.data},success:function(e,n){t.hasOwnProperty("success")&&t.success(e.data)},error:function(e,n){t.hasOwnProperty("error")&&t.error()}})},strategyUpdateFaxbox:function(t){var n=this;n.callApi({resource:"faxbox.update",data:e.extend(!0,{accountId:n.accountId},t.data),success:function(e,n){t.hasOwnProperty("success")&&t.success(e.data)},error:function(e,n){t.hasOwnProperty("error")&&t.error()}})},strategyDeleteFaxbox:function(t){var e=this;e.callApi({resource:"faxbox.delete",data:{accountId:e.accountId,faxboxId:t.data.id},success:function(e,n){t.hasOwnProperty("success")&&t.success(e.data)},error:function(e,n){t.hasOwnProperty("error")&&t.error()}})}};return s}),define("apps/voip/submodules/callLogs/callLogs",["require","jquery","underscore","monster"],function(t){var e=t("jquery"),n=t("underscore"),l=t("monster"),a={requests:{},subscribe:{"voip.callLogs.render":"callLogsRender"},callLogsRender:function(t){var e=this;e.callLogsRenderContent(t.parent,t.fromDate,t.toDate,t.type,t.callback)},callLogsRenderContent:function(t,n,a,i,s){var r,o=this,c=1,u=31;if(!a&&!n){var d=l.util.getDefaultRangeDates(c);n=d.from,a=d.to}var p={timezone:"GMT"+jstz.determine_timezone().offset(),type:i||"today",fromDate:n,toDate:a,showFilteredDates:["thisMonth","thisWeek"].indexOf(i)>=0,showReport:!!l.config.whitelabel.callReportEmail};o.callLogsGetCdrs(n,a,function(i,c){if(i=o.callLogsFormatCdrs(i),p.cdrs=i,r=e(l.template(o,"callLogs-layout",p)),l.ui.tooltips(r),i&&i.length){var d=e(l.template(o,"callLogs-cdrsList",{cdrs:i,showReport:!!l.config.whitelabel.callReportEmail}));r.find(".call-logs-grid .grid-row-container").append(d)}var m={container:r,range:u};l.ui.initRangeDatepicker(m),r.find("#startDate").datepicker("setDate",n),r.find("#endDate").datepicker("setDate",a),c||r.find(".call-logs-loader").hide(),o.callLogsBindEvents({template:r,cdrs:i,fromDate:n,toDate:a,nextStartKey:c}),l.ui.tooltips(r),t.empty().append(r),s&&s()})},callLogsBindEvents:function(t){function a(){var t=s.find(".call-logs-loader");u?(t.toggleClass("loading"),t.find(".loading-message > i").toggleClass("fa-spin"),i.callLogsGetCdrs(o,c,function(n,a){n=i.callLogsFormatCdrs(n),cdrsTemplate=e(l.template(i,"callLogs-cdrsList",{cdrs:n,showReport:!!l.config.whitelabel.callReportEmail})),u=a,u||s.find(".call-logs-loader").hide(),s.find(".call-logs-grid .grid-row-container").append(cdrsTemplate),r=r.concat(n);var o=s.find(".search-div input.search-query");o.val()&&o.keyup(),t.toggleClass("loading"),t.find(".loading-message > i").toggleClass("fa-spin")},u)):t.hide()}var i=this,s=t.template,r=t.cdrs,o=t.fromDate,c=t.toDate,u=t.nextStartKey;setTimeout(function(){s.find(".search-query").focus()}),s.find(".apply-filter").on("click",function(t){var e=s.find("input.filter-from").datepicker("getDate"),n=s.find("input.filter-to").datepicker("getDate");i.callLogsRenderContent(s.parents(".right-content"),e,n,"custom")}),s.find(".fixed-ranges button").on("click",function(t){var n=e(this),l=n.data("type");if(s.find(".fixed-ranges button").removeClass("active"),n.addClass("active"),"custom"!==l){s.find(".call-logs-content").empty();var a=i.callLogsGetFixedDatesFromType(l);i.callLogsRenderContent(s.parents(".right-content"),a.from,a.to,l)}else s.find(".fixed-ranges-date").hide(),s.find(".custom-range").addClass("active")}),s.find(".download-csv").on("click",function(t){var e=l.util.dateToBeginningOfGregorianDay(o),n=l.util.dateToEndOfGregorianDay(c),a=i.apiUrl+"accounts/"+i.accountId+"/cdrs?created_from="+e+"&created_to="+n+"&accept=text/csv&auth_token="+i.getAuthToken();window.open(a,"_blank")}),s.find(".search-div input.search-query").on("keyup",function(t){if(s.find(".grid-row-container .grid-row").length>0){var l=e(this).val().replace(/\|/g,"").toLowerCase(),a=!1;l.length<=0?(s.find(".grid-row-group").show(),a=!0):n.each(r,function(t){var e=(t.date+"|"+t.fromName+"|"+t.fromNumber+"|"+t.toName+"|"+t.toNumber+"|"+t.hangupCause+"|"+t.id).toLowerCase(),n=s.find('.grid-row.main-leg[data-id="'+t.id+'"]').parents(".grid-row-group");e.indexOf(l)>=0?(a=!0,n.show()):n.hide()}),a?s.find(".grid-row.no-match").hide():s.find(".grid-row.no-match").show()}}),s.on("click",".grid-row.main-leg",function(t){var n=e(this),a=n.parents(".grid-row-group"),r=n.data("id"),o=a.find(".extra-legs");a.hasClass("open")?(a.removeClass("open"),o.slideUp()):(s.find(".grid-row-group").removeClass("open"),s.find(".extra-legs").slideUp(),a.addClass("open"),o.slideDown(),o.hasClass("data-loaded")||i.callLogsGetLegs(r,function(t){var e=i.callLogsFormatCdrs(t);a.find(".extra-legs").empty().addClass("data-loaded").append(l.template(i,"callLogs-interactionLegs",{cdrs:e}))}))}),s.on("click",".grid-cell.actions .details-cdr",function(t){t.stopPropagation();var n=e(this).parents(".grid-row").data("id");i.callLogsShowDetailsPopup(n)}),s.on("click",".grid-cell.report a",function(t){t.stopPropagation()}),s.find(".call-logs-grid").on("scroll",function(t){var n=e(this);n.scrollTop()===n[0].scrollHeight-n.innerHeight()&&a()}),s.find(".call-logs-loader:not(.loading) .loader-message").on("click",function(t){a()})},callLogsGetFixedDatesFromType:function(t){var e=new Date,n=new Date;switch(t){case"today":break;case"thisWeek":var l=e.getDay(),a=(l||7)-1;e.setDate(e.getDate()-a);break;case"thisMonth":e.setDate(1)}return{from:e,to:n}},callLogsGetCdrs:function(t,e,n,a){var i=this,s=l.util.dateToBeginningOfGregorianDay(t),r=l.util.dateToEndOfGregorianDay(e),o={created_from:s,created_to:r,page_size:50};a&&(o.start_key=a),i.callApi({resource:"cdrs.listByInteraction",data:{accountId:i.accountId,filters:o},success:function(t,e){n(t.data,t.next_start_key)}})},callLogsGetLegs:function(t,e){var n=this;n.callApi({resource:"cdrs.listLegs",data:{accountId:n.accountId,callId:t},success:function(t){e&&e(t.data)}})},callLogsFormatCdrs:function(t){var e=this,a=[],i=function(t){var n=t.hasOwnProperty("channel_created_time")?l.util.unixToDate(t.channel_created_time,!0):l.util.gregorianToDate(t.timestamp),a=l.util.toFriendlyDate(n,"shortDate"),i=l.util.toFriendlyDate(n,"time"),s=parseInt(t.duration_seconds/60).toString(),r=(t.duration_seconds%60<10?"0":"")+t.duration_seconds%60,o=e.i18n.active().hangupCauses,c="",u="authorizing_id"in t&&t.authorizing_id.length>0;o.hasOwnProperty(t.hangup_cause)&&(u&&o[t.hangup_cause].hasOwnProperty("outbound")?c+=o[t.hangup_cause].outbound:!u&&o[t.hangup_cause].hasOwnProperty("inbound")&&(c+=o[t.hangup_cause].inbound));var d={id:t.id,callId:t.call_id,timestamp:t.timestamp,date:a,time:i,fromName:t.caller_id_name,fromNumber:t.caller_id_number||t.from.replace(/@.*/,""),toName:t.callee_id_name,toNumber:t.callee_id_number||"request"in t?t.request.replace(/@.*/,""):t.to.replace(/@.*/,""),duration:s+":"+r,hangupCause:t.hangup_cause,hangupHelp:c,isOutboundCall:u,mailtoLink:"mailto:"+l.config.whitelabel.callReportEmail+"?subject=Call Report: "+t.call_id+"&body=Please describe the details of the issue:%0D%0A%0D%0A%0D%0A____________________________________________________________%0D%0A%0D%0AAccount ID: "+e.accountId+"%0D%0AFrom (Name): "+(t.caller_id_name||"")+"%0D%0AFrom (Number): "+(t.caller_id_number||t.from.replace(/@.*/,""))+"%0D%0ATo (Name): "+(t.callee_id_name||"")+"%0D%0ATo (Number): "+(t.callee_id_number||"request"in t?t.request.replace(/@.*/,""):t.to.replace(/@.*/,""))+"%0D%0ADate: "+a+"%0D%0ADuration: "+s+":"+r+"%0D%0AHangup Cause: "+(t.hangup_cause||"")+"%0D%0ACall ID: "+t.call_id+"%0D%0AOther Leg Call ID: "+(t.other_leg_call_id||"")+"%0D%0AHandling Server: "+(t.media_server||"")};return t.hasOwnProperty("channel_created_time")&&(d.channelCreatedTime=t.channel_created_time),d};return n.each(t,function(t){a.push(i(t))}),a.sort(function(t,e){return t.hasOwnProperty("channelCreatedTime")&&e.hasOwnProperty("channelCreatedTime")?t.channelCreatedTime>e.channelCreatedTime?1:-1:t.timestamp>e.timestamp?-1:1}),a},callLogsShowDetailsPopup:function(t){var n=this;n.callApi({resource:"cdrs.get",data:{accountId:n.accountId,cdrId:t},success:function(t,a){var i=e(l.template(n,"callLogs-detailsPopup"));l.ui.renderJSON(t.data,i.find("#jsoneditor")),l.ui.dialog(i,{title:n.i18n.active().callLogs.detailsPopupTitle})},error:function(t,e){l.ui.alert("error",n.i18n.active().callLogs.alertMessages.getDetailsError)}})}};return a}),define("apps/voip/submodules/users/users",["require","jquery","underscore","chosen","monster","monster-timezone","toastr"],function(t){var e=t("jquery"),n=t("underscore"),l=(t("chosen"),t("monster")),a=t("monster-timezone"),i=t("toastr"),s={requests:{},subscribe:{"voip.users.render":"usersRender"},deviceIcons:{cellphone:"fa fa-phone",smartphone:"icon-telicon-mobile-phone",landline:"icon-telicon-home",mobile:"icon-telicon-sprint-phone",softphone:"icon-telicon-soft-phone",sip_device:"icon-telicon-voip-phone",sip_uri:"icon-telicon-voip-phone",fax:"icon-telicon-fax",ata:"icon-telicon-fax"},usersRender:function(t){var a=this,t=t||{},i=t.parent||e(".right-content"),s=t.userId,r=t.openedTab,o=t.callback;a.usersRemoveOverlay(),a.usersGetData(function(t){var c,u=a.usersFormatListData(t),d=e(l.template(a,"users-layout",u));if(n.each(u.users,function(t){c=l.template(a,"users-row",t),d.find(".user-rows").append(c)}),l.ui.tooltips(d,{options:{container:"body"}}),d.find('[data-toggle="popover"]').popover({container:"body"}),a.usersBindEvents(d,i,u),i.empty().append(d),a.usersCheckWalkthrough(),s){var p=i.find(".grid-row[data-id="+s+"] .grid-cell");l.ui.highlight(p)}0===u.users.length?(i.find(".grid-row.title").css("display","none"),i.find(".no-users-row").css("display","block")):(i.find(".grid-row.title").css("display","block"),i.find(".no-users-row").css("display","none")),s&&r&&d.find('.grid-row[data-id="'+s+'"] .grid-cell[data-type="'+r+'"]').click(),o&&o()})},usersCheckWalkthrough:function(){var t=this;t.usersHasWalkthrough(function(){t.usersShowWalkthrough(function(){t.usersUpdateWalkthroughFlagUser()})})},usersHasWalkthrough:function(t){var e=this,n=e.uiFlags.user.get("showUsersWalkthrough");n!==!1&&t&&t()},usersUpdateWalkthroughFlagUser:function(t){var e=this,n=e.uiFlags.user.set("showUsersWalkthrough",!1);e.usersUpdateOriginalUser(n,function(e){t&&t(e)})},usersShowWalkthrough:function(t){var n=this,a=e("#voip_container"),i=a.find(".grid-row:not(.title):first"),s=[{element:a.find(".add-user")[0],intro:n.i18n.active().users.walkthrough.steps[1],position:"right"},{element:i.find(".name")[0],intro:n.i18n.active().users.walkthrough.steps[2],position:"right"},{element:i.find(".extension")[0],intro:n.i18n.active().users.walkthrough.steps[3],position:"bottom"},{element:i.find(".phone-number")[0],intro:n.i18n.active().users.walkthrough.steps[4],position:"bottom"},{element:i.find(".devices")[0],intro:n.i18n.active().users.walkthrough.steps[5],position:"left"},{element:i.find(".features")[0],intro:n.i18n.active().users.walkthrough.steps[6],position:"left"}];l.ui.stepByStep(s,function(){t&&t()})},usersFormatUserData:function(t,e,a,i,s){var r=this,o={additionalDevices:0,additionalExtensions:0,additionalNumbers:0,devices:[],extension:t.hasOwnProperty("presence_id")?t.presence_id:"",hasFeatures:!1,isAdmin:"admin"===t.priv_level,listCallerId:[],listExtensions:[],listNumbers:[],phoneNumber:"",differentEmail:t.email!==t.username,mapFeatures:{caller_id:{icon:"fa fa-user",iconColor:"monster-blue",title:r.i18n.active().users.caller_id.title},call_forward_failover:{icon:"fa fa-share",iconColor:"monster-orange",title:r.i18n.active().users.call_forward.failover_title,hidden:!0},call_forward:{icon:"fa fa-share",iconColor:"monster-yellow",title:r.i18n.active().users.call_forward.title},hotdesk:{icon:"fa fa-fire",iconColor:"monster-orange",title:r.i18n.active().users.hotdesk.title},vm_to_email:{icon:"icon-telicon-voicemail",iconColor:"monster-green",title:r.i18n.active().users.vm_to_email.title},faxing:{icon:"icon-telicon-fax",iconColor:"monster-red",title:r.i18n.active().users.faxing.title},conferencing:{icon:"fa fa-comments",iconColor:"monster-grey",title:r.i18n.active().users.conferencing.title},find_me_follow_me:{icon:"fa fa-sitemap",iconColor:"monster-purple",title:r.i18n.active().users.find_me_follow_me.title},music_on_hold:{icon:"fa fa-music",iconColor:"monster-pink",title:r.i18n.active().users.music_on_hold.title},call_recording:{icon:"fa fa-microphone",iconColor:"monster-blue",title:r.i18n.active().users.callRecording.title}}};if("extra"in t||(t.extra=o),t.extra.countFeatures=0,n.each(t.features,function(e){e in t.extra.mapFeatures&&(t.extra.countFeatures++,t.extra.mapFeatures[e].active=!0)}),t.extra.countFeatures>0&&(t.extra.hasFeatures=!0),e&&(t.extra.mainDirectoryId=e.id,"directories"in t&&e.id in t.directories?t.extra.includeInDirectory=!0:t.extra.includeInDirectory=!1),a&&(t.extra.mainCallflowId=a.id,"flow"in a)){var c=a.flow,u="user";for(t.features.indexOf("find_me_follow_me")>=0&&(u="ring_group",t.extra.groupTimeout=!0);c.module!=u&&"_"in c.children;)c=c.children._;t.extra.ringingTimeout=c.data.timeout}if(i&&(t.extra.vmbox=i),!n.isEmpty(i)&&!n.isEmpty(s)){var d=s.indexOf(i.mailbox);s.splice(d,1),t.extra.existingVmboxes=s}t.extra.adminId=r.userId,t.extra.presenceIdOptions=[];var p,m=!1,f=function(e){p={key:e,value:l.util.formatPhoneNumber(e)},t.extra.presenceIdOptions.push(p)};return n.each(t.extra.listExtensions,function(e){t.hasOwnProperty("presence_id")&&t.presence_id===e&&(m=!0),f(e)}),t.extra.presenceIdOptions.sort(function(t,e){return t.key>e.key?1:-1}),m||t.extra.presenceIdOptions.unshift({key:"unset",value:r.i18n.active().users.editionForm.noPresenceID}),t},usersFormatListData:function(t){var e=this,l={existingExtensions:[],countUsers:t.users.length},a={};n.each(t.users,function(t){a[t.id]=e.usersFormatUserData(t)}),n.each(t.callflows,function(t){if("faxing"!==t.type){var e=t.owner_id;if(n.each(t.numbers,function(t){t&&t.length<7&&l.existingExtensions.push(t)}),e in a){var i=a[e];n.each(t.numbers,function(t){t.length<7?i.extra.listExtensions.push(t):(i.extra.listCallerId.push(t),i.extra.listNumbers.push(t),""===i.extra.phoneNumber?i.extra.phoneNumber=t:i.extra.additionalNumbers++)}),i.extra.additionalExtensions=i.extra.listExtensions.length>=1?i.extra.listExtensions.length-1:0,""===i.extra.extension&&i.extra.listExtensions.length>0&&(i.extra.extension=i.extra.listExtensions[0])}}}),l.existingExtensions.sort(e.usersSortExtensions),n.each(t.devices,function(l){var i=l.owner_id;if(i in a){var s=!!n.find(t.deviceStatus,function(t){return t.device_id===l.id&&t.registered===!0});a[i].extra.devices.length>=2&&(0===a[i].extra.additionalDevices&&(a[i].extra.additionalDevices={count:0,tooltip:""}),a[i].extra.additionalDevices.count++,a[i].extra.additionalDevices.tooltip+='<i class="device-popover-icon '+e.deviceIcons[l.device_type]+(s?" monster-green":" monster-red")+'"></i>'+l.name+" ("+l.device_type.replace("_"," ")+")<br>");var r={id:l.id,name:l.name+" ("+l.device_type.replace("_"," ")+")",type:l.device_type,registered:s,icon:e.deviceIcons[l.device_type]};"mobile"===l.device_type&&(r.mobile=l.mobile),a[i].extra.devices.push(r)}});var i=[];return n.each(a,function(t){i.push(t)}),l.users=i,l},usersDeleteDialog:function(t,n){var a=this,i={user:t},s=e(l.template(a,"users-deleteDialog",i));l.ui.tooltips(s),s.find("#confirm_button").on("click",function(){var e=s.find("#delete_devices").is(":checked"),l=s.find("#delete_conferences").is(":checked");a.usersDelete(t.id,e,l,function(t){r.dialog("close").remove(),n&&n(t)})}),s.find("#cancel_button").on("click",function(){r.dialog("close").remove()});var r=l.ui.dialog(s,{title:'<i class="fa fa-question-circle monster-primary-color"></i>',position:["center",20],dialogClass:"monster-alert"})},usersBindEvents:function(t,a,s){var r,o,c,u,d,p,m,f,v=this,h=s.existingExtensions,g=v.i18n.active().users.toastrMessages,b=s,y=function(t){l.parallel({userDevices:function(t){v.usersListDeviceUser(r.id,function(e){t(null,e)})},userCallflow:function(t){v.usersGetMainCallflow(r.id,function(e){t(null,e)})}},function(n,l){v.usersRenderFindMeFollowMe(e.extend(!0,l,{currentUser:r,saveCallback:t}))})};setTimeout(function(){t.find(".search-query").focus()}),t.find(".grid-row:not(.title) .grid-cell").on("click",function(){var a=e(this),i=a.data("type"),s=a.parents(".grid-row"),g=s.data("id");t.find(".edit-user").slideUp("400",function(){e(this).empty()}),a.hasClass("active")?(t.find(".grid-cell").removeClass("active"),t.find(".grid-row").removeClass("active"),v.usersRemoveOverlay(),a.css({position:"initial","z-index":"0"}),a.parent().siblings(".edit-user").css({position:"initial","z-index":"0","border-top-color":"#a6a7a9"})):(t.find(".grid-cell").removeClass("active"),t.find(".grid-row").removeClass("active"),a.toggleClass("active"),s.toggleClass("active"),a.css({position:"relative","z-index":"2"}),a.parent().siblings(".edit-user").css({position:"relative","z-index":"2","border-top-color":"transparent"}),v.usersGetTemplate(i,g,b,function(t,a){"name"===i?(r=a,t.find("#user_timezone").chosen({search_contains:!0,width:"220px"}),a.extra.differentEmail?t.find(".email-group").show():t.find(".email-group").hide(),a.extra.mainDirectoryId&&(m=a.extra.mainDirectoryId),a.extra.mainCallflowId&&(f=a.extra.mainCallflowId)):"numbers"===i?(c=[],d=[],o=a.callflow,r=a.user,l.ui.tooltips(t),n.each(a.extensions,function(t){c.push(t)})):"extensions"===i?(h=a.allExtensions,o=a.callflow,r=a.user,u=[],n.each(a.assignedNumbers,function(t){u.push(t.phoneNumber)})):"features"===i?r=a:"devices"===i&&(setTimeout(function(){t.find(".search-query").focus()}),r=g,p={}),s.find(".edit-user").append(t).slideDown(400,function(){e("body").animate({scrollTop:s.offset().top-(window.innerHeight-s.height()-10)})}),e("body").append(e('<div id="users_container_overlay"></div>'))}))}),t.find(".users-header .search-query").on("keyup",function(){var l=e(this).val().toLowerCase(),a=t.find(".user-rows .grid-row:not(.title)"),i=t.find(".user-rows .empty-search-row");n.each(a,function(t){var t=e(t);t.data("search").toLowerCase().indexOf(l)<0?t.hide():t.show()}),a.size()>0&&(a.is(":visible")?i.hide():i.show())}),t.find(".users-header .add-user").on("click",function(){l.parallel({callflows:function(t){v.usersListCallflows(function(e){t(null,e)})},vmboxes:function(t){v.usersListVMBoxes(function(e){t(null,e)})}},function(t,n){var a=v.usersFormatAddUser(n),i=e(l.template(v,"users-creation",a));l.ui.mask(i.find("#extension"),"extension"),l.ui.validate(i.find("#form_user_creation"),{rules:{"callflow.extension":{checkList:a.listExtensions},"vmbox.number":{checkList:a.listVMBoxes},"user.password":{minlength:6}},messages:{"user.first_name":{required:v.i18n.active().validation.required},"user.last_name":{required:v.i18n.active().validation.required},"callflow.extension":{required:v.i18n.active().validation.required}}}),l.ui.showPasswordStrength(i.find("#password")),i.find("#create_user").on("click",function(){if(l.ui.valid(i.find("#form_user_creation"))){var t=l.ui.getFormData("form_user_creation"),n=v.usersFormatCreationData(t);e(this).prop({disabled:"true"}),v.usersCreate(n,function(t){s.dialog("close").remove(),v.usersRender({userId:t.user.id})})}}),i.find("#notification_email").on("change",function(){i.find(".email-group").toggleClass("hidden")});var s=l.ui.dialog(i,{title:v.i18n.active().users.dialogCreationUser.title})})}),t.on("click",".cancel-link",function(){t.find(".edit-user").slideUp("400",function(){e(this).empty(),t.find(".grid-cell.active").css({position:"inline-block","z-index":"0"}),t.find(".grid-row.active .edit-user").css({
position:"block","z-index":"0"}),t.find(".grid-row.active").removeClass("active"),v.usersRemoveOverlay(),t.find(".grid-cell.active").removeClass("active")})}),t.on("click",".save-extensions",function(){var n=e(this),a=e.extend(!0,[],u),s=n.parents(".grid-row").find(".grid-cell.name").text(),c=n.parents(".grid-row").data("id"),d=[];if(t.find(".extensions .list-assigned-items .item-row").each(function(t,n){var l,n=e(n);l=(n.data("id")?n.data("id"):n.find(".input-extension").val())+"",a.push(l),d.push(l)}),a.length>0){var p=function(){v.usersUpdateCallflowNumbers(c,(o||{}).id,a,function(t){i.success(l.template(v,"!"+g.numbersUpdated,{name:s})),v.usersRender({userId:t.owner_id})})};if(v.usersHasProperPresenceId(d,r))p();else{var m=r.presence_id;v.usersUpdatePresenceIDPopup(d,r,function(t){v.usersUpdateUser(t,function(){v.usersSmartUpdateVMBox({user:t,callback:function(){p()},oldPresenceId:m,userExtension:d[0]})})})}}else l.ui.alert("warning",v.i18n.active().users.noNumberCallflow)}),t.on("click","#add_extensions",function(){var n=parseInt(l.util.getNextExtension(h))+"",a={recommendedExtension:n},i=e(l.template(v,"users-newExtension",a)),s=t.find(".extensions .list-assigned-items");l.ui.mask(i.find(".input-extension "),"extension"),s.find(".empty-row").hide(),s.append(i),h.push(n)}),t.on("click",".remove-extension",function(){var n=e(this).parents(".item-row"),l=n.siblings(".empty-row");n.slideUp(function(){n.remove(),t.find(".list-assigned-items .item-row").is(":visible")||l.slideDown()})}),t.on("click",".cancel-extension-link",function(){var t=e(this).siblings("input").val(),n=h.indexOf(t);n>-1&&h.splice(n,1),e(this).parents(".item-row").remove()}),t.on("click","#delete_user",function(){var t=e(this).parents(".grid-row").data();v.usersDeleteDialog(t,function(t){i.success(l.template(v,"!"+v.i18n.active().users.toastrMessages.userDelete,{name:t.first_name+" "+t.last_name})),v.usersRender()})}),t.on("change","#notification_email",function(){t.find(".email-border").hasClass("open")?(t.find(".email-border").removeClass("open",400),t.find(".email-group").slideUp()):(t.find(".email-group").slideDown(),t.find(".email-border").addClass("open",400))}),t.on("click",".save-user",function(){var n=l.ui.getFormData("form-"+r.id),a=t.find("#form-"+r.id);l.util.checkVersion(r,function(){if(l.ui.valid(a)){r.extra.vmbox.timezone=n.timezone;var t=e.extend(!0,{},r,n),s=r.presence_id;l.parallel({vmbox:function(e){v.usersSmartUpdateVMBox({user:t,callback:function(t){e(null,t)},oldPresenceId:s})},user:function(e){v.usersUpdateUser(t,function(t){e(null,t.data)})},callflow:function(e){t.extra.ringingTimeout&&t.features.indexOf("find_me_follow_me")<0?v.usersGetMainCallflow(t.id,function(n){if("flow"in n){for(var l=n.flow;"user"!=l.module&&"_"in l.children;)l=l.children._;l.data.timeout=parseInt(t.extra.ringingTimeout),v.usersUpdateCallflow(n,function(t){e(null,t)})}else e(null,null)}):e(null,null)}},function(t,e){i.success(l.template(v,"!"+g.userUpdated,{name:e.user.first_name+" "+e.user.last_name})),v.usersRender({userId:e.user.id})})}})}),t.on("click","#change_pin",function(){var t=e(l.template(v,"users-changePin")),n=t.find("#form_new_pin");l.ui.validate(n,{rules:{pin:{number:!0,minlength:4,min:0}}}),t.find(".save-new-pin").on("click",function(){var t=l.ui.getFormData("form_new_pin"),s=e.extend(!0,r.extra.vmbox,t);l.ui.valid(n)&&v.usersUpdateVMBox(s,function(t){a.dialog("close").remove(),i.success(l.template(v,"!"+g.pinUpdated,{name:r.first_name+" "+r.last_name}))})}),t.find(".cancel-link").on("click",function(){a.dialog("close").remove()});var a=l.ui.dialog(t,{title:v.i18n.active().users.dialogChangePin.title})}),t.on("click","#change_username",function(){var n=e(l.template(v,"users-changePassword",r)),a=n.find("#form_new_username");l.ui.showPasswordStrength(n.find("#inputPassword")),l.ui.validate(a,{rules:{password:{minlength:6}}}),n.find(".reset-password").on("click",function(){var t={username:r.username,account_name:l.apps.auth.currentAccount.name};v.usersResetPassword(t,function(){s.dialog("close").remove(),i.success(l.template(v,"!"+g.successResetPassword,{name:t.username}))})}),n.find(".save-new-username").on("click",function(){var n=l.ui.getFormData("form_new_username"),o=e.extend(!0,{},r,n);l.ui.valid(a)&&(r.extra.differentEmail||(o.email=o.username),v.usersUpdateUser(o,function(e){r.username=e.data.username,t.find("#username").html(e.data.username),r.extra.differentEmail||(t.find("#email").val(e.data.email),r.email=e.username),s.dialog("close").remove(),i.success(l.template(v,"!"+g.userUpdated,{name:e.data.first_name+" "+e.data.last_name}))}))}),n.find(".cancel-link").on("click",function(){s.dialog("close").remove()});var s=l.ui.dialog(n,{title:v.i18n.active().users.dialogChangePassword.title})}),t.on("click","#open_fmfm_link",function(){y(function(t){t.openedTab="name",v.usersRender(t)})}),t.on("focus",".ringing-timeout.disabled #ringing_timeout",function(){e(this).blur()}),t.on("click",".create-device",function(){var n=e(this),a=n.data("type");n.parents(".grid-row").data("id");l.pub("voip.devices.renderAdd",{type:a,callback:function(e){var n=l.template(v,"users-rowSpareDevice",e),a=t.find(".list-assigned-items");a.find(".empty-row").hide(),a.append(n)}})}),t.on("click",".spare-devices:not(.disabled)",function(){var a=e.map(t.find(".device-list.list-assigned-items .item-row"),function(t){return e(t).data("id")});v.usersGetDevicesData(function(e){var i={};n.each(e,function(t){"owner_id"in t&&""!==t.owner_id&&t.owner_id!==r||a.indexOf(t.id)!==-1||(i[t.id]=t)}),l.pub("common.monsterListing.render",{dataList:i,dataType:"devices",okCallback:function(e){n.each(e,function(e){var n=l.template(v,"users-rowSpareDevice",e),a=t.find(".list-assigned-items");a.find(".empty-row").hide(),a.append(n),e.owner_id&&delete p[e.id]})}})})}),t.on("click",".save-devices",function(){var a={new:[],old:[]},s=e(this).parents(".grid-row").find(".grid-cell.name").text(),r=e(this).parents(".grid-row").data("id");t.find(".detail-devices .list-assigned-items .item-row:not(.assigned)").each(function(t,n){a.new.push(e(n).data("id"))}),a.old=n.keys(p),v.usersUpdateDevices(a,r,function(){i.success(l.template(v,"!"+g.devicesUpdated,{name:s})),v.usersRender({userId:r})})}),t.on("click",".detail-devices .edit-device-link",function(){var t=e(this).parents(".item-row"),n=t.data("id"),a=e(this).parents(".grid-row").data("id");l.pub("voip.devices.editDevice",{data:{id:n},callbackSave:function(e){t.find(".edit-device").html(e.name)},callbackDelete:function(t){v.usersRender({userId:a,openedTab:"devices"})}})}),t.on("click",".detail-devices .list-assigned-items .remove-device",function(){var a=e(this).parents(".item-row"),i=t.find(".grid-row.active").data("id"),r=a.data("id"),o=n.find(s.users,function(t,e){return t.id===i}),c=n.find(o.extra.devices,function(t,e){return t.id===r}),u=function(){a.hasClass("assigned")&&(p[a.data("id")]=!0),a.remove();var e=t.find(".detail-devices .list-assigned-items .item-row");e.is(":visible")===!1&&t.find(".detail-devices .list-assigned-items .empty-row").show()};c&&"mobile"===c.type?l.ui.confirm(v.i18n.active().users.confirmMobileUnAssignment.replace("{{variable}}",l.util.formatPhoneNumber(c.mobile.mdn)),u):u()}),t.on("click",".detail-numbers .list-assigned-items .remove-number",function(){var n=e(this),l=n.parents(".item-row");"mobile"!==l.data("type")&&(d.push(l.data("id")),l.slideUp(function(){l.remove(),t.find(".list-assigned-items .item-row").is(":visible")||t.find(".list-assigned-items .empty-row").slideDown(),t.find(".spare-link").removeClass("disabled")}))}),t.on("click",".actions .spare-link:not(.disabled)",function(a){a.preventDefault();var i=(e(this),{accountName:l.apps.auth.currentAccount.name,accountId:v.accountId,ignoreNumbers:e.map(t.find(".item-row"),function(t){return e(t).data("id")}),extraNumbers:d,callback:function(a,i){t.find(".empty-row").hide(),n.each(a,function(a,i){t.find(".list-assigned-items").append(e(l.template(v,"users-numbersItemRow",{number:a})));var s=t.find('[data-id="'+a.phoneNumber+'"]'),r={target:s.find(".edit-features"),numberData:a,afterUpdate:function(t){l.ui.paintNumberFeaturesIcon(t,s.find(".features"))}};l.pub("common.numberFeaturesMenu.render",r),d=n.without(d,a.phoneNumber)}),l.ui.tooltips(t),0==i&&t.find(".spare-link").addClass("disabled")}});l.pub("common.numbers.dialogSpare",i)}),t.on("click",".actions .buy-link",function(a){a.preventDefault(),l.pub("common.buyNumbers",{searchType:e(this).data("type"),callbacks:{success:function(a){n.each(a,function(n,a){n.phoneNumber=n.id;var i=e(l.template(v,"users-numbersItemRow",{number:n})),s={target:i.find(".edit-features"),numberData:n,afterUpdate:function(t){l.ui.paintNumberFeaturesIcon(t,i.find(".features"))}};l.pub("common.numberFeaturesMenu.render",s),l.ui.tooltips(i),t.find(".list-assigned-items .empty-row").hide(),t.find(".list-assigned-items").append(i)})}}})}),t.on("click",".save-numbers",function(){var n=e(this),a=e.extend(!0,[],c),s=n.parents(".grid-row").find(".grid-cell.name").text(),u=n.parents(".grid-row").data("id");t.find(".item-row").each(function(t,n){var n=e(n),l=n.data("id"),i=n.data("type");"mobile"!==i&&a.push(l)}),a.length>0?v.usersUpdateCallflowNumbers(u,(o||{}).id,a,function(t){var e=function(){i.success(l.template(v,"!"+g.numbersUpdated,{name:s})),v.usersRender({userId:t.owner_id})};r.caller_id.hasOwnProperty("external")&&r.caller_id.external.hasOwnProperty("number")&&t.numbers.indexOf(r.caller_id.external.number)<0?(delete r.caller_id.external.number,v.usersUpdateUser(r,function(){e(),i.info(g.callerIDDeleted)})):e()}):l.ui.alert("warning",v.i18n.active().users.noNumberCallflow)}),t.on("click",'.feature[data-feature="caller_id"]',function(){v.usersRenderCallerId(r)}),t.on("click",'.feature[data-feature="call_forward"]',function(){if(r.features.indexOf("find_me_follow_me")<0){var t=e.extend(!0,{},r);v.usersGetMainCallflow(t.id,function(e){if(e&&"flow"in e){for(var n=e.flow;"user"!=n.module&&"_"in n.children;)n=n.children._;n.data.timeout<30&&(t.extra.timeoutTooShort=!0)}v.usersRenderCallForward(t)})}else v.usersRenderCallForward(r)}),t.on("click",'.feature[data-feature="hotdesk"]',function(){v.usersRenderHotdesk(r)}),t.on("click",'.feature[data-feature="find_me_follow_me"]',function(){y()}),t.on("click",'.feature[data-feature="call_recording"]',function(){v.usersGetMainCallflow(r.id,function(t){t?v.usersRenderCallRecording({userCallflow:t,currentUser:r}):l.ui.alert("error",v.i18n.active().users.callRecording.noNumber)})}),t.on("click",'.feature[data-feature="music_on_hold"]',function(){v.usersRenderMusicOnHold(r)}),t.on("click",'.feature[data-feature="vm_to_email"]',function(){v.usersListVMBoxesUser(r.id,function(t){r.extra.deleteAfterNotify=!0,t.length>0?v.usersGetVMBox(t[0].id,function(t){r.extra.deleteAfterNotify=t.delete_after_notify,v.usersRenderVMToEmail(r)}):v.usersRenderVMToEmail(r)})}),t.on("click",'.feature[data-feature="conferencing"]',function(){v.usersGetConferenceFeature(r.id,function(t){var e={listConferences:t.listConfNumbers,user:r,conference:t.conference};n.isEmpty(e.listConferences)?l.ui.alert("error",v.i18n.active().users.conferencing.noConfNumbers):v.usersRenderConferencing(e)})}),t.on("click",'.feature[data-feature="faxing"]',function(){l.util.isTrial()?l.ui.alert("warning",v.i18n.active().users.faxing.trialError):l.parallel({numbers:function(t){v.usersListNumbers(function(e){var l={};n.each(e.numbers,function(t,e){t.hasOwnProperty("used_by")&&""!==t.used_by||(l[e]=t)}),t&&t(null,l)})},callflows:function(t){v.usersListCallflowsUser(r.id,function(e){var l;n.each(e,function(t){if("faxing"===t.type)return l=t,!1}),l?v.callApi({resource:"callflow.get",data:{accountId:v.accountId,callflowId:l.id},success:function(e,n){t&&t(null,e.data)}}):t&&t(null,l)})},account:function(t){v.callApi({resource:"account.get",data:{accountId:v.accountId},success:function(e,n){t(null,e.data)}})}},function(t,e){if(e.user=r,"undefined"!=typeof e.callflows){var n=e.callflows.flow.data.hasOwnProperty("faxbox_id")?e.callflows.flow.data.faxbox_id:e.callflows.flow.data.id;v.callApi({resource:"faxbox.get",data:{accountId:v.accountId,faxboxId:n},success:function(t){e.faxbox=t.data,e.faxbox.id=n,v.usersRenderFaxboxes(e)},error:function(){v.usersRenderFaxboxes(e)}})}else v.usersRenderFaxboxes(e)})}),e("body").on("click","#users_container_overlay",function(){t.find(".edit-user").slideUp("400",function(){e(this).empty()}),v.usersRemoveOverlay(),t.find(".grid-cell.active").css({position:"inline-block","z-index":"0"}),t.find(".grid-row.active").parent().siblings(".edit-user").css({position:"block","z-index":"0"}),t.find(".grid-cell.active").removeClass("active"),t.find(".grid-row.active").removeClass("active")})},usersUpdatePresenceIDPopup:function(t,n,a){var i=this,s={numbers:t},r=e(l.template(i,"users-changePresenceIDPopup",s)),o=r.find(".presence-id-option");o.on("click",function(){o.removeClass("active"),e(this).addClass("active")}),r.find(".save-presence-id").on("click",function(){var t=r.find(".presence-id-option.active").data("number");"none"!==t?n.presence_id=t+"":delete n.presence_id,c.dialog("close").remove(),a&&a(n)}),r.find(".cancel-link").on("click",function(){c.dialog("close").remove()});var c=l.ui.dialog(r,{title:i.i18n.active().users.presenceIDPopup.title,position:["center",20]})},usersHasProperPresenceId:function(t,e){if(e.presence_id){var l=!1,a=""+e.presence_id;return n.each(t,function(t){t===a&&(l=!0)}),l}return!t.length},usersFormatAddUser:function(t){var e={sendToSameEmail:!0,nextExtension:"",listExtensions:{},listVMBoxes:{}},a=[],i=[],s=[];return n.each(t.callflows,function(t){n.each(t.numbers,function(n){n.length<7&&(e.listExtensions[n]=t,a.push(n))})}),n.each(t.vmboxes,function(t){e.listVMBoxes[t.mailbox]=t,i.push(t.mailbox)}),s=a.concat(i),e.nextExtension=parseInt(l.util.getNextExtension(s))+"",e},usersFormatFaxingData:function(t){var l=[],a={};return n.each(t.numbers,function(t,e){l.push(e)}),l.sort(function(t,e){return t<e?-1:1}),t.callflows&&t.callflows.numbers.length>0&&(a[t.callflows.numbers[0]]=t.callflows.numbers[0]),n.each(l,function(t,e){a[t]=t}),t.extra=e.extend(!0,{},t.extra,{listNumbers:a}),t},usersRenderConferencing:function(t){var n=this,t=n.usersFormatConferencingData(t),a=e(l.template(n,"users-feature-conferencing",t)),i=a.find(".switch-state"),s=a.find("#conferencing_form");l.ui.validate(s),l.ui.mask(a.find("#pin"),"extension"),a.find(".cancel-link").on("click",function(){r.dialog("close").remove()}),i.on("change",function(){e(this).prop("checked")?a.find(".content").slideDown():a.find(".content").slideUp()}),a.find(".save").on("click",function(){var e={openedTab:"features",callback:function(){r.dialog("close").remove()}};l.ui.valid(s)&&(t.conference=l.ui.getFormData("conferencing_form"),i.prop("checked")?n.usersUpdateConferencing(t,function(t){e.userId=t.user.id,n.usersRender(e)}):n.usersDeleteConferencing(t.user.id,function(){e.userId=t.user.id,n.usersRender(e)}))});var r=l.ui.dialog(a,{title:t.user.extra.mapFeatures.conferencing.title,position:["center",20]})},usersFormatConferencingData:function(t){return t},usersRenderFaxboxes:function(t){var a=this,t=a.usersFormatFaxingData(t),i=e(l.template(a,"users-feature-faxing",t)),s=(i.find(".number-mirror"),i.find(".switch-state")),r=l.ui.dialog(i,{title:t.user.extra.mapFeatures.faxing.title,position:["center",20]});s.on("change",function(){e(this).prop("checked")?i.find(".content").slideDown():i.find(".content").slideUp()}),l.pub("common.numberSelector.render",{container:i.find(".number-select"),inputName:"caller_id",number:t.hasOwnProperty("faxbox")?t.faxbox.caller_id:void 0,removeCallback:function(){i.find(".number-mirror").text(a.i18n.active().users.faxing.emailToFax.default)},globalAddNumberCallback:function(t,e){var l=n.isObject(t)?n.keys(t)[0]:t;e&&e(l),i.find(".number-mirror").text(l)}}),i.find("#helper_content").on("shown",function(){e(this).siblings("a").find(".text").text(a.i18n.active().users.faxing.emailToFax.help.hideHelp),e(this).find("#destination_number").focus()}),i.find("#helper_content").on("hidden",function(){e(this).siblings("a").find(".text").text(a.i18n.active().users.faxing.emailToFax.help.showHelp)}),i.find(".cancel-link").on("click",function(){r.dialog("close").remove()}),i.find(".save").on("click",function(){var e=i.find('input[name="caller_id"]').val(),n={openedTab:"features",callback:function(){r.dialog("close").remove()}};s.prop("checked")?""!==e?a.usersUpdateFaxing(t,e,function(t){n.userId=t.callflow.owner_id,a.usersRender(n)}):l.ui.alert("error",a.i18n.active().users.faxing.toastr.error.numberMissing):a.usersDeleteFaxing(t.user.id,function(){n.userId=t.user.id,a.usersRender(n)})})},usersRenderHotdesk:function(t){var n=this,a=e(l.template(n,"users-feature-hotdesk",t)),i=a.find(".switch-state"),s=a.find('[name="require_pin"]'),r=a.find("#hotdesk_form");l.ui.validate(r),a.find(".cancel-link").on("click",function(){o.dialog("close").remove()}),i.on("change",function(){e(this).prop("checked")?a.find(".content").slideDown():a.find(".content").slideUp()}),s.on("change",function(){s.is(":checked")?a.find("#pin").removeAttr("disabled","disabled").focus():a.find("#pin").val("").attr("disabled","disabled")}),a.find(".save").on("click",function(){if(l.ui.valid(r)){var a=l.ui.getFormData("hotdesk_form"),s={openedTab:"features",callback:function(){o.dialog("close").remove()}};a.enabled=i.prop("checked"),a.require_pin===!1&&delete a.pin,delete t.hotdesk,userToSave=e.extend(!0,{},t,{hotdesk:a}),n.usersUpdateUser(userToSave,function(t){s.userId=t.data.id,n.usersRender(s)})}});var o=l.ui.dialog(a,{title:t.extra.mapFeatures.hotdesk.title,position:["center",20]})},usersRenderVMToEmail:function(t){var a=this,i=e(l.template(a,"users-feature-vm_to_email",t)),s=i.find(".switch-state"),r=i.find("#vm_to_email_form");l.ui.validate(r),i.find(".cancel-link").on("click",function(){o.dialog("close").remove()}),s.on("change",function(){e(this).prop("checked")?i.find(".content").slideDown():i.find(".content").slideUp()}),i.find(".save").on("click",function(){var i=l.ui.getFormData("vm_to_email_form"),c=e.extend(!0,{},t),u=s.prop("checked"),d={callback:function(){o.dialog("close").remove()},openedTab:"features"},p=function(t){a.usersUpdateUser(t,function(t){d.userId=t.data.id,a.usersRender(d)})},m=function(t,e,i){a.usersListVMBoxesUser(e,function(e){var s=[];n.each(e,function(e){s.push(function(n){a.usersGetVMBox(e.id,function(e){e.delete_after_notify!==t?(e.delete_after_notify=t,a.usersUpdateVMBox(e,function(t){n(null,t)})):n(null,e)})})}),l.parallel(s,function(t,e){i&&i(e)})})};c.vm_to_email_enabled=u,u===!0?l.ui.valid(r)&&(c.email=i.email,m(i.delete_after_notify,c.id,function(){p(c)})):p(c)});var o=l.ui.dialog(i,{title:t.extra.mapFeatures.vm_to_email.title,position:["center",20]})},usersRenderCallerId:function(t){var n=this,a=e(l.template(n,"users-feature-caller_id",t)),i=a.find(".switch-state");if(a.find(".cancel-link").on("click",function(){s.dialog("close").remove()}),i.on("change",function(){e(this).prop("checked")?a.find(".content").slideDown():a.find(".content").slideUp()}),a.find(".save").on("click",function(){var l=a.find(".switch-state"),i=e.extend(!0,{},{caller_id:{external:{}}},t),r={openedTab:"features",callback:function(){s.dialog("close").remove()}};if(l.prop("checked")){var o=a.find(".caller-id-select").val();i.caller_id.external.number=o}else i.caller_id.hasOwnProperty("external")&&delete i.caller_id.external.number;n.usersUpdateUser(i,function(t){r.userId=t.data.id,n.usersRender(r)})}),t.extra.listCallerId.length>0)var s=l.ui.dialog(a,{title:t.extra.mapFeatures.caller_id.title,position:["center",20]});else l.ui.alert("error",n.i18n.active().users.errorCallerId)},usersFormatCallForwardData:function(t){var e="off";return t.extra=t.extra||{},t.hasOwnProperty("call_forward")&&t.call_forward.hasOwnProperty("enabled")&&(t.call_forward.enabled===!0?e="on":t.call_forward.enabled===!1&&(e=t.call_forward.hasOwnProperty("failover")&&t.call_forward.failover===!0?"failover":"off")),t.extra.callForwardMode=e,t},usersRenderCallForward:function(t){var n=this,a=n.usersFormatCallForwardData(t),i=e(l.template(n,"users-feature-call_forward",a)),s=i.find(".switch-state"),r=i.find("#call_forward_form"),o={callback:function(){u.dialog("close").remove()},openedTab:"features"},c=i.find(".help-box.red-box");l.ui.mask(i.find("#number"),"phoneNumber"),t.hasOwnProperty("call_forward")&&t.call_forward.require_keypress&&c.hide(),l.ui.validate(r),i.find('input[name="require_keypress"]').on("change",function(){c.toggle()}),i.find(".cancel-link").on("click",function(){u.dialog("close").remove()}),i.find(".feature-select-mode button").on("click",function(){var t=e(this);i.find(".feature-select-mode button").removeClass("selected monster-button-primary"),e(this).addClass("selected monster-button-primary"),"off"===t.data("value")?i.find(".content").slideUp():i.find(".content").slideDown(),"failover"===t.data("value")?i.find(".failover-info").slideDown():i.find(".failover-info").slideUp()}),s.on("change",function(){e(this).prop("checked")?i.find(".content").slideDown():i.find(".content").slideUp()}),i.find(".save").on("click",function(){if(l.ui.valid(r)){var a=l.ui.getFormData("call_forward_form");a.require_keypress=!a.require_keypress;var s=i.find(".feature-select-mode button.selected").data("value");"off"===s?(a.enabled=!1,a.failover=!1):"failover"===s?(a.enabled=!1,a.failover=!0):(a.enabled=!0,a.failover=!0),a.number=l.util.unformatPhoneNumber(a.number,"keepPlus"),delete a.phoneType;var u=e.extend(!0,{},t,{call_forward:a});c.is(":visible")&&(o.openedTab="name"),n.usersUpdateUser(u,function(t){o.userId=t.data.id,n.usersRender(o)})}}),t.hasOwnProperty("call_forward")&&t.call_forward.number&&/^(\+1)/.test(t.call_forward.number)?i.find("#phoneType").val("mobile"):i.find("#phoneType").val("deskphone");var u=l.ui.dialog(i,{title:t.extra.mapFeatures.call_forward.title,position:["center",20]});u.find(".monster-button").blur()},usersRenderFindMeFollowMe:function(t){var a=this;if(t.userCallflow)if(t.userDevices&&0!==t.userDevices.length){for(var i=t.currentUser,s=t.userCallflow,r=e(l.template(a,"users-feature-find_me_follow_me",{currentUser:i})),o=r.find(".switch-state"),c=r.find("#find_me_follow_me_form"),u={callback:function(){m.dialog("close").remove()},openedTab:"features"},d={},p=s.flow;p.hasOwnProperty("module")&&["ring_group","user"].indexOf(p.module)<0;)p=p.children._;endpoints="ring_group"===p.module?p.data.endpoints:[],n.each(t.userDevices,function(t){d[t.id]=t}),endpoints=e.map(endpoints,function(t){if(d[t.id]){var e=d[t.id];return delete d[t.id],{id:t.id,delay:t.delay,timeout:t.timeout,name:e.name,icon:a.deviceIcons[e.device_type],disabled:!1}}}),n.each(d,function(t){endpoints.push({id:t.id,delay:0,timeout:0,name:t.name,icon:a.deviceIcons[t.device_type],disabled:!0})}),l.pub("common.ringingDurationControl.render",{container:c,endpoints:endpoints,hasDisableColumn:!0}),r.find(".cancel-link").on("click",function(){m.dialog("close").remove()}),o.on("change",function(){e(this).prop("checked")?r.find(".content").slideDown():r.find(".content").slideUp()}),r.find(".save").on("click",function(){var e=o.prop("checked");l.pub("common.ringingDurationControl.getEndpoints",{container:c,callback:function(r){i.smartpbx=i.smartpbx||{},i.smartpbx.find_me_follow_me=i.smartpbx.find_me_follow_me||{},i.smartpbx.find_me_follow_me.enabled=e&&r.length>0;var o={};e&&r.length>0?(o.module="ring_group",o.data={strategy:"simultaneous",timeout:20,endpoints:[]},n.each(r,function(t){o.data.endpoints.push({id:t.id,endpoint_type:"device",delay:t.delay,timeout:t.timeout}),t.delay+t.timeout>o.data.timeout&&(o.data.timeout=t.delay+t.timeout)})):(o.module="user",o.data={can_call_self:!1,id:i.id,timeout:20});for(var c=s.flow;c.hasOwnProperty("module")&&["ring_group","user"].indexOf(c.module)<0;)c=c.children._;c.module=o.module,c.data=o.data,l.parallel({callflow:function(t){a.usersUpdateCallflow(s,function(e){t&&t(null,e.data)})},user:function(t){a.usersUpdateUser(i,function(e){t&&t(null,e.data)})}},function(e,n){u.userId=n.user.id,"function"==typeof t.saveCallback?t.saveCallback(u):a.usersRender(u)})}})});var m=l.ui.dialog(r,{title:i.extra.mapFeatures.find_me_follow_me.title,position:["center",20]})}else l.ui.alert("error",a.i18n.active().users.find_me_follow_me.noDevice);else l.ui.alert("error",a.i18n.active().users.find_me_follow_me.noNumber)},usersRenderCallRecording:function(t){var n,a=this,i=e.extend(!0,{user:t.currentUser},t.currentUser.extra.mapFeatures.call_recording.active?{url:t.userCallflow.flow.data.url,format:t.userCallflow.flow.data.format,timeLimit:t.userCallflow.flow.data.time_limit}:{}),s=e(l.template(a,"users-feature-call_recording",i)),r=s.find(".switch-state"),o=s.find("#call_recording_form");l.ui.validate(o,{rules:{time_limit:{digits:!0}}}),s.find(".cancel-link").on("click",function(){n.dialog("close").remove()}),r.on("change",function(){e(this).prop("checked")?s.find(".content").slideDown():s.find(".content").slideUp()}),s.find(".save").on("click",function(){if(l.ui.valid(o)){var i=l.ui.getFormData("call_recording_form"),s=r.prop("checked");if("smartpbx"in t.currentUser||(t.currentUser.smartpbx={}),"call_recording"in t.currentUser.smartpbx||(t.currentUser.smartpbx.call_recording={enabled:!1}),t.currentUser.smartpbx.call_recording.enabled||s){t.currentUser.smartpbx.call_recording.enabled=s;var c=e.extend(!0,{},t.userCallflow);if(s)if("record_call"===c.flow.module)c.flow.data=e.extend(!0,{action:"start"},i);else{c.flow={children:{_:e.extend(!0,{},t.userCallflow.flow)},module:"record_call",data:e.extend(!0,{action:"start"},i)};for(var u=c.flow;u.children&&"_"in u.children&&("record_call"!==u.children._.module||"stop"!==u.children._.data.action);){if("voicemail"===u.children._.module){var d=e.extend(!0,{},u.children._);u.children._={module:"record_call",data:{action:"stop"},children:{_:d}};break}u=u.children._}}else{c.flow=e.extend(!0,{},t.userCallflow.flow.children._);for(var u=c.flow;u.children&&"_"in u.children;){if("record_call"===u.children._.module){u.children=u.children._.children;break}u=u.children._}}a.usersUpdateCallflow(c,function(e){a.usersUpdateUser(t.currentUser,function(e){n.dialog("close").remove(),a.usersRender({userId:t.currentUser.id,openedTab:"features"})})})}else n.dialog("close").remove(),a.usersRender({userId:t.currentUser.id,openedTab:"features"})}}),n=l.ui.dialog(s,{title:t.currentUser.extra.mapFeatures.call_recording.title,position:["center",20]})},usersRenderMusicOnHold:function(t){var n=this,a="silence_stream://300000",i=void 0;n.usersListMedias(function(s){var r,o={user:t,silenceMedia:a,mediaList:s,media:"music_on_hold"in t&&"media_id"in t.music_on_hold?t.music_on_hold.media_id:a},c=e(l.template(n,"users-feature-music_on_hold",o)),u=c.find(".switch-state"),d=function(t){if(i=void 0,c.find(".upload-div input").val(""),c.find(".upload-div").slideUp(function(){c.find(".upload-toggle").removeClass("active")}),t){var e=c.find(".media-dropdown");e.append('<option value="'+t.id+'">'+t.name+"</option>"),e.val(t.id)}};c.find(".upload-input").fileUpload({inputOnly:!0,wrapperClass:"file-upload input-append",btnText:n.i18n.active().users.music_on_hold.audioUploadButton,btnClass:"monster-button",maxSize:5,success:function(t){i=t[0]},error:function(t){t.hasOwnProperty("size")&&t.size.length>0&&l.ui.alert(n.i18n.active().users.music_on_hold.fileTooBigAlert),c.find(".upload-div input").val(""),i=void 0}}),c.find(".cancel-link").on("click",function(){r.dialog("close").remove()}),u.on("change",function(){e(this).prop("checked")?c.find(".content").slideDown():c.find(".content").slideUp()}),c.find(".upload-toggle").on("click",function(){e(this).hasClass("active")?c.find(".upload-div").stop(!0,!0).slideUp():c.find(".upload-div").stop(!0,!0).slideDown()}),c.find(".upload-cancel").on("click",function(){d()}),c.find(".upload-submit").on("click",function(){i?n.callApi({resource:"media.create",data:{accountId:n.accountId,data:{streamable:!0,name:i.name,media_source:"upload",description:i.name}},success:function(t,e){var l=t.data;n.callApi({resource:"media.upload",data:{accountId:n.accountId,mediaId:l.id,data:i.file},success:function(t,e){d(l)},error:function(t,e){n.callApi({resource:"media.delete",data:{accountId:n.accountId,mediaId:l.id,data:{}},success:function(t,e){}})}})}}):l.ui.alert(n.i18n.active().users.music_on_hold.emptyUploadAlert)}),c.find(".save").on("click",function(){var e=c.find(".media-dropdown option:selected").val(),l=u.prop("checked");"music_on_hold"in t||(t.music_on_hold={}),"media_id"in t.music_on_hold||l?(l?t.music_on_hold={media_id:e}:t.music_on_hold={},n.usersUpdateUser(t,function(e){r.dialog("close").remove(),n.usersRender({userId:t.id,openedTab:"features"})})):(r.dialog("close").remove(),n.usersRender({userId:t.id,openedTab:"features"}))}),r=l.ui.dialog(c,{title:t.extra.mapFeatures.music_on_hold.title,position:["center",20]})})},usersCleanUserData:function(t){var t=e.extend(!0,{},t),n=t.first_name+" "+t.last_name,l=n.substring(0,15),a={caller_id:{internal:{name:l}}};return t=e.extend(!0,t,a),t.extra&&(t.extra.includeInDirectory===!1?"directories"in t&&t.extra.mainDirectoryId&&t.extra.mainDirectoryId in t.directories&&delete t.directories[t.extra.mainDirectoryId]:(t.directories=t.directories||{},t.extra.mainCallflowId&&(t.directories[t.extra.mainDirectoryId]=t.extra.mainCallflowId)),"differentEmail"in t.extra&&t.extra.differentEmail?"email"in t.extra&&(t.email=t.extra.email):t.email=t.username,"language"in t.extra&&("auto"!==t.extra.language?t.language=t.extra.language:delete t.language)),t.hasOwnProperty("call_forward")&&""===t.call_forward.number&&delete t.call_forward.number,t.hasOwnProperty("presence_id")&&"unset"!==t.presence_id&&t.presence_id?t.caller_id.internal.number=t.presence_id+"":(delete t.presence_id,t.caller_id.hasOwnProperty("internal")&&delete t.caller_id.internal.number),"inherit"===t.timezone&&delete t.timezone,delete t.include_directory,delete t.features,delete t.extra,delete t[""],t},usersGetTemplate:function(t,e,n,l){var a=this;"name"===t?a.usersGetNameTemplate(e,n,l):"numbers"===t?a.usersGetNumbersTemplate(e,l):"extensions"===t?a.usersGetExtensionsTemplate(e,l):"features"===t?a.usersGetFeaturesTemplate(e,n,l):"devices"===t&&a.usersGetDevicesTemplate(e,l)},usersGetFeaturesTemplate:function(t,a,i){var s=this;s.usersGetUser(t,function(t){n.each(a.users,function(n){n.id===t.id&&(t=e.extend(!0,t,n))});var r=s.usersFormatUserData(t);template=e(l.template(s,"users-features",r)),i&&i(template,r)})},usersGetNameTemplate:function(t,i,s){var r=this;l.parallel({mainCallflow:function(e){r.usersGetMainCallflow(t,function(t){e(null,t)})},mainDirectory:function(t){r.usersGetMainDirectory(function(e){t(null,e)})},user:function(e){r.usersGetUser(t,function(t){e(null,t)})},vmboxes:function(e){r.usersListVMBoxes(function(l){var a,i={listExisting:[],userVM:{}};n.each(l,function(e){i.listExisting.push(e.mailbox),e.owner_id!==t||a||(a=e.id)}),a?r.usersGetVMBox(a,function(t){i.userVM=t,e(null,i)}):e(null,i)})}},function(t,o){var c=o.user;n.each(i.users,function(t){if(t.id===o.user.id)return c=e.extend(!0,t,c),!1});var u=r.usersFormatUserData(c,o.mainDirectory,o.mainCallflow,o.vmboxes.userVM,o.vmboxes.listExisting);template=e(l.template(r,"users-name",u)),l.ui.validate(template.find("form.user-fields"),{rules:{"extra.ringingTimeout":{digits:!0}},messages:{first_name:{required:r.i18n.active().validation.required},last_name:{required:r.i18n.active().validation.required}}}),a.populateDropdown(template.find("#user_timezone"),u.timezone||"inherit",{inherit:r.i18n.active().defaultTimezone}),l.ui.tooltips(template,{options:{container:"body"}}),s&&s(template,u)})},usersGetDevicesData:function(t){var e=this;e.callApi({resource:"device.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(e.data)}})},usersGetNumbersData:function(t,n,a){var i=this,s={user:function(e){i.usersGetUser(t,function(t){e&&e(null,t)})},
callflow:function(n){var l={};i.usersListCallflows(function(a){l.list=a;var s;e.each(a,function(e,n){if(n.owner_id===t&&"mainUserCallflow"===n.type)return s=n.id,!1}),s?i.callApi({resource:"callflow.get",data:{accountId:i.accountId,callflowId:s},success:function(t){l.userCallflow=t.data,n&&n(null,l)}}):n&&n(null,l)})},numbers:function(t){i.usersListNumbers(function(e){t&&t(null,e)})}};a&&(s.devices=function(e){i.usersListDeviceUser(t,function(t){e&&e(null,t)})}),l.parallel(s,function(t,e){n&&n(e)})},usersGetNumbersTemplate:function(t,a){var i,s=this;s.usersGetNumbersData(t,function(r){s.usersFormatNumbersData(t,r,function(t){i=e(l.template(s,"users-numbers",t)),n.each(t.assignedNumbers,function(t){var e=i.find('[data-id="'+t.phoneNumber+'"]'),n={target:e.find(".edit-features"),numberData:t,afterUpdate:function(t){l.ui.paintNumberFeaturesIcon(t,e.find(".features"))}};l.pub("common.numberFeaturesMenu.render",n)}),a&&a(i,t)})},!0)},usersGetDevicesTemplate:function(t,n){var a,i=this;i.usersGetDevicesData(function(s){var r=i.usersFormatDevicesData(t,s);a=e(l.template(i,"users-devices",r)),n&&n(a,s)})},usersGetExtensionsTemplate:function(t,n){var a,i=this;i.usersGetNumbersData(t,function(s){i.usersFormatNumbersData(t,s,function(t){a=e(l.template(i,"users-extensions",t)),n&&n(a,t)})})},usersFormatDevicesData:function(t,e){var l={countSpare:0,assignedDevices:{},unassignedDevices:{}};return n.each(e,function(e){e.owner_id===t?l.assignedDevices[e.id]=e:""!==e.owner_id&&"owner_id"in e||(l.countSpare++,l.unassignedDevices[e.id]=e)}),l.emptyAssigned=n.isEmpty(l.assignedDevices),l.emptySpare=n.isEmpty(l.unassignedDevices),l},usersFormatNumbersData:function(t,e,a){var i={countSpare:0,assignedNumbers:[],unassignedNumbers:{},callflow:e.callflow.userCallflow,extensions:[],user:e.user||{}};e.hasOwnProperty("devices")&&e.devices.length&&n.each(e.devices,function(t,n){"mobile"===t.device_type&&(e.numbers.numbers[t.mobile.mdn]={assigned_to:i.user.id,features:["mobile"],isLocal:!1,phoneNumber:t.mobile.mdn,state:"in_service",used_by:"mobile"})}),"numbers"in e.numbers&&n.each(e.numbers.numbers,function(t,e){t.localityEnabled="locality"in t,t.hasOwnProperty("used_by")&&""!==t.used_by?"mobile"===t.used_by&&i.assignedNumbers.push(t):(i.countSpare++,i.unassignedNumbers[e]=t)}),i.callflow&&n.each(i.callflow.numbers,function(t){if(t in e.numbers.numbers){var n=e.numbers.numbers[t];n.phoneNumber=t,n.isLocal=n.features.indexOf("local")>-1,i.assignedNumbers.push(n)}else i.extensions.push(t)}),i.assignedNumbers=l.util.sort(i.assignedNumbers,"phoneNumber"),i.allExtensions=[],n.each(e.callflow.list,function(t){n.each(t.numbers,function(t){t in e.numbers.numbers||n.isNaN(parseInt(t))||i.allExtensions.push(t)})}),i.allExtensions.sort(function(t,e){var n=parseInt(t),l=parseInt(e),a=-1;return n>0&&l>0&&(a=n>l),a}),i.emptyAssigned=n.isEmpty(i.assignedNumbers),i.emptySpare=n.isEmpty(i.unassignedNumbers),i.emptyExtensions=n.isEmpty(i.extensions),a&&a(i)},usersFormatCreationData:function(t,n){var l=t.user.first_name+" "+t.user.last_name,a=l.substring(0,15),i={user:e.extend(!0,{},{caller_id:{internal:{name:a,number:t.callflow.extension}},presence_id:t.callflow.extension,email:t.extra.differentEmail?t.extra.email:t.user.username,priv_level:"user"},t.user),vmbox:{mailbox:t.callflow.extension,name:l+"'s VMBox"},callflow:{contact_list:{exclude:!1},flow:{children:{_:{children:{},data:{},module:"voicemail"}},data:{can_call_self:!1,timeout:20},module:"user"},name:l+" SmartPBX's Callflow",numbers:[(t.callflow||{}).extension]},extra:t.extra};return i},usersDelete:function(t,a,i,s){var r=this;l.parallel({devices:function(e){r.usersListDeviceUser(t,function(t){e(null,t)})},vmbox:function(e){r.usersListVMBoxesUser(t,function(t){e(null,t)})},callflows:function(e){r.usersListCallflowsUser(t,function(t){e(null,t)})},conferences:function(e){r.usersListConferences(t,function(t){e(null,t)})}},function(o,c){var u=[];n.each(c.devices,function(t){u.push(function(e){a?r.usersDeleteDevice(t.id,function(t){e(null,"")}):r.usersUnassignDevice(t.id,function(t){e(null,"")})})}),u.push(function(t){r.usersRemoveBulkConferences(c.conferences,i,function(){t(null,"")})}),n.each(c.callflows,function(t){"mobile"===t.type?u.push(function(n){l.parallel({callflow:function(e){r.usersGetCallflow(t.id,function(t){e(null,t)})},mobileDevice:function(e){r.usersGetMobileDevice(t.numbers[0].slice(2),function(t){e(null,t)})}},function(t,l){var a=l.callflow,i=l.mobileDevice.id;delete a.owner_id,e.extend(!0,a,{flow:{module:"device",data:{id:i}}}),r.usersUpdateCallflow(a,function(t){n(null,t)})})}):u.push(function(e){r.usersDeleteCallflow(t.id,function(t){e(null,"")})})}),n.each(c.vmbox,function(t){u.push(function(e){r.usersDeleteVMBox(t.id,function(t){e(null,"")})})}),l.parallel(u,function(e,n){r.usersDeleteUser(t,function(t){s&&s(t)})})})},usersGetCallflow:function(t,e){var n=this;n.callApi({resource:"callflow.get",data:{accountId:n.accountId,callflowId:t},success:function(t,n){e(t.data)}})},usersGetMobileDevice:function(t,e){var n=this;n.callApi({resource:"device.list",data:{accountId:n.accountId,data:{filters:{"filter_mobile.mdn":t}}},success:function(t,n){e(t.data)}})},usersDeleteUser:function(t,e){var n=this;n.callApi({resource:"user.delete",data:{userId:t,accountId:n.accountId,data:{}},success:function(t){e(t.data)}})},usersDeleteVMBox:function(t,e){var n=this;n.callApi({resource:"voicemail.delete",data:{voicemailId:t,accountId:n.accountId,data:{}},success:function(t){e(t.data)}})},usersUnassignDevice:function(t,e){var n=this;n.usersGetDevice(t,function(t){delete t.owner_id,n.usersUpdateDevice(t,function(t){e&&e(t)})})},usersDeleteDevice:function(t,e){var n=this;n.callApi({resource:"device.delete",data:{deviceId:t,accountId:n.accountId,data:{}},success:function(t){e(t.data)}})},usersDeleteCallflow:function(t,e){var n=this;n.callApi({resource:"callflow.delete",data:{callflowId:t,accountId:n.accountId,data:{}},success:function(t){e(t.data)}})},usersCreate:function(t,e){var n=this;n.callApi({resource:"user.create",data:{accountId:n.accountId,data:t.user},success:function(l){var a=l.data.id;t.user.id=a,t.vmbox.owner_id=a,n.usersCreateVMBox(t.vmbox,function(i){t.callflow.owner_id=a,t.callflow.type="mainUserCallflow",t.callflow.flow.data.id=a,t.callflow.flow.children._.data.id=i.id,n.usersCreateCallflow(t.callflow,function(a){t.extra.includeInDirectory?n.usersAddUserToMainDirectory(l.data,a.id,function(n){e(t)}):e(t)})})}})},usersMigrateFromExtensions:function(t,e,n){var l=this;l.usersGetUser(t,function(t){t.extra={vmbox:{mailbox:e[0]}};var a=t.first_name+" "+t.last_name,i={contact_list:{exclude:!1},flow:{children:{_:{children:{},data:{},module:"voicemail"}},data:{id:t.id,can_call_self:!1,timeout:20},module:"user"},name:a+" SmartPBX's Callflow",numbers:e,owner_id:t.id,type:"mainUserCallflow"};l.usersSmartUpdateVMBox({user:t,needVMUpdate:!1,callback:function(t){i.flow.children._.data.id=t.id,l.usersCreateCallflow(i,function(t){n&&n(t)},function(t,e){var a=function(){e&&e(t,{generateError:!0})};"400"===t.error&&t.hasOwnProperty("data")&&t.data.hasOwnProperty("numbers")&&t.data.numbers.hasOwnProperty("unique")?l.usersHasKazooUICallflow(i,function(t){l.usersMigrateKazooUIUser(i,t,n)},a):a()},!1)}})})},usersGetCallflowFromNumber:function(t,e){var l=this,a=!1;l.callApi({resource:"callflow.searchByNumber",data:{accountId:l.accountId,value:t},success:function(i){i.data.length>0?(n.each(i.data,function(i){n.each(i.numbers,function(n){n===t&&a===!1&&(a=!0,l.callApi({resource:"callflow.get",data:{accountId:l.accountId,callflowId:i.id},success:function(t){e&&e(t.data)}}))})}),a===!1&&e&&e({})):e&&e({})}})},usersHasKazooUICallflow:function(t,e,a){var i,s=this,r={},o=0;n.each(t.numbers,function(t){r[t]=function(e){s.usersGetCallflowFromNumber(t,function(t){t.hasOwnProperty("ui_metadata")&&t.ui_metadata.hasOwnProperty("ui")&&"monster-ui"===t.ui_metadata.ui||("undefined"!=typeof i?t.id!==i.id&&o++:(o++,i=t)),e&&e(null,{})})}}),l.parallel(r,function(t,n){0===o?a&&a():o>1?l.ui.alert(s.i18n.active().users.migration.tooManyCallflows):e&&e(i)})},usersMigrateKazooUIUser:function(t,e,a){var i=this,s=[];t.numbers=e.numbers,n.each(e.numbers,function(t){s.push("old_"+t+"_r"+l.util.randomString(6))}),e.numbers=s,l.ui.confirm(i.i18n.active().users.migration.confirmMigration,function(){i.usersUpdateCallflow(e,function(e){i.usersCreateCallflow(t,function(t){a&&a(t)})})})},usersAddUserToMainDirectory:function(t,e,n){var l=this;l.usersGetMainDirectory(function(a){t.directories=t.directories||{},t.directories[a.id]=e,l.usersUpdateUser(t,function(t){n&&n(t)})})},usersGetMainCallflow:function(t,e){var l=this;l.usersListCallflowsUser(t,function(a){var i=-1;n.each(a,function(e,n){if(e.owner_id===t&&"mainUserCallflow"===e.type||!("type"in e))return i=n,!1}),i===-1?e(null):l.callApi({resource:"callflow.get",data:{accountId:l.accountId,callflowId:a[i].id},success:function(t){e(t.data)},error:function(){e(a[i])}})})},usersSearchMobileCallflowsByNumber:function(t,e,n){var l=this;l.callApi({resource:"callflow.searchByNumber",data:{accountId:l.accountId,value:encodeURIComponent("+1"+e),filter_owner_id:t,filter_type:"mobile"},success:function(t){n(t.data[0])}})},usersGetMainDirectory:function(t){var e=this;e.usersListDirectories(function(l){var a=-1;n.each(l,function(t,e){if("SmartPBX Directory"===t.name)return a=e,!1}),a===-1?e.usersCreateMainDirectory(function(e){t(e)}):t(l[a])})},usersListDirectories:function(t){var e=this;e.callApi({resource:"directory.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(e.data)}})},usersCreateMainDirectory:function(t){var e=this,n={confirm_match:!1,max_dtmf:0,min_dtmf:3,name:"SmartPBX Directory",sort_by:"last_name"};e.callApi({resource:"directory.create",data:{accountId:e.accountId,data:n},success:function(e){t&&t(e.data)}})},usersListCallflows:function(t){var e=this;e.callApi({resource:"callflow.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t(e.data)}})},usersListCallflowsUser:function(t,e){var n=this;n.callApi({resource:"callflow.list",data:{accountId:n.accountId,filters:{filter_owner_id:t,paginate:"false"}},success:function(t){e(t.data)}})},usersListVMBoxes:function(t){var e=this;e.callApi({resource:"voicemail.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t(e.data)}})},usersListVMBoxesUser:function(t,e){var n=this;n.callApi({resource:"voicemail.list",data:{accountId:n.accountId,filters:{filter_owner_id:t,paginate:"false"}},success:function(t){e(t.data)}})},usersGetVMBox:function(t,e){var n=this;n.callApi({resource:"voicemail.get",data:{accountId:n.accountId,voicemailId:t},success:function(t){e(t.data)}})},usersCreateVMBox:function(t,e){var n=this;n.callApi({resource:"voicemail.create",data:{accountId:n.accountId,data:t},success:function(t){e(t.data)}})},usersUpdateVMBox:function(t,e){var n=this;delete t.timezone,n.callApi({resource:"voicemail.update",data:{accountId:n.accountId,data:t,voicemailId:t.id},success:function(t){e(t.data)}})},usersGetUser:function(t,e){var n=this;n.callApi({resource:"user.get",data:{accountId:n.accountId,userId:t},success:function(t){e&&e(t.data)}})},usersUpdateOriginalUser:function(t,e){var n=this;n.usersUpdateUserAPI(t,e,l.apps.auth.originalAccount.id)},usersUpdateUser:function(t,e){var n=this;t=n.usersCleanUserData(t),n.usersUpdateUserAPI(t,e,n.accountId)},usersUpdateUserAPI:function(t,e,n){var l=this;l.callApi({resource:"user.update",data:{accountId:n,userId:t.id,data:t},success:function(t){e&&e(t)}})},usersGetConferenceFeature:function(t,e){var n=this,a={conference:{},listConfNumbers:[]};l.parallel({confNumbers:function(t){n.usersListConfNumbers(function(e){t&&t(null,e)})},listConferences:function(e){n.usersListConferences(t,function(t){t.length>0?n.usersGetConference(t[0].id,function(t){e&&e(null,t)}):e&&e(null,{})})}},function(t,n){a.conference=n.listConferences,a.listConfNumbers=n.confNumbers,e&&e(a)})},usersListConfNumbers:function(t){var e=this;e.callApi({resource:"callflow.list",data:{accountId:e.accountId,filters:{filter_type:"conference",paginate:"false"}},success:function(e){var l=[];n.each(e.data,function(t){"MainConference"===t.name&&t.numbers.length>0&&"undefinedconf"!==t.numbers[0]&&(l=l.concat(t.numbers))}),t&&t(l)}})},usersListConferences:function(t,e){var n=this;n.callApi({resource:"conference.list",data:{accountId:n.accountId,filters:{filter_owner_id:t,paginate:"false"}},success:function(t){e(t.data)}})},usersGetConference:function(t,e){var n=this;n.callApi({resource:"conference.get",data:{accountId:n.accountId,conferenceId:t},success:function(t){e(t.data)}})},usersUnassignConference:function(t,e){var n=this;n.usersGetConference(t,function(t){t.name="Unassigned "+t.name,delete t.owner_id,n.usersUpdateConference(t,function(t){e&&e(t)})})},usersUpdateConference:function(t,e){var n=this;n.callApi({resource:"conference.update",data:{accountId:n.accountId,conferenceId:t.id,data:t},success:function(t){e(t.data)}})},usersCreateConference:function(t,e){var n=this;n.callApi({resource:"conference.create",data:{accountId:n.accountId,data:t},success:function(t){e(t.data)}})},usersDeleteConference:function(t,e){var n=this;n.callApi({resource:"conference.delete",data:{accountId:n.accountId,conferenceId:t,data:{}},success:function(t){e(t.data)}})},usersGetDevice:function(t,e){var n=this;n.callApi({resource:"device.get",data:{accountId:n.accountId,deviceId:t},success:function(t){e(t.data)}})},usersUpdateDevice:function(t,e){var n=this;n.callApi({resource:"device.update",data:{accountId:n.accountId,data:t,deviceId:t.id},success:function(t){e(t.data)}})},usersListDeviceUser:function(t,e){var n=this;n.callApi({resource:"device.list",data:{accountId:n.accountId,filters:{filter_owner_id:t,paginate:"false"}},success:function(t){e(t.data)}})},usersListMedias:function(t){var e=this;e.callApi({resource:"media.list",data:{accountId:e.accountId},success:function(e){t(e.data)}})},usersGetData:function(t){var e=this;l.parallel({users:function(t){e.callApi({resource:"user.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t(null,e.data)}})},callflows:function(t){e.usersListCallflows(function(e){t(null,e)})},devices:function(t){e.usersGetDevicesData(function(e){t(null,e)})},deviceStatus:function(t){e.callApi({resource:"device.getStatus",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e,n){t(null,e.data)}})}},function(e,n){t&&t(n)})},usersUpdateDevices:function(t,a,i){var s=this,r=function(r){var o=[],c=function(t,e){s.usersUpdateDevice(t,function(t){e(null,t)})};if(n.each(t.new,function(t){o.push(function(n){s.usersGetDevice(t,function(l){l.owner_id=a,"mobile"===l.device_type?s.usersSearchMobileCallflowsByNumber(a,l.mobile.mdn,function(i){s.callApi({resource:"callflow.get",data:{accountId:s.accountId,callflowId:i.id},success:function(i,o){var u=i.data;r?e.extend(!0,u,{owner_id:a,flow:{module:"callflow",data:{id:r.id}}}):e.extend(!0,u,{owner_id:a,flow:{module:"device",data:{id:t}}}),s.usersUpdateCallflow(u,function(){c(l,n)})}})}):c(l,n)})})}),n.each(t.old,function(t){o.push(function(n){s.usersGetDevice(t,function(l){delete l.owner_id,"mobile"===l.device_type?s.usersSearchMobileCallflowsByNumber(a,l.mobile.mdn,function(a){s.callApi({resource:"callflow.get",data:{accountId:s.accountId,callflowId:a.id},success:function(a,i){var r=a.data;delete r.owner_id,e.extend(!0,r,{flow:{module:"device",data:{id:t}}}),s.usersUpdateCallflow(r,function(){c(l,n)})}})}):c(l,n)})})}),t.old.length>0&&r&&"ring_group"===r.flow.module){var u=r.flow.data.endpoints.length;r.flow.data.endpoints=n.filter(r.flow.data.endpoints,function(e){return t.old.indexOf(e.id)<0}),r.flow.data.endpoints.length<u&&(0===r.flow.data.endpoints.length&&(r.flow.module="user",r.flow.data={can_call_self:!1,id:a,timeout:"20"},o.push(function(t){s.usersGetUser(a,function(e){e.smartpbx.find_me_follow_me.enabled=!1,s.usersUpdateUser(e,function(e){t(null,e)})})})),o.push(function(t){s.usersUpdateCallflow(r,function(e){t(null,e)})}))}l.parallel(o,function(t,e){i&&i(e)})};s.usersGetMainCallflow(a,function(t){r(t)})},usersUpdateCallflowNumbers:function(t,e,n,l){var a=this;n.length>0?e?a.callApi({resource:"callflow.get",data:{accountId:a.accountId,callflowId:e},success:function(t){t.data.numbers=n,a.usersUpdateCallflow(t.data,function(t){l&&l(t)})}}):n[0].length<7?a.usersMigrateFromExtensions(t,n,function(t){l&&l(t)}):i.error(a.i18n.active().users.needExtensionFirst):i.error(a.i18n.active().users.noNumberCallflow)},usersListNumbers:function(t){var e=this;e.callApi({resource:"numbers.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(e.data)}})},usersUpdateCallflow:function(t,e){var n=this;n.callApi({resource:"callflow.update",data:{accountId:n.accountId,callflowId:t.id,data:t},success:function(t){e&&e(t.data)}})},usersCreateCallflow:function(t,e,n,l){var a=this;a.callApi({resource:"callflow.create",data:{accountId:a.accountId,data:t,generateError:l!==!1},success:function(t){e&&e(t.data)},error:function(t,e,l){n&&n(t,l)}})},usersSmartUpdateVMBox:function(t){var e=this,n=t.user,l=t.needVMUpdate||!0,a=t.callback,i=t.oldPresenceId||void 0,s=t.userExtension;e.usersListVMBoxesUser(n.id,function(t){if(t.length>0)l?e.usersGetVMBox(t[0].id,function(t){t.name=n.first_name+" "+n.last_name+"'s VMBox",i===t.mailbox&&(t.mailbox=n.presence_id&&"unset"!==n.presence_id?n.presence_id+"":t.mailbox),e.usersUpdateVMBox(t,function(t){a&&a(t)})}):a&&a(t[0]);else{var r={owner_id:n.id,mailbox:n.presence_id||s||n.extra.vmbox.mailbox,name:n.first_name+" "+n.last_name+"'s VMBox"};e.usersCreateVMBox(r,function(t){a&&a(t)})}})},usersUpdateConferencing:function(t,n){var a=this;l.parallel({conference:function(n){var i={name:t.user.first_name+" "+t.user.last_name+" SmartPBX Conference",owner_id:t.user.id,play_name_on_join:!0,member:{join_muted:!1},conference_numbers:[]};l.util.dataFlags.add({source:"smartpbx"},i),i=e.extend(!0,{},i,t.conference),a.usersListConferences(t.user.id,function(t){var l=i;t.length>0?(l=e.extend(!0,{},t[0],i),a.usersUpdateConference(l,function(t){n&&n(null,t)})):a.usersCreateConference(l,function(t){n&&n(null,t)})})},user:function(e){t.user.smartpbx&&t.user.smartpbx.conferencing&&t.user.smartpbx.conferencing.enabled===!0?e&&e(null,t.user):(t.user.smartpbx=t.user.smartpbx||{},t.user.smartpbx.conferencing=t.user.smartpbx.conferencing||{},t.user.smartpbx.conferencing.enabled=!0,a.usersUpdateUser(t.user,function(t){e&&e(null,t.data)}))}},function(t,e){n&&n(e)})},usersUpdateFaxing:function(t,e,a){var i=this;l.parallel({callflow:function(l){var a={};i.usersListCallflowsUser(t.user.id,function(s){n.each(s,function(t){if("faxing"===t.type)return a.id=t.id,!1}),i.usersUpdateCallflowFaxing(t,e,a,function(t){l&&l(null,t)})})},user:function(e){t.user.smartpbx&&t.user.smartpbx.faxing&&t.user.smartpbx.faxing.enabled===!0?e&&e(null,t.user):(t.user.smartpbx=t.user.smartpbx||{},t.user.smartpbx.faxing=t.user.smartpbx.faxing||{},t.user.smartpbx.faxing.enabled=!0,i.usersUpdateUser(t.user,function(t){e&&e(null,t.data)}))}},function(t,e){a&&a(e)})},usersUpdateCallflowFaxing:function(t,n,a,i){var s=this,r=t.user,o=t.faxbox,c={type:"faxing",owner_id:r.id,numbers:[n],flow:{module:"faxbox",children:{},data:{id:t.hasOwnProperty("faxbox")?o.id:""}}},u={caller_id:n,fax_identity:l.util.formatPhoneNumber(n)};if(a=e.extend(!0,{},c,a),a.hasOwnProperty("id"))o=e.extend(!0,{},o,u),s.callApi({resource:"faxbox.update",data:{accountId:s.accountId,faxboxId:o.id,data:o},success:function(t,e){s.usersUpdateCallflow(a,function(t){i&&i(t)})}});else{var d={name:r.first_name.concat(" ",r.last_name,s.i18n.active().users.faxing.defaultSettings.nameExtension),caller_name:r.first_name.concat(" ",r.last_name),fax_header:l.config.whitelabel.companyName.concat(s.i18n.active().users.faxing.defaultSettings.headerExtension),fax_timezone:r.timezone,owner_id:r.id};o=e.extend(!0,{},d,u),s.callApi({resource:"faxbox.create",data:{accountId:s.accountId,userId:r.id,data:o},success:function(t,e){a.flow.data.id=t.data.id,s.usersCreateCallflow(a,function(t){i&&i(t)})}})}},usersRemoveBulkConferences:function(t,e,a){var i=this,s=[];n.each(t,function(t){s.push(function(n){e?i.usersDeleteConference(t.id,function(t){n(null,t)}):i.usersUnassignConference(t.id,function(t){n(null,t)})})}),l.parallel(s,function(t,e){a&&a(e)})},usersDeleteConferencing:function(t,e){var n=this;l.parallel({conferences:function(e){n.usersListConferences(t,function(t){n.usersRemoveBulkConferences(t,!0,function(t){e&&e(null,t)})})},user:function(e){n.usersGetUser(t,function(t){t.smartpbx=t.smartpbx||{},t.smartpbx.conferencing=t.smartpbx.conferencing||{},t.smartpbx.conferencing.enabled=!1,n.usersUpdateUser(t,function(t){e(null,t)})})}},function(t,n){e&&e(n)})},usersDeleteFaxing:function(t,e){var a=this;l.parallel({callflows:function(e){a.usersListCallflowsUser(t,function(t){var i=[];n.each(t,function(t){"faxing"===t.type&&i.push(function(e){a.callApi({resource:"callflow.get",data:{accountId:a.accountId,callflowId:t.id},success:function(n,l){a.callApi({resource:"faxbox.delete",data:{accountId:a.accountId,faxboxId:n.data.flow.data.faxbox_id||n.data.flow.data.id,generateError:!1},success:function(n,l){a.usersDeleteCallflow(t.id,function(t){e(null,t)})},error:function(n,l){a.usersDeleteCallflow(t.id,function(t){e(null,t)})}})}})})}),l.parallel(i,function(t,n){e&&e(n)})})},user:function(e){a.usersGetUser(t,function(t){t.smartpbx=t.smartpbx||{},t.smartpbx.faxing=t.smartpbx.faxing||{},t.smartpbx.faxing.enabled=!1,a.usersUpdateUser(t,function(t){e(null,t)})})}},function(t,n){e&&e(n)})},usersSortExtensions:function(t,e){var n=parseInt(t),l=parseInt(e),a=-1;return n>0&&l>0&&(a=n>l),a},usersRemoveOverlay:function(){e("body").find("#users_container_overlay").remove()},usersResetPassword:function(t,e){var n=this,l={username:t.username,account_name:t.account_name,ui_url:window.location.href.split("#")[0]};n.callApi({resource:"auth.recovery",data:{data:l},success:function(t){e&&e(t.data)}})}};return s}),define("apps/voip/submodules/myOffice/myOffice",["require","jquery","underscore","monster","chart"],function(t){var e=t("jquery"),n=t("underscore"),l=t("monster"),a=(t("chart"),{requests:{"google.geocode.address":{apiRoot:"//maps.googleapis.com/",url:"maps/api/geocode/json?address={zipCode}",verb:"GET",generateError:!1,removeHeaders:["X-Kazoo-Cluster-ID","X-Auth-Token","Content-Type"]}},subscribe:{"voip.myOffice.render":"myOfficeRender","auth.continueTrial":"myOfficeWalkthroughRender","myaccount.closed":"myOfficeAfterMyaccountClosed"},chartColors:["#B588B9","#698BF7","#009AD6","#6CC5E9","#719B11","#BDE55F","#F1E87C","#EF8F25","#6F7C7D"],myOfficeRender:function(t){var a=this,i=t.parent||e(".right-content"),s=t.callback;a.myOfficeLoadData(function(t){var r={isCnamEnabled:l.util.isNumberFeatureEnabled("cnam"),account:t.account,totalUsers:t.users.length,totalDevices:t.devices.length,unregisteredDevices:t.devices.length-t.devicesStatus.length,totalNumbers:n.size(t.numbers),totalConferences:t.totalConferences,totalChannels:t.totalChannels,mainNumbers:t.mainNumbers||[],confNumbers:t.confNumbers||[],faxingNumbers:t.faxingNumbers||[],faxNumbers:t.faxNumbers||[],topMessage:t.topMessage,devicesList:n.toArray(t.devicesData).sort(function(t,e){return e.count-t.count}),assignedNumbersList:n.toArray(t.assignedNumbersData).sort(function(t,e){return e.count-t.count}),classifiedNumbers:t.classifiedNumbers,directoryUsers:t.directory.users&&t.directory.users.length||0,directoryLink:t.directoryLink},o=e(l.template(a,"myOffice-layout",r)),c={animateScale:!0,segmentShowStroke:!1,animationSteps:50,animationEasing:"easeOutCirc",percentageInnerCutout:60};new Chart(o.find("#dashboard_devices_chart").get(0).getContext("2d")).Doughnut(t.devicesData.totalCount>0?e.map(t.devicesData,function(t){return"object"==typeof t?{value:t.count,color:t.color}:null}).sort(function(t,e){return e.value-t.value}):[{value:1,color:"#DDD"}],c),new Chart(o.find("#dashboard_assigned_numbers_chart").get(0).getContext("2d")).Doughnut(t.assignedNumbersData.totalCount>0?e.map(t.assignedNumbersData,function(t){return"object"==typeof t?{value:t.count,color:t.color}:null}).sort(function(t,e){return e.value-t.value}):[{value:1,color:"#DDD"}],c),new Chart(o.find("#dashboard_number_types_chart").get(0).getContext("2d")).Doughnut(t.classifiedNumbers.length>0?e.map(t.classifiedNumbers,function(t,e){return"object"==typeof t?{value:t.count,color:t.color}:null}):[{value:1,color:"#DDD"}],c);t.classifiedNumbers.length<=3&&o.find(".number-types-legend").addClass("size-"+t.classifiedNumbers.length),a.myOfficeBindEvents({parent:i,template:o,myOfficeData:t}),i.empty().append(o),a.myOfficeCheckWalkthrough(),s&&s()})},myOfficeCheckWalkthrough:function(){var t=this;l.apps.auth.currentAccount.hasOwnProperty("trial_time_left")||l.pub("myaccount.hasToShowWalkthrough",function(e){e===!1&&t.myOfficeWalkthroughRender()})},myOfficeAfterMyaccountClosed:function(){var t=this;l.apps.auth.currentAccount.hasOwnProperty("trial_time_left")||t.myOfficeWalkthroughRender()},myOfficeCreateMainVMBoxIfMissing:function(t){var e=this;e.myOfficeHasMainVMBox(function(e){t(e)},function(){e.myOfficeCreateMainVMBox(function(e){t(e)})})},myOfficeCreateMainVMBox:function(t){var e=this,n={mailbox:"0",type:"mainVMBox",name:e.i18n.active().myOffice.mainVMBoxName,delete_after_notify:!0};e.callApi({resource:"voicemail.create",data:{accountId:e.accountId,data:n},success:function(e){t&&t(e.data)}})},myOfficeHasMainVMBox:function(t,e){var n=this;n.callApi({resource:"voicemail.list",data:{accountId:n.accountId,filters:{filter_type:"mainVMBox"}},success:function(n){n.data.length>0?t&&t(n[0]):e&&e()}})},myOfficeLoadData:function(t){var e=this;l.parallel({account:function(t){e.callApi({resource:"account.get",data:{accountId:e.accountId},success:function(e){t&&t(null,e.data)}})},mainVoicemailBox:function(t){e.myOfficeCreateMainVMBoxIfMissing(function(e){t(null,e)})},users:function(t){e.callApi({resource:"user.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(null,e.data)}})},devices:function(t){e.callApi({resource:"device.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(null,e.data)}})},devicesStatus:function(t){e.callApi({resource:"device.getStatus",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(null,e.data)}})},numbers:function(t){e.callApi({resource:"numbers.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(null,e.data.numbers)}})},channels:function(t){e.callApi({resource:"channel.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(null,e.data)}})},callflows:function(t){e.callApi({resource:"callflow.list",data:{filters:{has_type:"type",paginate:"false"},accountId:e.accountId},success:function(e){t&&t(null,e.data)}})},classifiers:function(t){e.callApi({resource:"numbers.listClassifiers",data:{accountId:e.accountId},success:function(e){t&&t(null,e.data)}})},directory:function(t){e.callApi({resource:"directory.list",data:{accountId:e.accountId},success:function(l,a){var i=n.find(l.data,function(t){return"SmartPBX Directory"===t.name});i?e.callApi({resource:"directory.get",data:{accountId:e.accountId,directoryId:i.id},success:function(e,n){t&&t(null,e.data)},error:function(e,n){t&&t(null,{})}}):t&&t(null,{})},error:function(e,n){t&&t(null,{})}})}},function(n,l){t&&t(e.myOfficeFormatData(l))})},myOfficeFormatData:function(t){var e=this,a={sip_device:{label:e.i18n.active().devices.types.sip_device,count:0,color:e.chartColors[5]},cellphone:{label:e.i18n.active().devices.types.cellphone,count:0,color:e.chartColors[3]},smartphone:{label:e.i18n.active().devices.types.smartphone,count:0,color:e.chartColors[2]},mobile:{label:e.i18n.active().devices.types.mobile,count:0,color:e.chartColors[1]},softphone:{label:e.i18n.active().devices.types.softphone,count:0,color:e.chartColors[0]},landline:{label:e.i18n.active().devices.types.landline,count:0,color:e.chartColors[6]},fax:{label:e.i18n.active().devices.types.fax,count:0,color:e.chartColors[7]},ata:{label:e.i18n.active().devices.types.ata,count:0,color:e.chartColors[8]},sip_uri:{label:e.i18n.active().devices.types.sip_uri,count:0,color:e.chartColors[4]},totalCount:0},i={spare:{label:e.i18n.active().myOffice.numberChartLegend.spare,count:0,color:e.chartColors[8]},assigned:{label:e.i18n.active().myOffice.numberChartLegend.assigned,count:0,color:e.chartColors[3]},totalCount:0},s=0,r=[],o={},c={};n.each(t.numbers,function(e,l){n.find(t.classifiers,function(t,e){return e in o||(o[e]=new RegExp(t.regex)),!!o[e].test(l)&&(e in c?c[e]++:c[e]=1,!0)})}),t.classifiedNumbers=n.map(c,function(e,n){return{key:n,label:n in t.classifiers?t.classifiers[n].friendly_name:n,count:e}}).sort(function(t,e){return e.count-t.count});var u=e.chartColors.length;if(t.classifiedNumbers.length>u)for(t.classifiedNumbers[u-1].key="merged_others",t.classifiedNumbers[u-1].label="Others";t.classifiedNumbers.length>u;)t.classifiedNumbers[u-1].count+=t.classifiedNumbers.pop().count;if(n.each(t.classifiedNumbers,function(t,n){t.color=e.chartColors[n]}),n.each(t.devices,function(t){t.device_type in a?(a[t.device_type].count++,a.totalCount++):console.log("Unknown device type: "+t.device_type)}),n.each(t.numbers,function(t){"used_by"in t&&t.used_by.length>0?i.assigned.count++:i.spare.count++,i.totalCount++}),n.each(t.users,function(t){t.features.indexOf("conferencing")>=0&&s++}),n.each(t.callflows,function(e){var l="";"main"===e.type&&"MainCallflow"===e.name?l="mainNumbers":"conference"===e.type&&"MainConference"===e.name?l="confNumbers":"faxing"===e.type&&"MainFaxing"===e.name&&(l="faxingNumbers"),l.length>0&&(l in t||(t[l]=[]),n.each(e.numbers,function(e){if("0"!==e&&"undefined"!==e&&"undefinedconf"!==e&&"undefinedfaxing"!==e){var n={number:e};e in t.numbers&&(n.features=t.numbers[e].features),t[l].push(n)}}))}),n.each(t.channels,function(t){r.indexOf(t.bridge_id)<0&&r.push(t.bridge_id)}),t.mainNumbers&&t.mainNumbers.length>0){var d=l.util.isNumberFeatureEnabled("cnam")===!1||t.account.hasOwnProperty("caller_id")&&t.account.caller_id.hasOwnProperty("emergency")&&t.account.caller_id.emergency.hasOwnProperty("number")&&t.numbers.hasOwnProperty(t.account.caller_id.emergency.number),p=l.util.isNumberFeatureEnabled("e911")===!1||t.account.hasOwnProperty("caller_id")&&t.account.caller_id.hasOwnProperty("emergency")&&t.account.caller_id.emergency.hasOwnProperty("number")&&t.numbers.hasOwnProperty(t.account.caller_id.emergency.number)&&t.numbers[t.account.caller_id.emergency.number].features.indexOf("e911")>=0;d||p?d?p||(t.topMessage={class:"btn-danger",message:e.i18n.active().myOffice.missingE911Message}):t.topMessage={class:"btn-danger",message:e.i18n.active().myOffice.missingCnamMessage}:t.topMessage={class:"btn-danger",message:e.i18n.active().myOffice.missingCnamE911Message}}return t.totalChannels=r.length,t.devicesData=a,t.assignedNumbersData=i,t.totalConferences=s,t.directory&&t.directory.id&&(t.directoryLink=e.apiUrl+"accounts/"+e.accountId+"/directories/"+t.directory.id+"?accept=pdf&auth_token="+e.getAuthToken()),t},myOfficeBindEvents:function(t){var n=this,a=t.parent,i=t.template,s=t.myOfficeData;i.find(".link-box").on("click",function(t){var n=e(this),i=n.data("category"),s=n.data("subcategory");switch(e(".category").removeClass("active"),i){case"users":e(".category#users").addClass("active"),l.pub("voip.users.render",{parent:a});break;case"devices":e(".category#devices").addClass("active"),l.pub("voip.devices.render",{parent:a});break;case"numbers":e(".category#numbers").addClass("active"),l.pub("voip.numbers.render",{parent:a});break;case"strategy":e(".category#strategy").addClass("active"),l.pub("voip.strategy.render",{parent:a,openElement:s})}}),i.find(".header-link.music-on-hold").on("click",function(t){t.preventDefault(),n.myOfficeRenderMusicOnHoldPopup({account:s.account});
}),l.util.isNumberFeatureEnabled("cnam")&&i.find(".header-link.caller-id:not(.disabled)").on("click",function(t){t.preventDefault(),n.myOfficeRenderCallerIdPopup({parent:a,myOfficeData:s})}),i.find(".header-link.caller-id.disabled").on("click",function(t){l.ui.alert(n.i18n.active().myOffice.missingMainNumberForCallerId)}),l.ui.tooltips(i)},myOfficeRenderMusicOnHoldPopup:function(t){var n=this,a=t.account,i="silence_stream://300000";n.myOfficeListMedias(function(t){var s={silenceMedia:i,mediaList:t,media:"music_on_hold"in a&&"media_id"in a.music_on_hold?a.music_on_hold.media_id:void 0},r=e(l.template(n,"myOffice-musicOnHoldPopup",s)),o=l.ui.dialog(r,{title:n.i18n.active().myOffice.musicOnHold.title,position:["center",20]});n.myOfficeMusicOnHoldPopupBindEvents({popupTemplate:r,popup:o,account:a})})},myOfficeMusicOnHoldPopupBindEvents:function(t){var n=this,a=t.popupTemplate,i=t.popup,s=t.account,r=function(t){if(mediaToUpload=void 0,a.find(".upload-div input").val(""),a.find(".upload-div").slideUp(function(){a.find(".upload-toggle").removeClass("active")}),t){var e=a.find(".media-dropdown");e.append('<option value="'+t.id+'">'+t.name+"</option>"),e.val(t.id)}};a.find(".upload-input").fileUpload({inputOnly:!0,wrapperClass:"file-upload input-append",btnText:n.i18n.active().myOffice.musicOnHold.audioUploadButton,btnClass:"monster-button",maxSize:5,success:function(t){mediaToUpload=t[0]},error:function(t){t.hasOwnProperty("size")&&t.size.length>0&&l.ui.alert(n.i18n.active().myOffice.musicOnHold.fileTooBigAlert),a.find(".upload-div input").val(""),mediaToUpload=void 0}}),a.find(".cancel-link").on("click",function(){i.dialog("close").remove()}),a.find(".upload-toggle").on("click",function(){e(this).hasClass("active")?a.find(".upload-div").stop(!0,!0).slideUp():a.find(".upload-div").stop(!0,!0).slideDown()}),a.find(".upload-cancel").on("click",function(){r()}),a.find(".upload-submit").on("click",function(){mediaToUpload?n.callApi({resource:"media.create",data:{accountId:n.accountId,data:{streamable:!0,name:mediaToUpload.name,media_source:"upload",description:mediaToUpload.name}},success:function(t,e){var l=t.data;n.callApi({resource:"media.upload",data:{accountId:n.accountId,mediaId:l.id,data:mediaToUpload.file},success:function(t,e){r(l)},error:function(t,e){n.callApi({resource:"media.delete",data:{accountId:n.accountId,mediaId:l.id,data:{}},success:function(t,e){}})}})}}):l.ui.alert(n.i18n.active().myOffice.musicOnHold.emptyUploadAlert)}),a.find(".save").on("click",function(){var t=a.find(".media-dropdown option:selected").val();"music_on_hold"in s||(s.music_on_hold={}),t&&t.length>0?s.music_on_hold={media_id:t}:s.music_on_hold={},n.myOfficeUpdateAccount(s,function(t){i.dialog("close").remove()})})},myOfficeRenderCallerIdPopup:function(t){var n=this,a=t.parent,i=t.myOfficeData,s={isE911Enabled:l.util.isNumberFeatureEnabled("e911"),mainNumbers:i.mainNumbers,selectedMainNumber:"caller_id"in i.account&&"external"in i.account.caller_id?i.account.caller_id.external.number||"none":"none"},r=e(l.template(n,"myOffice-callerIdPopup",s)),o=l.ui.dialog(r,{title:n.i18n.active().myOffice.callerId.title,position:["center",20]});if(l.util.isNumberFeatureEnabled("e911")){var c=r.find(".emergency-form > form");l.ui.validate(c,{messages:{postal_code:{required:"*"},street_address:{required:"*"},locality:{required:"*"},region:{required:"*"}}}),l.ui.valid(c)}n.myOfficeCallerIdPopupBindEvents({parent:a,popupTemplate:r,popup:o,account:i.account})},myOfficeCallerIdPopupBindEvents:function(t){var a=this,i=t.parent,s=t.popupTemplate,r=t.popup,o=t.account,c=s.find(".caller-id-select"),u=s.find(".caller-id-name"),d=s.find(".caller-id-emergency-zipcode"),p=s.find(".caller-id-emergency-address1"),m=s.find(".caller-id-emergency-address2"),f=s.find(".caller-id-emergency-city"),v=s.find(".caller-id-emergency-state"),h=function(t,e){var i=[],s=function(t){e.find(".number-feature").hide(),n.each(t,function(t){e.find('.number-feature[data-feature="'+t+'"]').slideDown()})};t?a.myOfficeGetNumber(t,function(t){var e=t.hasOwnProperty("_read_only")&&t._read_only.hasOwnProperty("features_available")?t._read_only.features_available:[],n=t.hasOwnProperty("_read_only")&&t._read_only.hasOwnProperty("features")?t._read_only.features:[],a=e.concat(n),r=a.indexOf("e911")>=0,o=a.indexOf("cnam")>=0;r&&l.util.isNumberFeatureEnabled("e911")&&(i.push("e911"),"e911"in t?(d.val(t.e911.postal_code),p.val(t.e911.street_address),m.val(t.e911.extended_address),f.val(t.e911.locality),v.val(t.e911.region)):(d.val(""),p.val(""),m.val(""),f.val(""),v.val(""))),o&&(i.push("cnam"),"cnam"in t?u.val(t.cnam.display_name):u.val("")),s&&s(i)}):s&&s(i)};s.find(".cancel-link").on("click",function(){r.dialog("close").remove()}),s.find(".upload-cancel").on("click",function(){closeUploadDiv()}),c.on("change",function(){h(e(this).val(),s)}),d.on("blur",function(){var t=e(this).val();t&&a.myOfficeGetAddessFromZipCode({data:{zipCode:t},success:function(t){n.isEmpty(t)||(f.val(t[0].address_components[1].long_name),v.val(t[0].address_components[3].short_name))}})}),s.find(".save").on("click",function(){var t,n=c.val(),d=function(){a.myOfficeUpdateAccount(o,function(t){r.dialog("close").remove(),a.myOfficeRender({parent:i})})},p=function(t){var l=u.val(),i=s.find('.number-feature[data-feature="cnam"]').is(":visible"),r=s.find('.number-feature[data-feature="e911"]').is(":visible");o.caller_id=e.extend(!0,{},o.caller_id,{external:{number:n},emergency:{number:n}}),a.myOfficeGetNumber(n,function(n){i&&l.length?e.extend(!0,n,{cnam:{display_name:l}}):delete n.cnam,r?e.extend(!0,n,{e911:t}):delete n.e911,a.myOfficeUpdateNumber(n,function(t){d()})})};if(l.util.isNumberFeatureEnabled("e911")&&(t=s.find(".emergency-form > form")),n)if(l.util.isNumberFeatureEnabled("e911"))if(l.ui.valid(t)){var m=l.ui.getFormData(t[0]);p(m)}else l.ui.alert(a.i18n.active().myOffice.callerId.mandatoryE911Alert);else p();else delete o.caller_id.external,delete o.caller_id.emergency,d()}),h(c.val(),s)},myOfficeWalkthroughRender:function(){var t=this;t.isActive()&&t.myOfficeHasWalkthrough(function(){t.myOfficeShowWalkthrough(function(){t.myOfficeUpdateWalkthroughFlagUser()})})},myOfficeHasWalkthrough:function(t){var e=this,n=e.uiFlags.user.get("showDashboardWalkthrough");n!==!1&&t&&t()},myOfficeShowWalkthrough:function(t){var n=this,a=e("#voip_container"),i=[{element:a.find(".category#myOffice")[0],intro:n.i18n.active().myOffice.walkthrough.steps[1],position:"right"},{element:a.find(".category#users")[0],intro:n.i18n.active().myOffice.walkthrough.steps[2],position:"right"},{element:a.find(".category#groups")[0],intro:n.i18n.active().myOffice.walkthrough.steps[3],position:"right"},{element:a.find(".category#strategy")[0],intro:n.i18n.active().myOffice.walkthrough.steps[4],position:"right"}];l.ui.stepByStep(i,function(){t&&t()})},myOfficeUpdateWalkthroughFlagUser:function(t){var e=this,n=e.uiFlags.user.set("showDashboardWalkthrough",!1);e.myOfficeUpdateOriginalUser(n,function(e){t&&t(e)})},myOfficeGetNumber:function(t,e,n){var l=this;l.callApi({resource:"numbers.get",data:{accountId:l.accountId,phoneNumber:encodeURIComponent(t)},success:function(t,n){e&&e(t.data)},error:function(t,e){n&&n(t)}})},myOfficeUpdateNumber:function(t,e,n){var l=this;l.callApi({resource:"numbers.update",data:{accountId:l.accountId,phoneNumber:encodeURIComponent(t.id),data:t},success:function(t,n){e&&e(t.data)},error:function(t,e){n&&n(t)}})},myOfficeListMedias:function(t){var e=this;e.callApi({resource:"media.list",data:{accountId:e.accountId,filters:{key_missing:"type"}},success:function(e){t&&t(e.data)}})},myOfficeUpdateAccount:function(t,e){var n=this;delete t.extra,n.callApi({resource:"account.update",data:{accountId:n.accountId,data:t},success:function(t){e&&e(t.data)}})},myOfficeUpdateOriginalUser:function(t,e){var n=this;n.callApi({resource:"user.update",data:{userId:t.id,accountId:l.apps.auth.originalAccount.id,data:t},success:function(t){e&&e(t.data)}})},myOfficeGetAddessFromZipCode:function(t){l.request({resource:"google.geocode.address",data:t.data,success:function(e,n){t.hasOwnProperty("success")&&t.success(e.results)},error:function(e,n,l){t.hasOwnProperty("error")?t.error():l(n,{generateError:!0})}})}});return a}),define("apps/voip/submodules/featureCodes/featureCodes",["require","jquery","underscore","monster","chart"],function(t){var e=t("jquery"),n=t("underscore"),l=t("monster"),a=(t("chart"),{requests:{},subscribe:{"voip.featureCodes.render":"featureCodesRender"},categories:{call_forward:["call_forward[action=activate]","call_forward[action=deactivate]","call_forward[action=toggle]","call_forward[action=update]","call_forward[action=on_busy_enable]","call_forward[action=on_busy_disable]","call_forward[action=no_answer_enable]","call_forward[action=no_answer_disable]"],hotdesk:["hotdesk[action=login]","hotdesk[action=logout]","hotdesk[action=toggle]"],parking:["park_and_retrieve","valet","retrieve"],do_not_disturb:['donotdisturb[action="enable"]','donotdisturb[action="disable"]','donotdisturb[action="toggle"]'],misc:["voicemail[action=check]",'voicemail[action="direct"]',"intercom","privacy[mode=full]","directory","time","call_waiting[action=enable]","call_waiting[action=disable]","sound_test_service","call_recording","move"]},featureCodesRender:function(t){var n=this,a=t.parent||e(".right-content"),i=t.callback;n.featureCodesLoadData(function(t){var s=e(l.template(n,"featureCodes-layout",{featureCodes:n.featureCodesFormatData(t)}));n.featureCodesBindEvents({parent:a,template:s,featureCodes:t}),a.empty().append(s),i&&i()})},featureCodesLoadData:function(t){var e=this;e.callApi({resource:"callflow.list",data:{accountId:e.accountId,filters:{has_key:"featurecode"}},success:function(e,n){t&&t(e.data)}})},featureCodesFormatData:function(t){var a=this,i={};return n.each(t,function(t){if(t.featurecode.hasOwnProperty("name")){var e="misc",l=t.hasOwnProperty("numbers")&&t.numbers.length&&"*"===t.numbers[0].substr(0,1)||t.hasOwnProperty("patterns")&&t.patterns.length&&"^\\*"===t.patterns[0].substr(0,3);n.find(a.categories,function(n,l){return n.indexOf(t.featurecode.name)>=0&&(e=l,!0)}),i.hasOwnProperty(e)||(i[e]={category:a.i18n.active().featureCodes.categories[e],codes:[]}),i[e].codes.push({key:t.featurecode.name,name:a.i18n.active().featureCodes.labels[t.featurecode.name]||t.featurecode.name,number:t.featurecode.number?t.featurecode.number.replace(/\\/g,""):"",hasStar:l})}}),l.util.sort(e.map(i,function(t){return l.util.sort(t.codes,"number"),t}),"category")},featureCodesBindEvents:function(t){var e=t.parent,n=t.template;t.featureCodes;n.find(".main-number-link").on("click",function(t){t.preventDefault();var n=e.parents("#voip_container").find(".left-menu");n.find(".category").removeClass("active"),n.find(".category#strategy").addClass("active"),e.empty(),l.pub("voip.strategy.render",{parent:e})})}});return a}),define("apps/voip/submodules/vmboxes/vmboxes",["require","jquery","underscore","monster","toastr","monster-timezone"],function(t){var e=t("jquery"),n=t("underscore"),l=t("monster"),a=t("toastr"),i=t("monster-timezone"),s={requests:{},subscribe:{"voip.vmboxes.render":"vmboxesRender"},vmboxesRender:function(t){var a=this,t=t||{},i=t.parent||e(".right-content"),s=t.voicemailId||"",r=t.callback;a.vmboxesGetData(function(t){var o,c=a.vmboxesFormatListData(t),u=e(l.template(a,"vmboxes-layout",c));if(n.each(c.vmboxes,function(t){o=l.template(a,"vmboxes-row",t),u.find(".vmboxes-rows").append(o)}),a.vmboxesBindEvents(u,i,c),i.empty().append(u),s){var d=i.find(".grid-row[data-id="+s+"]");l.ui.highlight(d,{endColor:"#FCFCFC"})}0==c.vmboxes.length?i.find(".no-vmboxes-row").css("display","block"):i.find(".no-vmboxes-row").css("display","none"),r&&r()})},vmboxesBindEvents:function(t,l,a){var i=this,s=function(t){i.vmboxesRender({voicemailId:t.id})};setTimeout(function(){t.find(".search-query").focus()}),t.find(".settings").on("click",function(){i.vmboxesRenderEdit(e(this).parents(".grid-row").data("id"),s)}),t.find(".add-vmbox").on("click",function(){i.vmboxesRenderEdit(void 0,s)}),t.find(".vmboxes-header .search-query").on("keyup",function(){var l=e(this).val().toLowerCase(),a=t.find(".vmboxes-rows .grid-row:not(.title)"),i=t.find(".vmboxes-rows .empty-search-row");n.each(a,function(t){var t=e(t);t.data("search").toLowerCase().indexOf(l)<0?t.hide():t.show()}),a.size()>0&&(a.is(":visible")?i.hide():i.show())})},vmboxesRenderEdit:function(t,e){var n=this;n.vmboxesGetEditData(t,function(t){t=n.vmboxesMigrateData(t),n.vmboxesRenderVmbox(t,e)})},vmboxesMigrateData:function(t){return t.hasOwnProperty("notify_email_address")&&(t.notify_email_addresses=t.notify_email_address),t},vmboxesRenderVmbox:function(t,a){var i=this,s=t.id?"edit":"add",r="edit"===s?l.template(i,"!"+i.i18n.active().vmboxes.editTitle,{name:t.name}):i.i18n.active().vmboxes.addTitle,o=e(l.template(i,"vmboxes-edit",t)),c={afterSave:function(t){u.dialog("close").remove(),a&&a(t)},afterDelete:function(t){u.dialog("close").remove(),i.vmboxesRender()},afterCancel:function(){u.dialog("close").remove()}};n.each(t.notify_email_addresses,function(t){o.find(".saved-entities").append(l.template(i,"vmboxes-emailRow",{name:t}))}),i.vmboxesEditBindEvents(o,t,c);var u=l.ui.dialog(o,{position:["center",20],title:r,width:"700"})},vmboxesEditBindEvents:function(t,n,s){var r=this,o=t.find("#form_vmbox");l.ui.validate(o,{rules:{name:{required:!0}}}),l.ui.tabs(t),i.populateDropdown(t.find("#timezone"),n.timezone||"inherit",{inherit:r.i18n.active().defaultTimezone}),t.find("#timezone").chosen({search_contains:!0,width:"220px"}),l.ui.tooltips(t),t.find(".actions .save").on("click",function(){if(l.ui.valid(o)){var e=r.vmboxesMergeData(n,t);r.vmboxesSaveVmbox(e,function(t){s.afterSave&&s.afterSave(t)})}else t.find('.tabs-selector[data-section="basic"]').click()}),t.find("#delete_vmbox").on("click",function(){var t=e(this).parents(".edit-vmbox").data("id");l.ui.confirm(r.i18n.active().vmboxes.confirmDeleteVmbox,function(){r.vmboxesDeleteVmbox(t,function(t){a.success(l.template(r,"!"+r.i18n.active().vmboxes.deletedVmbox,{vmboxName:t.name})),s.afterDelete&&s.afterDelete(t)})})}),t.find(".actions .cancel-link").on("click",function(){s.afterCancel&&s.afterCancel()});var c=function(e){e.preventDefault();var n=t.find("#entity_name"),a=n.val();templateFlag=l.template(r,"vmboxes-emailRow",{name:a}),t.find(".saved-entities").prepend(templateFlag),n.val("").focus()};t.find(".entity-wrapper.placeholder:not(.active)").on("click",function(){e(this).addClass("active"),t.find("#entity_name").focus()}),t.find("#cancel_entity").on("click",function(n){n.stopPropagation(),e(this).siblings("input").val(""),t.find(".entity-wrapper.placeholder").removeClass("active")}),t.find("#add_entity").on("click",function(t){c(t)}),t.find("#entity_name").on("keypress",function(t){var e=t.keyCode||t.which;13===e&&c(t)}),t.find(".saved-entities").on("click",".delete-entity",function(){e(this).parents(".entity-wrapper").remove()});var u,d=t.find(".greeting-container"),p=function(t){if(u=void 0,d.find(".upload-div input").val(""),d.find(".upload-div").slideUp(function(){d.find(".upload-toggle").removeClass("active")}),t){var e=d.find(".media-dropdown");e.append('<option value="'+t.id+'">'+t.name+"</option>"),e.val(t.id)}};d.find(".upload-input").fileUpload({inputOnly:!0,wrapperClass:"file-upload input-append",btnText:r.i18n.active().vmboxes.popupSettings.greeting.audioUploadButton,btnClass:"monster-button",maxSize:5,success:function(t){u=t[0]},error:function(t){t.hasOwnProperty("size")&&t.size.length>0&&l.ui.alert(r.i18n.active().vmboxes.popupSettings.greeting.fileTooBigAlert),d.find(".upload-div input").val(""),u=void 0}}),d.find(".upload-toggle").on("click",function(){e(this).hasClass("active")?d.find(".upload-div").stop(!0,!0).slideUp():d.find(".upload-div").stop(!0,!0).slideDown()}),d.find(".upload-cancel").on("click",function(){p()}),d.find(".upload-submit").on("click",function(){u?r.callApi({resource:"media.create",data:{accountId:r.accountId,data:{streamable:!0,name:u.name,media_source:"upload",description:u.name}},success:function(t,e){var n=t.data;r.callApi({resource:"media.upload",data:{accountId:r.accountId,mediaId:n.id,data:u.file},success:function(t,e){p(n)},error:function(t,e){r.callApi({resource:"media.delete",data:{accountId:r.accountId,mediaId:n.id,data:{}},success:function(t,e){}})}})}}):l.ui.alert(r.i18n.active().vmboxes.popupSettings.greeting.emptyUploadAlert)})},vmboxesMergeData:function(t,n){var a=l.ui.getFormData("form_vmbox"),i=e.extend(!0,{},t,a);return i.notify_email_addresses=[],n.find(".saved-entities .entity-wrapper").each(function(){i.notify_email_addresses.push(e(this).data("name"))}),i.not_configurable=!a.extra.configurable,""===i.pin&&delete i.pin,i.hasOwnProperty("notify_email_address")&&delete i.notify_email_address,i.timezone&&"inherit"===i.timezone&&delete i.timezone,i.media&&"none"===i.media.unavailable&&delete i.media.unavailable,delete i.extra,i},vmboxesFormatData:function(t){var n={require_pin:!0,check_if_owner:!0},l=e.extend(!0,{},n,t.vmbox);return l.extra={mediaList:t.mediaList},l},vmboxesFormatListData:function(t){var e={countVMBoxes:t.vmboxes.length,vmboxes:t.vmboxes},l={};return n.each(t.users,function(t){l[t.id]=t}),e.vmboxes.sort(function(t,e){return parseInt(t.mailbox)>parseInt(e.mailbox)?1:-1}),n.each(e.vmboxes,function(t){t.hasOwnProperty("owner_id")&&l.hasOwnProperty(t.owner_id)?t.friendlyOwnerName=l[t.owner_id].first_name+" "+l[t.owner_id].last_name:t.friendlyOwnerName="-"}),e},vmboxesDeleteVmbox:function(t,e){var n=this;n.callApi({resource:"voicemail.delete",data:{accountId:n.accountId,voicemailId:t,data:{}},success:function(t){e(t.data)}})},vmboxesGetEditData:function(t,e){var n=this;l.parallel({vmbox:function(e){t?n.vmboxesGetVmbox(t,function(t){e(null,t)}):e(null,{})},mediaList:function(t){n.callApi({resource:"media.list",data:{accountId:n.accountId},success:function(e){t(null,e.data)}})}},function(t,l){var a=n.vmboxesFormatData(l);e&&e(a)})},vmboxesGetVmbox:function(t,e,n){var l=this;l.callApi({resource:"voicemail.get",data:{accountId:l.accountId,voicemailId:t},success:function(t){e&&e(t.data)},error:function(t){n&&n(t)}})},vmboxesSaveVmbox:function(t,e){var n=this;t.id?n.vmboxesUpdateVmbox(t,e):n.vmboxesCreateVmbox(t,e)},vmboxesCreateVmbox:function(t,e){var n=this;n.callApi({resource:"voicemail.create",data:{accountId:n.accountId,data:t},success:function(t){e(t.data)}})},vmboxesUpdateVmbox:function(t,e,n){var l=this;l.callApi({resource:"voicemail.update",data:{accountId:l.accountId,data:t,voicemailId:t.id},success:function(t){e&&e(t.data)},error:function(t){n&&n(t)}})},vmboxesGetData:function(t){var e=this;l.parallel({users:function(t){e.callApi({resource:"user.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t&&t(null,e.data)}})},vmboxes:function(t){e.callApi({resource:"voicemail.list",data:{accountId:e.accountId,filters:{paginate:"false"}},success:function(e){t(null,e.data)}})}},function(n,l){e.vmboxesFormatListData(l),t&&t(l)})}};return s}),define("apps/voip/app",["require","jquery","underscore","monster"],function(t){var e=t("jquery"),n=(t("underscore"),t("monster"));t(["./submodules/devices/devices","./submodules/groups/groups","./submodules/numbers/numbers","./submodules/strategy/strategy","./submodules/callLogs/callLogs","./submodules/users/users","./submodules/myOffice/myOffice","./submodules/featureCodes/featureCodes","./submodules/vmboxes/vmboxes"]);var l={name:"voip",css:["app"],i18n:{"en-US":{customCss:!1},"fr-FR":{customCss:!1},"ru-RU":{customCss:!1},"es-ES":{customCss:!1}},requests:{},subscribe:{},subModules:["devices","groups","numbers","strategy","callLogs","users","myOffice","featureCodes","vmboxes"],load:function(t){var e=this;e.initApp(function(){t&&t(e)})},initApp:function(t){var e=this;n.pub("auth.initApp",{app:e,callback:t})},render:function(t){var l=this,a=t||e("#monster-content"),i=e(n.template(l,"app"));i.find(".category#myOffice").addClass("active"),n.pub("voip.myOffice.render",{parent:i.find(".right-content")}),l.bindEvents(i),a.empty().append(i)},formatData:function(t){},bindEvents:function(t){var l=t.find(".right-content");t.find(".left-menu").on("click",".category:not(.loading)",function(){var a=e(this),i={parent:l,callback:function(){t.find(".category").removeClass("loading")}},s=a.attr("id");t.find(".category").removeClass("active").addClass("loading"),a.toggleClass("active"),l.empty(),n.pub("voip."+s+".render",i)})}};return l}),this.monster=this.monster||{},this.monster.cache=this.monster.cache||{},this.monster.cache.templates=this.monster.cache.templates||{},this.monster.cache.templates.voip=this.monster.cache.templates.voip||{},this.monster.cache.templates.voip.app=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'<div id="voip_container" class="clearfix container-menu">\n\t<div class="left-menu">\n\t\t<div id="myOffice" class="category simple separated">\n\t\t\t<div class="title">\n\t\t\t\t<i class="icon-telicon-dashboard"></i>\n\t\t\t\t<span class="title-text visible-desktop">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.menuTitles:i)?i.myOffice:i,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="category-group">\n\t\t\t<div id="numbers" class="category">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="icon-telicon-apps"></i>\n\t\t\t\t\t<span class="title-text visible-desktop">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.menuTitles:i)?i.numbers:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="users" class="category">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="icon-telicon-seats"></i>\n\t\t\t\t\t<span class="title-text visible-desktop">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.menuTitles:i)?i.users:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="groups" class="category">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="fa fa-users"></i>\n\t\t\t\t\t<span class="title-text visible-desktop">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.menuTitles:i)?i.groups:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="strategy" class="category">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="icon-telicon-home"></i>\n\t\t\t\t\t<span class="title-text visible-desktop">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.menuTitles:i)?i.mainNumber:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div id="callLogs" class="category simple separated">\n\t\t\t<div class="title">\n\t\t\t\t<i class="icon-telicon-pbx"></i>\n\t\t\t\t<span class="title-text visible-desktop">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.menuTitles:i)?i.callLogs:i,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="category-group">\n\t\t\t<div id="devices" class="category">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="icon-telicon-voip-phone larger-margin"></i>\n\t\t\t\t\t<span class="title-text visible-desktop">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.menuTitles:i)?i.devices:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="vmboxes" class="category">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="icon-telicon-voicemail larger-margin"></i>\n\t\t\t\t\t<span class="title-text visible-desktop">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.menuTitles:i)?i.vmboxes:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div id="featureCodes" class="category">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="fa fa-asterisk"></i>\n\t\t\t\t\t<span class="title-text visible-desktop">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.menuTitles:i)?i.featureCodes:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="right-content clearfix">\n\n\t</div>\n</div>\n'},useData:!0}),this.monster.cache.templates.voip["callLogs-cdrsList"]=Handlebars.template({1:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{};return'<div class="grid-row-group">\n\t<div class="grid-row main-leg" data-id="'+c(o(null!=e?e.id:e,e))+'">\n\t\t<div class="grid-cell direction">\n\t\t\t<div class="sub-cell single-cell">\n'+(null!=(r=n.if.call(u,null!=e?e.isOutboundCall:e,{name:"if",hash:{},fn:t.program(2,a,0,i,s),inverse:t.program(4,a,0,i,s),data:a}))?r:"")+'\t\t\t</div>\n\t\t</div>\n\t\t<div class="grid-cell datetime">\n\t\t\t<div class="sub-cell cell-top">'+c(o(null!=e?e.date:e,e))+'</div>\n\t\t\t<div class="sub-cell cell-bottom">'+c(o(null!=e?e.time:e,e))+'</div>\n\t\t</div>\n\t\t<div class="grid-cell from">\n'+(null!=(r=n.if.call(u,null!=e?e.fromName:e,{name:"if",hash:{},fn:t.program(6,a,0,i,s),inverse:t.program(8,a,0,i,s),data:a}))?r:"")+'\t\t</div>\n\t\t<div class="grid-cell to">\n'+(null!=(r=n.if.call(u,null!=e?e.toName:e,{name:"if",hash:{},fn:t.program(10,a,0,i,s),inverse:t.program(12,a,0,i,s),data:a}))?r:"")+'\t\t</div>\n\t\t<div class="grid-cell duration">\n\t\t\t<div class="sub-cell single-cell">\n\t\t\t\t'+c(o(null!=e?e.duration:e,e))+'\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="grid-cell hangup">\n\t\t\t<div class="sub-cell single-cell" data-original-title="'+c(o(null!=e?e.hangupHelp:e,e))+'" data-placement="top" data-toggle="tooltip">\n\t\t\t\t<span class="cause-title">'+c(o(null!=e?e.hangupCause:e,e))+'</span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="grid-cell actions">\n\t\t\t<div class="sub-cell single-cell">\n\t\t\t\t'+(null!=(r=n.if.call(u,null!=s[1]?s[1].showReport:s[1],{name:"if",hash:{},fn:t.program(14,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="extra-legs">\n\t\t<div class="loading-container">\n\t\t\t'+c(o((r=(r=(r=a&&a.root)&&r.i18n)&&r.callLogs)&&r.loading,e))+' <i class="fa fa-spinner fa-spin monster-primary-color fa-lg"></i>\n\t\t</div>\n\t</div>\n</div>\n'},2:function(t,e,n,l,a){return'\t\t\t\t<i class="fa fa-arrow-left monster-orange"></i>\n'},4:function(t,e,n,l,a){return'\t\t\t\t<i class="fa fa-arrow-right monster-green"></i>\n'},6:function(t,e,n,l,a){var i=t.escapeExpression;return'\t\t\t<div class="sub-cell cell-top">'+i((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=e?e.fromNumber:e,{name:"formatPhoneNumber",hash:{},data:a}))+'</div>\n\t\t\t<div class="sub-cell cell-bottom">'+i(t.lambda(null!=e?e.fromName:e,e))+"</div>\n"},8:function(t,e,n,l,a){return'\t\t\t<div class="sub-cell single-cell">'+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=e?e.fromNumber:e,{name:"formatPhoneNumber",hash:{},data:a}))+"</div>\n"},10:function(t,e,n,l,a){var i=t.escapeExpression;return'\t\t\t<div class="sub-cell cell-top">'+i((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=e?e.toNumber:e,{name:"formatPhoneNumber",hash:{},data:a}))+'</div>\n\t\t\t<div class="sub-cell cell-bottom">'+i(t.lambda(null!=e?e.toName:e,e))+"</div>\n"},12:function(t,e,n,l,a){return'\t\t\t<div class="sub-cell single-cell">'+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=e?e.toNumber:e,{name:"formatPhoneNumber",hash:{},data:a}))+"</div>\n"},14:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'<a class="monster-link" target="_blank" href="'+r(s(null!=e?e.mailtoLink:e,e))+'"><i data-placement="top" data-toggle="tooltip" data-placement="top" data-original-title="'+r(s((i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.callLogs)&&i.actions)&&i.report,e))+'" class="fa fa-lg fa-fire-extinguisher"></i></a>'},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r;return null!=(r=n.each.call(null!=e?e:{},null!=e?e.cdrs:e,{name:"each",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:""},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["callLogs-detailsPopup"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){return'<div id="call_logs_details_popup">\n\t<div id="jsoneditor">\n\t</div>\n</div>'},useData:!0}),this.monster.cache.templates.voip["callLogs-interactionLegs"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression,o=null!=e?e:{};return'\t<div class="grid-row extra-leg" data-id='+r(s(null!=e?e.id:e,e))+'>\n\t\t<div class="grid-cell direction">\n\t\t\t<div class="sub-cell single-cell"></div>\n\t\t</div>\n\t\t<div class="grid-cell datetime">\n\t\t\t<div class="sub-cell cell-top">'+r(s(null!=e?e.date:e,e))+'</div>\n\t\t\t<div class="sub-cell cell-bottom">'+r(s(null!=e?e.time:e,e))+'</div>\n\t\t</div>\n\t\t<div class="grid-cell from">\n'+(null!=(i=n.if.call(o,null!=e?e.fromName:e,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.program(4,a,0),data:a}))?i:"")+'\t\t</div>\n\t\t<div class="grid-cell to">\n'+(null!=(i=n.if.call(o,null!=e?e.toName:e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.program(8,a,0),data:a}))?i:"")+'\t\t</div>\n\t\t<div class="grid-cell duration">\n\t\t\t<div class="sub-cell single-cell">\n\t\t\t\t'+r(s(null!=e?e.duration:e,e))+'\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="grid-cell hangup">\n\t\t\t<div class="sub-cell single-cell cause-title" title="'+r(s(null!=e?e.hangupCause:e,e))+'">\n\t\t\t\t'+r(s(null!=e?e.hangupCause:e,e))+'\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="grid-cell actions">\n\t\t\t<div class="sub-cell single-cell">\n\t\t\t\t<i class="fa fa-cog fa-lg details-cdr" data-toggle="tooltip" data-placement="top" data-original-title="'+r(s((i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.callLogs)&&i.actions)&&i.details,e))+'"></i>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n'},2:function(t,e,n,l,a){var i=t.escapeExpression;return'\t\t\t<div class="sub-cell cell-top">'+i((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=e?e.fromNumber:e,{name:"formatPhoneNumber",hash:{},data:a}))+'</div>\n\t\t\t<div class="sub-cell cell-bottom">'+i(t.lambda(null!=e?e.fromName:e,e))+"</div>\n"},4:function(t,e,n,l,a){return'\t\t\t<div class="sub-cell single-cell">'+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=e?e.fromNumber:e,{name:"formatPhoneNumber",hash:{},data:a}))+"</div>\n"},6:function(t,e,n,l,a){var i=t.escapeExpression;return'\t\t\t<div class="sub-cell cell-top">'+i((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=e?e.toNumber:e,{name:"formatPhoneNumber",hash:{},data:a}))+'</div>\n\t\t\t<div class="sub-cell cell-bottom">'+i(t.lambda(null!=e?e.toName:e,e))+"</div>\n"},8:function(t,e,n,l,a){return'\t\t\t<div class="sub-cell single-cell">'+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=e?e.toNumber:e,{name:"formatPhoneNumber",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i;return null!=(i=n.each.call(null!=e?e:{},null!=e?e.cdrs:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:""},useData:!0}),this.monster.cache.templates.voip["callLogs-layout"]=Handlebars.template({1:function(t,e,n,l,a){return" active"},3:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression,o=null!=e?e:{},c=n.helperMissing;return'\t\t\t\t<div class="fixed-ranges-date">\n\t\t\t\t\t'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.callsFrom:i,e))+' <span class="highlight-date">'+r((n.toFriendlyDate||e&&e.toFriendlyDate||c).call(o,null!=e?e.fromDate:e,"date",{name:"toFriendlyDate",hash:{},data:a}))+"</span> "+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.callsTo:i,e))+' <span class="highlight-date">'+r((n.toFriendlyDate||e&&e.toFriendlyDate||c).call(o,null!=e?e.toDate:e,"date",{name:"toFriendlyDate",hash:{},data:a}))+"</span>\n\t\t\t\t</div>\n"},5:function(t,e,n,l,a){var i;return'\t\t\t<div class="grid-row">\n\t\t\t\t<div class="grid-cell full-width">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.table:i)?i.empty:i,e))+"</div>\n\t\t\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=t.lambda,o=t.escapeExpression,c=null!=e?e:{},u=n.helperMissing;return'<div id="call_logs_container">\n\t<div class="call-logs-header">\n\t\t<div class="title-div">\n\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.title:i,e))+'\n\t\t</div>\n\n\t\t<div class="fixed-ranges">\n\t\t\t<div class="btn-toolbar pull-left">\n\t\t\t\t<div class="btn-group">\n\t\t\t\t\t<button data-type="today" class="btn'+(null!=(i=(n.compare||e&&e.compare||u).call(c,null!=e?e.type:e,"===","today",{
name:"compare",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'" type="button">'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.thisDay:i,e))+'</button>\n\t\t\t\t\t<button data-type="thisWeek" class="btn'+(null!=(i=(n.compare||e&&e.compare||u).call(c,null!=e?e.type:e,"===","thisWeek",{name:"compare",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'" type="button">'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.thisWeek:i,e))+'</button>\n\t\t\t\t\t<button data-type="thisMonth" class="btn'+(null!=(i=(n.compare||e&&e.compare||u).call(c,null!=e?e.type:e,"===","thisMonth",{name:"compare",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'" type="button">'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.thisMonth:i,e))+'</button>\n\t\t\t\t\t<button data-type="custom" class="btn'+(null!=(i=(n.compare||e&&e.compare||u).call(c,null!=e?e.type:e,"===","custom",{name:"compare",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'" type="button">'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.custom:i,e))+'</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="search-div pull-right">\n\t\t\t\t<span class="search-box">\n\t\t\t\t\t<i class="fa fa-search"></i>\n\t\t\t\t\t<input type="text" class="search-query" placeholder="'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.table:i)?i.search:i,e))+'">\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="sub-ranges">\n\t\t\t<div class="custom-range'+(null!=(i=(n.compare||e&&e.compare||u).call(c,null!=e?e.type:e,"===","custom",{name:"compare",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t<span>'+o(r(null!=(i=null!=e?e.i18n:e)?i.startDate:i,e))+'</span>\n\t\t\t\t<input id="startDate" type="text" class="date-filter filter-from">\n\t\t\t\t<span>'+o(r(null!=(i=null!=e?e.i18n:e)?i.endDate:i,e))+'</span>\n\t\t\t\t<input id="endDate" type="text" class="date-filter filter-to">\n\t\t\t\t<button type="button" class="apply-filter monster-button monster-button-primary" title="'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.applyFilter:i,e))+'">'+o(r(null!=(i=null!=e?e.i18n:e)?i.filter:i,e))+"</button>\n\t\t\t</div>\n\n"+(null!=(i=n.if.call(c,null!=e?e.showFilteredDates:e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t\t<a href="#" role="button" class="monster-link download-csv"><i class="fa fa-download monster-green"></i>'+o(r(null!=(i=null!=e?e.i18n:e)?i.download:i,e))+'</a>\n\t\t\t<i class="help-popover fa fa-question" data-toggle="tooltip" data-placement="top" data-original-title="'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.downloadTooltip:i,e))+'"></i>\n\t\t</div>\n\t</div>\n\n\t<div class="call-logs-content">\n\t\t<div class="call-logs-grid">\n\t\t\t<div class="grid-row-group">\n\t\t\t\t<div class="grid-row header-row">\n\t\t\t\t\t<div class="grid-cell direction">\n\t\t\t\t\t\t<div class="sub-cell cell-top">\n\t\t\t\t\t\t\t<i class="fa fa-arrow-right monster-green" title="'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.gridHeaders:i)?i.inboundCall:i,e))+'"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="sub-cell cell-bottom">\n\t\t\t\t\t\t\t<i class="fa fa-arrow-left monster-orange" title="'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.gridHeaders:i)?i.outboundCall:i,e))+'"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="grid-cell datetime">\n\t\t\t\t\t\t<div class="sub-cell cell-top">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.gridHeaders:i)?i.dateTime1:i,e))+'</div>\n\t\t\t\t\t\t<div class="sub-cell cell-bottom">'+o((s=null!=(s=n.timezone||(null!=e?e.timezone:e))?s:u,"function"==typeof s?s.call(c,{name:"timezone",hash:{},data:a}):s))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="grid-cell from">\n\t\t\t\t\t\t<div class="sub-cell single-cell">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.gridHeaders:i)?i.from:i,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="grid-cell to">\n\t\t\t\t\t\t<div class="sub-cell single-cell">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.gridHeaders:i)?i.to:i,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="grid-cell duration">\n\t\t\t\t\t\t<div class="sub-cell cell-top">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.gridHeaders:i)?i.duration1:i,e))+'</div>\n\t\t\t\t\t\t<div class="sub-cell cell-bottom">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.gridHeaders:i)?i.duration2:i,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="grid-cell hangup">\n\t\t\t\t\t\t<div class="sub-cell cell-top">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.gridHeaders:i)?i.hangup1:i,e))+'</div>\n\t\t\t\t\t\t<div class="sub-cell cell-bottom">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.gridHeaders:i)?i.hangup2:i,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="grid-cell actions">\n\t\t\t\t\t\t<div class="sub-cell single-cell">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.gridHeaders:i)?i.actions:i,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="grid-row no-match">\n\t\t\t\t<div class="grid-cell full-width">'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.noSearchMatch:i,e))+'</div>\n\t\t\t</div>\n\t\t\t<div class="grid-row-container">\n\t\t\t</div>\n'+(null!=(i=n.unless.call(c,null!=e?e.cdrs:e,{name:"unless",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t</div>\n\t</div>\n\t<div class="call-logs-loader">\n\t\t<div class="loader-message">'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.loaderMessage:i,e))+'</div>\n\t\t<div class="loading-message"><i class="fa fa-spinner fa-lg"></i><span>'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.callLogs:i)?i.loadingMessage:i,e))+"</span></div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["devices-ata"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression((i=null!=(i=n.name||(null!=e?e.name:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"name",hash:{},data:a}):i))+"</div>\n"},3:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.ata:i)?i.new:i,e))+"</div>\n"},5:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="callerId" href="javascript:void(0)"><i class="fa fa-ambulance"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.menuTitle:i,e))+"</a></li>\n"},7:function(t,e,n,l,a){var i,s,r,o=null!=e?e:{},c=n.helperMissing,u="function",d=t.escapeExpression,p='\t\t\t\t\t\t<div class="control-group restriction-line'+(null!=(i=n.if.call(o,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+'" data-restriction="'+d((s=null!=(s=n.key||a&&a.key)?s:c,typeof s===u?s.call(o,{name:"key",hash:{},data:a}):s))+'">\n\t\t\t\t\t\t\t<label class="control-label">'+d(t.lambda(null!=e?e.friendly_name:e,e))+"\n"+(null!=(i=n.if.call(o,null!=e?e.help:e,{name:"if",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:c,r={name:"monsterSwitch",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a},i=typeof s===u?s.call(o,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(p+=i),p+'\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<i class="restriction-matcher-sign fa-lg fa fa-check monster-green"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n'},8:function(t,e,n,l,a){return" disabled"},10:function(t,e,n,l,a){return'\t\t\t\t\t\t\t\t\t<i class="help-popover fa fa-question-circle" data-original-title="'+t.escapeExpression(t.lambda(null!=e?e.help:e,e))+'" data-placement="top" data-toggle="tooltip"></i>\n'},12:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c=t.escapeExpression,u=t.lambda;return'\t\t\t\t\t\t\t\t\t<input class="restrictions-switch" type="checkbox" name="call_restriction.'+c((s=null!=(s=n.key||a&&a.key)?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:a}):s))+'.action" data-on="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.allow,e))+'" data-off="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.deny,e))+'" '+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=e?e.action:e,"===","inherit",{name:"compare",hash:{},fn:t.program(13,a,0),inverse:t.noop,data:a}))?i:"")+(null!=(i=n.if.call(r,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},13:function(t,e,n,l,a){var i;return null!=(i=n.unless.call(null!=e?e:{},null!=e?e.disabled:e,{name:"unless",hash:{},fn:t.program(14,a,0),inverse:t.noop,data:a}))?i:""},14:function(t,e,n,l,a){return" checked"},16:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"info","disabled-restrictions-info",{name:"monsterText",hash:{},fn:t.program(17,a,0),inverse:t.noop,data:a}))?i:""},17:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t<p>"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.disabledRestrictionsInfo:i,e))+"</p>\n"},19:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="tabs-section clearfix" data-section="callerId">\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.sectionTitle:i,e))+"\n\t\t\t\t\t</div>\n\n"+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.hasE911Numbers:i,{name:"if",hash:{},fn:t.program(20,a,0),inverse:t.program(22,a,0),data:a}))?i:"")+"\t\t\t\t</div>\n"},20:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t\t<label class="control-label">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.emergency:i,e))+'</label>\n\t\t\t\t\t\t\t<div class="controls emergency-number"></div>\n\t\t\t\t\t\t</div>\n'},22:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"error",{name:"monsterText",hash:{},fn:t.program(23,a,0),inverse:t.noop,data:a}))?i:""},23:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.noE911Numbers:i,e))+"\n"},25:function(t,e,n,l,a){var i;return'\t\t\t<a id="delete_device" class="monster-link"><i class="fa fa-trash-o monster-red"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.deleteDevice:i,e))+"</a>\n"},27:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"\n"},29:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.createDevice:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'<div class="edit-device" data-id="'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'">\n\t<div class="title-bar clearfix">\n\t\t<div class="device-title pull-left">\n\t\t\t<div class="device-icon">\n\t\t\t\t<i class="icon-telicon-ata"></i>\n\t\t\t</div>\n\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?i:"")+'\t\t</div>\n\n\t\t<ul class="nav nav-pills pull-right">\n\t\t\t<li class="tabs-main-selector main-section active">\n\t\t\t\t<a class="tabs-selector change-section" data-section="basic" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.basicTitle:i,e))+'</a>\n\t\t\t</li>\n\t\t\t<li class="tabs-main-selector main-section dropdown">\n\t\t\t\t<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.advancedTitle:i,e))+'\n\t\t\t\t\t<b class="caret"></b>\n\t\t\t\t</a>\n\t\t\t\t<ul class="dropdown-menu pull-right">\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="audio" href="javascript:void(0)"><i class="fa fa-music"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.audio:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="restrictions" href="javascript:void(0)"><i class="fa fa-ban"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.menuTitle:i,e))+"</a></li>\n"+(null!=(i=n.if.call(r,null!=e?e.showEmergencyCnam:e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t<div class="content">\n\t\t<form id="form_device" class="form-horizontal">\n\t\t\t<div class="tabs-section active" data-section="basic">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.ata:i)?i.deviceName:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="name" name="name" value="'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_username">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.username:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="sip_username" name="sip.username" value="'+u(d(null!=(i=null!=e?e.sip:e)?i.username:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_password">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.password:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="password" id="sip_password" name="sip.password" value="'+u(d(null!=(i=null!=e?e.sip:e)?i.password:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_username">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.realm:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<span class="displayed-realm">'+u(d(null!=(i=null!=e?e.sip:e)?i.realm:i,e))+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="audio">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.audio:i)?i.sectionTitle:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.dragAndDrop:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="items-selector codec-selector" id="audio_codec_selector"></div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="restrictions">\n\t\t\t\t<div class="restrictions-container">\n\t\t\t\t\t<div class="restriction-matcher-div">\n\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.help:i,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t\t<input type="text" class="restriction-matcher-input" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.placeholder:i,e))+'" />\n\t\t\t\t\t\t<button type="button"  class="monster-button monster-button-primary restriction-matcher-button">'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.button:i,e))+'</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.sectionTitle:i,e))+'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-list">\n'+(null!=(i=n.each.call(r,null!=(i=null!=e?e.extra:e)?i.restrictions:i,{name:"each",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-message help-box">\n\t\t\t\t\t</div>\n'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.hasDisabledRestrictions:i,{name:"if",hash:{},fn:t.program(16,a,0),inverse:t.noop,data:a}))?i:"")+"\t\t\t\t</div>\n\t\t\t</div>\n\n"+(null!=(i=n.if.call(r,null!=e?e.showEmergencyCnam:e,{name:"if",hash:{},fn:t.program(19,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(25,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+u(d(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t\t<button type="button" class="monster-button monster-button-success save">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(27,a,0),inverse:t.program(29,a,0),data:a}))?i:"")+"\t\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["devices-cellphone"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression((i=null!=(i=n.name||(null!=e?e.name:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"name",hash:{},data:a}):i))+"</div>\n"},3:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.cellphone:i)?i.new:i,e))+"</div>\n"},5:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t<input id="require_keypress" type="checkbox" name="extra.allowVMCellphone"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.allowVMCellphone:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},6:function(t,e,n,l,a){return' checked="checked"'},8:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t<input id="keep_caller_id" type="checkbox" name="call_forward.keep_caller_id"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.call_forward:e)?i.keep_caller_id:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},10:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t<input id="hide_contact_list" type="checkbox" name="contact_list.exclude"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.contact_list:e)?i.exclude:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},12:function(t,e,n,l,a){var i;return'\t\t\t<a id="delete_device" class="monster-link"><i class="fa fa-trash-o monster-red"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.deleteDevice:i,e))+"</a>\n"},14:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"\n"},16:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.createDevice:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'<div class="edit-device" data-id="'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'">\n\t<div class="title-bar clearfix">\n\t\t<div class="device-title pull-left">\n\t\t\t<div class="device-icon">\n\t\t\t\t<i class="fa fa-phone"></i>\n\t\t\t</div>\n\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?i:"")+'\t\t</div>\n\n\t\t<ul class="nav nav-pills pull-right">\n\t\t\t<li class="tabs-main-selector main-section active">\n\t\t\t\t<a class="tabs-selector change-section" data-section="basic" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.basicTitle:i,e))+'</a>\n\t\t\t</li>\n\t\t\t<li class="tabs-main-selector main-section dropdown">\n                <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.advancedTitle:i,e))+'\n                    <b class="caret"></b>\n                </a>\n                <ul class="dropdown-menu pull-right">\n                    <li><a class="tabs-selector change-section" data-section="options" href="javascript:void(0)"><i class="fa fa-ambulance"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.options:i)?i.menuTitle:i,e))+'</a></li>\n                </ul>\n            </li>\n\t\t</ul>\n\t</div>\n\n\t<div class="content">\n\t\t<form id="form_device" class="form-horizontal">\n\t\t\t<div class="tabs-section active" data-section="basic">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.cellphone:i)?i.deviceName:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="name" name="name" value="'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="number">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.cellphone:i)?i.number:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" name="call_forward.number" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.cellphone:i)?i.numberPlaceholder:i,e))+'" value="'+u(d(null!=(i=null!=e?e.call_forward:e)?i.number:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section" data-section="options">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="require_keypress"></label>\n\t\t\t\t\t<div class="controls">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.cellphone:i)?i.requireKeypress:i,{name:"monsterCheckbox",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="keep_caller_id"></label>\n\t\t\t\t\t<div class="controls">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.cellphone:i)?i.keepCallerId:i,{name:"monsterCheckbox",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="hide_contact_list"></label>\n\t\t\t\t\t<div class="controls">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.cellphone:i)?i.hideContactList:i,{name:"monsterCheckbox",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+u(d(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(14,a,0),inverse:t.program(16,a,0),data:a}))?i:"")+"\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["devices-fax"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression((i=null!=(i=n.name||(null!=e?e.name:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"name",hash:{},data:a}):i))+"</div>\n"},3:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.fax:i)?i.new:i,e))+"</div>\n"},5:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="callerId" href="javascript:void(0)"><i class="fa fa-ambulance"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.menuTitle:i,e))+"</a></li>\n"},7:function(t,e,n,l,a){return" selected"},9:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t<input type="checkbox" name="extra.notify_unregister" id="notify_unregister" '+(null!=(i=n.unless.call(null!=e?e:{},null!=e?e.suppress_unregister_notifications:e,{name:"unless",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},10:function(t,e,n,l,a){return"checked"},12:function(t,e,n,l,a){var i,s,r,o=null!=e?e:{},c=n.helperMissing,u="function",d=t.escapeExpression,p='\t\t\t\t\t\t<div class="control-group restriction-line'+(null!=(i=n.if.call(o,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(13,a,0),inverse:t.noop,data:a}))?i:"")+'" data-restriction="'+d((s=null!=(s=n.key||a&&a.key)?s:c,typeof s===u?s.call(o,{name:"key",hash:{},data:a}):s))+'">\n\t\t\t\t\t\t\t<label class="control-label">'+d(t.lambda(null!=e?e.friendly_name:e,e))+"\n"+(null!=(i=n.if.call(o,null!=e?e.help:e,{name:"if",hash:{},fn:t.program(15,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:c,r={name:"monsterSwitch",hash:{},fn:t.program(17,a,0),inverse:t.noop,data:a},i=typeof s===u?s.call(o,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(p+=i),p+'\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<i class="restriction-matcher-sign fa-lg fa fa-check monster-green"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n'},13:function(t,e,n,l,a){return" disabled"},15:function(t,e,n,l,a){return'\t\t\t\t\t\t\t\t\t<i class="help-popover fa fa-question-circle" data-original-title="'+t.escapeExpression(t.lambda(null!=e?e.help:e,e))+'" data-placement="top" data-toggle="tooltip"></i>\n'},17:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c=t.escapeExpression,u=t.lambda;return'\t\t\t\t\t\t\t\t\t<input class="restrictions-switch" type="checkbox" name="call_restriction.'+c((s=null!=(s=n.key||a&&a.key)?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:a}):s))+'.action" data-on="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.allow,e))+'" data-off="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.deny,e))+'" '+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=e?e.action:e,"===","inherit",{name:"compare",hash:{},fn:t.program(18,a,0),inverse:t.noop,data:a}))?i:"")+(null!=(i=n.if.call(r,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(13,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},18:function(t,e,n,l,a){var i;return null!=(i=n.unless.call(null!=e?e:{},null!=e?e.disabled:e,{name:"unless",hash:{},fn:t.program(19,a,0),inverse:t.noop,data:a}))?i:""},19:function(t,e,n,l,a){return" checked"},21:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"info","disabled-restrictions-info",{name:"monsterText",hash:{},fn:t.program(22,a,0),inverse:t.noop,data:a}))?i:""},22:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t<p>"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.disabledRestrictionsInfo:i,e))+"</p>\n"},24:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="tabs-section clearfix" data-section="callerId">\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.sectionTitle:i,e))+"\n\t\t\t\t\t</div>\n\n"+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.hasE911Numbers:i,{name:"if",hash:{},fn:t.program(25,a,0),inverse:t.program(27,a,0),data:a}))?i:"")+"\t\t\t\t</div>\n"},25:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t\t<label class="control-label">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.emergency:i,e))+'</label>\n\t\t\t\t\t\t\t<div class="controls emergency-number"></div>\n\t\t\t\t\t\t</div>\n'},27:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"error",{name:"monsterText",hash:{},fn:t.program(28,a,0),inverse:t.noop,data:a}))?i:""},28:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.noE911Numbers:i,e))+"\n"},30:function(t,e,n,l,a){var i;return'\t\t\t<a id="delete_device" class="monster-link"><i class="fa fa-trash-o monster-red"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.deleteDevice:i,e))+"</a>\n"},32:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"\n"},34:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.createDevice:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'<div class="edit-device" data-id="'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'">\n\t<div class="title-bar clearfix">\n\t\t<div class="device-title pull-left">\n\t\t\t<div class="device-icon">\n\t\t\t\t<i class="icon-telicon-fax"></i>\n\t\t\t</div>\n\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?i:"")+'\t\t</div>\n\n\t\t<ul class="nav nav-pills pull-right">\n\t\t\t<li class="tabs-main-selector main-section active">\n\t\t\t\t<a class="tabs-selector change-section" data-section="basic" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.basicTitle:i,e))+'</a>\n\t\t\t</li>\n\t\t\t<li class="tabs-main-selector main-section dropdown">\n\t\t\t\t<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.advancedTitle:i,e))+'\n\t\t\t\t\t<b class="caret"></b>\n\t\t\t\t</a>\n\t\t\t\t<ul class="dropdown-menu pull-right">\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="audio" href="javascript:void(0)"><i class="fa fa-music"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.audio:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="restrictions" href="javascript:void(0)"><i class="fa fa-ban"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.menuTitle:i,e))+"</a></li>\n"+(null!=(i=n.if.call(r,null!=e?e.showEmergencyCnam:e,{
name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t<div class="content">\n\t\t<form id="form_device" class="form-horizontal">\n\t\t\t<div class="tabs-section active" data-section="basic">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.fax:i)?i.deviceName:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="name" name="name" value="'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_username">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.username:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="sip_username" name="sip.username" value="'+u(d(null!=(i=null!=e?e.sip:e)?i.username:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_password">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.password:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="password" id="sip_password" name="sip.password" value="'+u(d(null!=(i=null!=e?e.sip:e)?i.password:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_username">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.realm:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<span class="displayed-realm">'+u(d(null!=(i=null!=e?e.sip:e)?i.realm:i,e))+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="media_fax_option">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.fax:i)?i.t38:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<select id="media_fax_option" name="media.fax_option">\n\t\t\t\t\t\t\t<option'+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.media:e)?i.fax_option:i,"===","auto",{name:"compare",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+' value="auto">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.fax:i)?i.auto:i,e))+"</option>\n\t\t\t\t\t\t\t<option"+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.media:e)?i.fax_option:i,"===","true",{name:"compare",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+' value="true">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.fax:i)?i.force:i,e))+"</option>\n\t\t\t\t\t\t\t<option"+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.media:e)?i.fax_option:i,"===","false",{name:"compare",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+' value="false">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.fax:i)?i.disabled:i,e))+'</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label checkbox checkbox-basic">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.unregisterNotifications:i)?i.label:i,{name:"monsterCheckbox",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.unregisterNotifications:i)?i.help:i,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="audio">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.audio:i)?i.sectionTitle:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.dragAndDrop:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="items-selector codec-selector" id="audio_codec_selector"></div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="restrictions">\n\t\t\t\t<div class="restrictions-container">\n\t\t\t\t\t<div class="restriction-matcher-div">\n\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.help:i,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t\t<input type="text" class="restriction-matcher-input" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.placeholder:i,e))+'" />\n\t\t\t\t\t\t<button type="button"  class="monster-button monster-button-primary restriction-matcher-button">'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.button:i,e))+'</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.sectionTitle:i,e))+'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-list">\n'+(null!=(i=n.each.call(r,null!=(i=null!=e?e.extra:e)?i.restrictions:i,{name:"each",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-message help-box">\n\t\t\t\t\t</div>\n'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.hasDisabledRestrictions:i,{name:"if",hash:{},fn:t.program(21,a,0),inverse:t.noop,data:a}))?i:"")+"\t\t\t\t</div>\n\t\t\t</div>\n\n"+(null!=(i=n.if.call(r,null!=e?e.showEmergencyCnam:e,{name:"if",hash:{},fn:t.program(24,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(30,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+u(d(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t\t<button type="button" class="monster-button monster-button-success save">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(32,a,0),inverse:t.program(34,a,0),data:a}))?i:"")+"\t\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["devices-landline"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression((i=null!=(i=n.name||(null!=e?e.name:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"name",hash:{},data:a}):i))+"</div>\n"},3:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.landline:i)?i.new:i,e))+"</div>\n"},5:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input id="require_keypress" type="checkbox" name="extra.allowVMCellphone"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.allowVMCellphone:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},6:function(t,e,n,l,a){return' checked="checked"'},8:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input id="keep_caller_id" type="checkbox" name="call_forward.keep_caller_id"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.call_forward:e)?i.keep_caller_id:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},10:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input id="hide_contact_list" type="checkbox" name="contact_list.exclude"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.contact_list:e)?i.exclude:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},12:function(t,e,n,l,a){var i;return'\t\t\t<a id="delete_device" class="monster-link"><i class="fa fa-trash-o monster-red"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.deleteDevice:i,e))+"</a>\n"},14:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"\n"},16:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.createDevice:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'<div class="edit-device" data-id="'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'">\n\t<div class="title-bar clearfix">\n\t\t<div class="device-title pull-left">\n\t\t\t<div class="device-icon">\n\t\t\t\t<i class="icon-telicon-home"></i>\n\t\t\t</div>\n\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?i:"")+'\t\t</div>\n\n\t\t<ul class="nav nav-pills pull-right">\n\t\t\t<li class="tabs-main-selector main-section active">\n\t\t\t\t<a class="tabs-selector change-section" data-section="basic" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.basicTitle:i,e))+'</a>\n\t\t\t</li>\n\t\t\t<li class="tabs-main-selector main-section dropdown">\n                <a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.advancedTitle:i,e))+'\n                    <b class="caret"></b>\n                </a>\n                <ul class="dropdown-menu pull-right">\n                    <li><a class="tabs-selector change-section" data-section="options" href="javascript:void(0)"><i class="fa fa-ambulance"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.options:i)?i.menuTitle:i,e))+'</a></li>\n                </ul>\n            </li>\n\t\t</ul>\n\t</div>\n\n\t<div class="content">\n\t\t<form id="form_device" class="form-horizontal">\n\t\t\t<div class="tabs-section active" data-section="basic">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.landline:i)?i.deviceName:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="name" name="name" value="'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="number">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.landline:i)?i.number:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" name="call_forward.number" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.landline:i)?i.numberPlaceholder:i,e))+'" value="'+u(d(null!=(i=null!=e?e.call_forward:e)?i.number:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section" data-section="options">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="require_keypress"></label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<label>\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.landline:i)?i.requireKeypress:i,{name:"monsterCheckbox",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="keep_caller_id"></label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<label>\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.landline:i)?i.keepCallerId:i,{name:"monsterCheckbox",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="hide_contact_list"></label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<label>\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.landline:i)?i.hideContactList:i,{name:"monsterCheckbox",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+u(d(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(14,a,0),inverse:t.program(16,a,0),data:a}))?i:"")+"\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["devices-layout"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=t.lambda,o=t.escapeExpression;return'<div id="devices_container">\n\t<div class="devices-header">\n\t\t<div class="title">\n\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.title:i,e))+'\n\t\t\t<span class="count-devices">'+o((s=null!=(s=n.countDevices||(null!=e?e.countDevices:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"countDevices",hash:{},data:a}):s))+'</span>\n\t\t</div>\n\n\t\t<div class="dropdown">\n\t\t\t<a href="#" class="add-device monster-link dropdown-toggle" data-toggle="dropdown">\n\t\t\t\t<i class="fa fa-plus-circle"></i>\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.add:i,e))+'\n\t\t\t</a>\n\t\t\t<ul class="dropdown-menu">\n\t\t\t\t<li><a class="create-device" data-type="sip_device"><i class="icon-telicon-voip-phone"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.sip_device:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="cellphone"><i class="fa fa-phone"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.cellphone:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="smartphone"><i class="icon-telicon-mobile-phone"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.smartphone:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="softphone"><i class="icon-telicon-soft-phone"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.softphone:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="landline"><i class="icon-telicon-home"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.landline:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="fax"><i class="icon-telicon-fax"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.fax:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="ata"><i class="icon-telicon-ata"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.ata:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="sip_uri"><i class="icon-telicon-voip-phone"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.sip_uri:i,e))+'</a></li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<span class="search-box pull-right">\n\t\t\t<i class="fa fa-search"></i>\n\t\t\t<input type="text" class="search-query" placeholder="'+o(r(null!=(i=null!=e?e.i18n:e)?i.search:i,e))+'"></input>\n\t\t</span>\n\t</div>\n\n\t<div class="devices-grid">\n\t\t<div class="grid-row title">\n\t\t\t<div class="grid-cell type">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.titleGrid:i)?i.type:i,e))+'</div>\n\t\t\t<div class="grid-cell mac-address">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.titleGrid:i)?i.modelMacAddress:i,e))+'</div>\n\t\t\t<div class="grid-cell user">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.titleGrid:i)?i.user:i,e))+'</div>\n\t\t\t<div class="grid-cell enable">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.titleGrid:i)?i.enable:i,e))+'</div>\n\t\t\t<div class="grid-cell edit">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.titleGrid:i)?i.edit:i,e))+'</div>\n\t\t</div>\n\t\t<div class="devices-rows">\n\t\t\t<div class="empty-search-row">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.noMatchingDevices:i,e))+'\n\t\t\t</div>\n\t\t\t<div class="no-devices-row">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.noDevicesConfigured:i,e))+"\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["devices-mobile"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression((i=null!=(i=n.name||(null!=e?e.name:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"name",hash:{},data:a}):i))+"</div>\n"},3:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.mobile:i)?i.new:i,e))+"</div>\n"},5:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="audio" href="javascript:void(0)"><i class="fa fa-music"></i>'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.audio:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="video" href="javascript:void(0)"><i class="fa fa-video-camera"></i>'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.video:i)?i.menuTitle:i,e))+"</a></li>\n"},7:function(t,e,n,l,a){var i;return(null!=(i=n.if.call(null!=e?e:{},null!=e?e.showEmergencyCnam:e,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="miscellaneous" href="javascript:void(0)"><i class="fa fa-cogs"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.menuTitle:i,e))+"</a></li>\n"},8:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="callerId" href="javascript:void(0)"><i class="fa fa-ambulance"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.menuTitle:i,e))+"</a></li>\n"},10:function(t,e,n,l,a){var i,s,r,o=null!=e?e:{},c=n.helperMissing,u="function",d=t.escapeExpression,p='\t\t\t\t\t\t<div class="control-group restriction-line'+(null!=(i=n.if.call(o,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(11,a,0),inverse:t.noop,data:a}))?i:"")+'" data-restriction="'+d((s=null!=(s=n.key||a&&a.key)?s:c,typeof s===u?s.call(o,{name:"key",hash:{},data:a}):s))+'">\n\t\t\t\t\t\t\t<label class="control-label">'+d(t.lambda(null!=e?e.friendly_name:e,e))+"\n"+(null!=(i=n.if.call(o,null!=e?e.help:e,{name:"if",hash:{},fn:t.program(13,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:c,r={name:"monsterSwitch",hash:{},fn:t.program(15,a,0),inverse:t.noop,data:a},i=typeof s===u?s.call(o,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(p+=i),p+'\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<i class="restriction-matcher-sign fa-lg fa fa-check monster-green"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n'},11:function(t,e,n,l,a){return" disabled"},13:function(t,e,n,l,a){return'\t\t\t\t\t\t\t\t\t<i class="help-popover fa fa-question-circle" data-original-title="'+t.escapeExpression(t.lambda(null!=e?e.help:e,e))+'" data-placement="top" data-toggle="tooltip"></i>\n'},15:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c=t.escapeExpression,u=t.lambda;return'\t\t\t\t\t\t\t\t\t<input class="restrictions-switch" type="checkbox" name="call_restriction.'+c((s=null!=(s=n.key||a&&a.key)?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:a}):s))+'.action" data-on="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.allow,e))+'" data-off="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.deny,e))+'" '+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=e?e.action:e,"===","inherit",{name:"compare",hash:{},fn:t.program(16,a,0),inverse:t.noop,data:a}))?i:"")+(null!=(i=n.if.call(r,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(11,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},16:function(t,e,n,l,a){var i;return null!=(i=n.unless.call(null!=e?e:{},null!=e?e.disabled:e,{name:"unless",hash:{},fn:t.program(17,a,0),inverse:t.noop,data:a}))?i:""},17:function(t,e,n,l,a){return" checked"},19:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"info","disabled-restrictions-info",{name:"monsterText",hash:{},fn:t.program(20,a,0),inverse:t.noop,data:a}))?i:""},20:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t<p>"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.disabledRestrictionsInfo:i,e))+"</p>\n"},22:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="tabs-section clearfix" data-section="callerId">\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.sectionTitle:i,e))+"\n\t\t\t\t\t</div>\n\n"+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.hasE911Numbers:i,{name:"if",hash:{},fn:t.program(23,a,0),inverse:t.program(25,a,0),data:a}))?i:"")+"\t\t\t\t</div>\n"},23:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t\t<label class="control-label">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.emergency:i,e))+'</label>\n\t\t\t\t\t\t\t<div class="controls emergency-number"></div>\n\t\t\t\t\t\t</div>\n'},25:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"error",{name:"monsterText",hash:{},fn:t.program(26,a,0),inverse:t.noop,data:a}))?i:""},26:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.noE911Numbers:i,e))+"\n"},28:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t<input type="checkbox" name="ignore_completed_elsewhere" id="ignore_completed_elsewhere" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.ignore_completed_elsewhere:e,{name:"if",hash:{},fn:t.program(29,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},29:function(t,e,n,l,a){return"checked"},31:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input type="checkbox" id="secure_rtp" name="media.encryption.enforce_security"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=e?e.media:e)?i.encryption:i)?i.enforce_security:i,{name:"if",hash:{},fn:t.program(32,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},32:function(t,e,n,l,a){return' checked="checked"'},34:function(t,e,n,l,a){return" selected"},36:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"\n"},38:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.createDevice:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'<div class="edit-device" data-id="'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'">\n\t<div class="title-bar clearfix">\n\t\t<div class="device-title pull-left">\n\t\t\t<div class="device-icon">\n\t\t\t\t<i class="icon-telicon-sprint-phone"></i>\n\t\t\t</div>\n\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?i:"")+'\t\t</div>\n\n\t\t<ul class="nav nav-pills pull-right">\n\t\t\t<li class="tabs-main-selector main-section active">\n\t\t\t\t<a class="tabs-selector change-section" data-section="basic" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.basicTitle:i,e))+'</a>\n\t\t\t</li>\n\t\t\t<li class="tabs-main-selector main-section dropdown">\n\t\t\t\t<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.advancedTitle:i,e))+'\n\t\t\t\t\t<b class="caret"></b>\n\t\t\t\t</a>\n\t\t\t\t<ul class="dropdown-menu pull-right">\n'+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=e?e.device_type:e,"!==","mobile",{name:"compare",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="restrictions" href="javascript:void(0)"><i class="fa fa-ban"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.menuTitle:i,e))+"</a></li>\n"+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=e?e.device_type:e,"!==","mobile",{name:"compare",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t<div class="content">\n\t\t<form id="form_device" class="form-horizontal">\n\t\t\t<div class="tabs-section active" data-section="basic">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.mobile:i)?i.deviceName:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<div class="text">'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="mobile_mdn">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.mobile:i)?i.mdn:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<div class="text">'+u(d(null!=(i=null!=e?e.mobile:e)?i.mdn:i,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_username">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.username:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<div class="text">'+u(d(null!=(i=null!=e?e.sip:e)?i.username:i,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_password">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.password:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<div class="text">'+u(d(null!=(i=null!=e?e.sip:e)?i.password:i,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.realm:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<span class="displayed-realm">'+u(d(null!=(i=null!=e?e.sip:e)?i.realm:i,e))+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="audio">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.audio:i)?i.sectionTitle:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.dragAndDrop:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="items-selector codec-selector clearfix" id="audio_codec_selector">\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="video">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.video:i)?i.sectionTitle:i,e))+'\n\t\t\t\t</div>\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.dragAndDrop:i,e))+'\n\t\t\t\t</div>\n\t\t\t\t<div class="items-selector codec-selector" id="video_codec_selector">\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="restrictions">\n\t\t\t\t<div class="restrictions-container">\n\t\t\t\t\t<div class="restriction-matcher-div">\n\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.help:i,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t\t<input type="text" class="restriction-matcher-input" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.placeholder:i,e))+'" />\n\t\t\t\t\t\t<button type="button"  class="monster-button monster-button-primary restriction-matcher-button">'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.button:i,e))+'</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.sectionTitle:i,e))+'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-list">\n'+(null!=(i=n.each.call(r,null!=(i=null!=e?e.extra:e)?i.restrictions:i,{name:"each",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-message help-box">\n\t\t\t\t\t</div>\n'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.hasDisabledRestrictions:i,{name:"if",hash:{},fn:t.program(19,a,0),inverse:t.noop,data:a}))?i:"")+"\t\t\t\t</div>\n\t\t\t</div>\n\n"+(null!=(i=n.if.call(r,null!=e?e.showEmergencyCnam:e,{name:"if",hash:{},fn:t.program(22,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t\t<div class="tabs-section clearfix" data-section="miscellaneous">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.sectionTitle:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label checkbox">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.ignoreCompletedElsewhere:i)?i.label:i,{name:"monsterCheckbox",hash:{},fn:t.program(28,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.ignoreCompletedElsewhere:i)?i.help:i,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="rtp-line">\n\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label class="control-label checkbox">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.rtp:i)?i.enable:i,{
name:"monsterCheckbox",hash:{},fn:t.program(31,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id="rtp_method">\n\t\t\t\t\t\t<span>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.rtp:i)?i.type:i,e))+'</span>\n\n\t\t\t\t\t\t<select class="input-small" name="extra.rtpMethod">\n\t\t\t\t\t\t\t<option value="srtp"'+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.extra:e)?i.rtpMethod:i,"===","srtp",{name:"compare",hash:{},fn:t.program(34,a,0),inverse:t.noop,data:a}))?i:"")+">"+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.rtp:i)?i.srtp:i,e))+'</option>\n\t\t\t\t\t\t\t<option value="zrtp"'+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.extra:e)?i.rtpMethod:i,"===","zrtp",{name:"compare",hash:{},fn:t.program(34,a,0),inverse:t.noop,data:a}))?i:"")+">"+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.rtp:i)?i.zrtp:i,e))+'</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+u(d(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t\t<button type="button" class="monster-button monster-button-success save">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(36,a,0),inverse:t.program(38,a,0),data:a}))?i:"")+"\t\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["devices-row"]=Handlebars.template({1:function(t,e,n,l,a){return" bigger"},3:function(t,e,n,l,a){return" centered"},5:function(t,e,n,l,a){var i;return'\t\t\t\t<input class="switch-state" type="checkbox"'+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.enabled:e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},6:function(t,e,n,l,a){return' checked="checked"'},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=null!=e?e:{},c=n.helperMissing,u="function",d=t.escapeExpression,p='<div class="grid-row" data-id="'+d((s=null!=(s=n.id||(null!=e?e.id:e))?s:c,typeof s===u?s.call(o,{name:"id",hash:{},data:a}):s))+'" data-search="'+d((s=null!=(s=n.userName||(null!=e?e.userName:e))?s:c,typeof s===u?s.call(o,{name:"userName",hash:{},data:a}):s))+" "+d((s=null!=(s=n.friendlyType||(null!=e?e.friendlyType:e))?s:c,typeof s===u?s.call(o,{name:"friendlyType",hash:{},data:a}):s))+" "+d((s=null!=(s=n.type||(null!=e?e.type:e))?s:c,typeof s===u?s.call(o,{name:"type",hash:{},data:a}):s))+" "+d((s=null!=(s=n.name||(null!=e?e.name:e))?s:c,typeof s===u?s.call(o,{name:"name",hash:{},data:a}):s))+" "+d((s=null!=(s=n.macAddress||(null!=e?e.macAddress:e))?s:c,typeof s===u?s.call(o,{name:"macAddress",hash:{},data:a}):s))+" "+d((s=null!=(s=n.sipUserName||(null!=e?e.sipUserName:e))?s:c,typeof s===u?s.call(o,{name:"sipUserName",hash:{},data:a}):s))+'" data-assigned="'+d((s=null!=(s=n.isAssigned||(null!=e?e.isAssigned:e))?s:c,typeof s===u?s.call(o,{name:"isAssigned",hash:{},data:a}):s))+'" data-registered="'+d((s=null!=(s=n.isRegistered||(null!=e?e.isRegistered:e))?s:c,typeof s===u?s.call(o,{name:"isRegistered",hash:{},data:a}):s))+'">\n\t<div class="devices-cells">\n\t\t<div class="type grid-cell centered '+d((s=null!=(s=n.classStatus||(null!=e?e.classStatus:e))?s:c,typeof s===u?s.call(o,{name:"classStatus",hash:{},data:a}):s))+'">\n\t\t\t<div class="first-line">\n\t\t\t\t<i class="'+d((s=null!=(s=n.friendlyIconClass||(null!=e?e.friendlyIconClass:e))?s:c,typeof s===u?s.call(o,{name:"friendlyIconClass",hash:{},data:a}):s))+' fa fa-device"></i>\n\t\t\t</div>\n\t\t\t<div class="second-line">\n\t\t\t\t'+d((s=null!=(s=n.friendlyType||(null!=e?e.friendlyType:e))?s:c,typeof s===u?s.call(o,{name:"friendlyType",hash:{},data:a}):s))+'\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="mac-address grid-cell">\n\t\t\t<div class="first-line'+(null!=(i=(n.compare||e&&e.compare||c).call(o,null!=e?e.macAddress:e,"===","",{name:"compare",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">'+d((s=null!=(s=n.name||(null!=e?e.name:e))?s:c,typeof s===u?s.call(o,{name:"name",hash:{},data:a}):s))+'</div>\n\t\t\t<div class="second-line">'+d((s=null!=(s=n.macAddress||(null!=e?e.macAddress:e))?s:c,typeof s===u?s.call(o,{name:"macAddress",hash:{},data:a}):s))+'</div>\n\t\t</div>\n\t\t<div class="user grid-cell'+(null!=(i=(n.compare||e&&e.compare||c).call(o,null!=e?e.isAssigned:e,"===","false",{name:"compare",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t'+d((s=null!=(s=n.userName||(null!=e?e.userName:e))?s:c,typeof s===u?s.call(o,{name:"userName",hash:{},data:a}):s))+'\n\t\t</div>\n\t\t<div class="enable grid-cell centered">\n\t\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:c,r={name:"monsterSwitch",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a},i=typeof s===u?s.call(o,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(p+=i),p+'\t\t\t</div>\n\t\t</div>\n\t\t<div class="edit grid-cell centered">\n\t\t\t<i class="fa fa-wrench settings"></i>\n\t\t</div>\n\t</div>\n</div>\n'},useData:!0}),this.monster.cache.templates.voip["devices-sip_device"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=null!=e?e:{},r=n.helperMissing,o=t.escapeExpression,c=t.lambda;return'\t\t\t<div class="device-image model-image" style="background-image: url(\'css/assets/models/'+o((n.toLowerCase||e&&e.toLowerCase||r).call(s,null!=(i=null!=e?e.provision:e)?i.endpoint_brand:i,{name:"toLowerCase",hash:{},data:a}))+"_"+o((n.toLowerCase||e&&e.toLowerCase||r).call(s,null!=(i=null!=e?e.provision:e)?i.endpoint_family:i,{name:"toLowerCase",hash:{},data:a}))+"_"+o((n.toLowerCase||e&&e.toLowerCase||r).call(s,null!=(i=null!=e?e.provision:e)?i.endpoint_model:i,{name:"toLowerCase",hash:{},data:a}))+'.jpg\');"></div>\n\t\t\t<div class="device-model">'+o(c(null!=(i=null!=e?e.provision:e)?i.endpoint_brand:i,e))+" - "+o(c(null!=(i=null!=e?e.provision:e)?i.endpoint_model:i,e))+"</div>\n"},3:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-icon">\n\t\t\t\t\t<i class="icon-telicon-voip-phone"></i>\n\t\t\t\t</div>\n\n'+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.id:e,{name:"if",hash:{},fn:t.program(4,a,0),inverse:t.program(6,a,0),data:a}))?i:"")},4:function(t,e,n,l,a){var i;return'\t\t\t\t\t<div class="device-model">'+t.escapeExpression((i=null!=(i=n.name||(null!=e?e.name:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"name",hash:{},data:a}):i))+"</div>\n"},6:function(t,e,n,l,a){var i;return'\t\t\t\t\t<div class="device-model">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip_device:i)?i.new:i,e))+"</div>\n"},8:function(t,e,n,l,a){var i;return'\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="sip" href="javascript:void(0)"><i class="fa fa-user"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.sip:i)?i.menuTitle:i,e))+"</a></li>\n"},10:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="callerId" href="javascript:void(0)"><i class="fa fa-ambulance"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.menuTitle:i,e))+"</a></li>\n"},12:function(t,e,n,l,a){var i,s=null!=e?e:{},r=n.helperMissing,o="function",c=t.escapeExpression;return'\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="'+c((i=null!=(i=n.type||(null!=e?e.type:e))?i:r,typeof i===o?i.call(s,{name:"type",hash:{},data:a}):i))+'" href="javascript:void(0);"><i class="fa fa-lightbulb-o"></i>'+c((i=null!=(i=n.title||(null!=e?e.title:e))?i:r,typeof i===o?i.call(s,{name:"title",hash:{},data:a}):i))+"</a></li>\n"},14:function(t,e,n,l,a){var i,s,r=t.lambda,o=t.escapeExpression;return'\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="mac_address">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip_device:i)?i.macAddress:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input id="mac_address" type="text" name="mac_address" placeholder="'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip_device:i)?i.macAddressPlaceholder:i,e))+'" value="'+o((s=null!=(s=n.mac_address||(null!=e?e.mac_address:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"mac_address",hash:{},data:a}):s))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n'},16:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_username">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.username:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="sip_username" name="sip.username" value="'+r(s(null!=(i=null!=e?e.sip:e)?i.username:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_password">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.password:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="password" id="sip_password" name="sip.password" value="'+r(s(null!=(i=null!=e?e.sip:e)?i.password:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.realm:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<span class="displayed-realm">'+r(s(null!=(i=null!=e?e.sip:e)?i.realm:i,e))+"</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n"},18:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t<div class="tabs-section clearfix" data-section="sip">\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.sip:i)?i.sectionTitle:i,e))+'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label class="control-label" for="sip_username">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.username:i,e))+'</label>\n\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t<input type="text" id="sip_username" name="sip.username" value="'+r(s(null!=(i=null!=e?e.sip:e)?i.username:i,e))+'">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label class="control-label" for="sip_password">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.password:i,e))+'</label>\n\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t<input type="password" id="sip_password" name="sip.password" value="'+r(s(null!=(i=null!=e?e.sip:e)?i.password:i,e))+'">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label class="control-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.realm:i,e))+'</label>\n\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t<span class="displayed-realm">'+r(s(null!=(i=null!=e?e.sip:e)?i.realm:i,e))+"</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n"},20:function(t,e,n,l,a){var i,s,r,o=null!=e?e:{},c=n.helperMissing,u="function",d=t.escapeExpression,p='\t\t\t\t\t\t<div class="control-group restriction-line'+(null!=(i=n.if.call(o,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(21,a,0),inverse:t.noop,data:a}))?i:"")+'" data-restriction="'+d((s=null!=(s=n.key||a&&a.key)?s:c,typeof s===u?s.call(o,{name:"key",hash:{},data:a}):s))+'">\n\t\t\t\t\t\t\t<label class="control-label">'+d(t.lambda(null!=e?e.friendly_name:e,e))+"\n"+(null!=(i=n.if.call(o,null!=e?e.help:e,{name:"if",hash:{},fn:t.program(23,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:c,r={name:"monsterSwitch",hash:{},fn:t.program(25,a,0),inverse:t.noop,data:a},i=typeof s===u?s.call(o,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(p+=i),p+'\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<i class="restriction-matcher-sign fa-lg fa fa-check monster-green"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n'},21:function(t,e,n,l,a){return" disabled"},23:function(t,e,n,l,a){return'\t\t\t\t\t\t\t\t\t<i class="help-popover fa fa-question-circle" data-original-title="'+t.escapeExpression(t.lambda(null!=e?e.help:e,e))+'" data-placement="top" data-toggle="tooltip"></i>\n'},25:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c=t.escapeExpression,u=t.lambda;return'\t\t\t\t\t\t\t\t\t<input class="restrictions-switch" type="checkbox" name="call_restriction.'+c((s=null!=(s=n.key||a&&a.key)?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:a}):s))+'.action" data-on="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.allow,e))+'" data-off="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.deny,e))+'" '+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=e?e.action:e,"===","inherit",{name:"compare",hash:{},fn:t.program(26,a,0),inverse:t.noop,data:a}))?i:"")+(null!=(i=n.if.call(r,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(21,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},26:function(t,e,n,l,a){var i;return null!=(i=n.unless.call(null!=e?e:{},null!=e?e.disabled:e,{name:"unless",hash:{},fn:t.program(27,a,0),inverse:t.noop,data:a}))?i:""},27:function(t,e,n,l,a){return" checked"},29:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"info","disabled-restrictions-info",{name:"monsterText",hash:{},fn:t.program(30,a,0),inverse:t.noop,data:a}))?i:""},30:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t<p>"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.disabledRestrictionsInfo:i,e))+"</p>\n"},32:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="tabs-section clearfix" data-section="callerId">\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.sectionTitle:i,e))+"\n\t\t\t\t\t</div>\n\n"+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.hasE911Numbers:i,{name:"if",hash:{},fn:t.program(33,a,0),inverse:t.program(35,a,0),data:a}))?i:"")+"\t\t\t\t</div>\n"},33:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t\t<label class="control-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.emergency:i,e))+'</label>\n\t\t\t\t\t\t\t<div class="controls emergency-number"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="control-group number-address">\n\t\t\t\t\t\t\t<label class="control-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.address:i,e))+'</label>\n\t\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n'},35:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"error",{name:"monsterText",hash:{},fn:t.program(36,a,0),inverse:t.noop,data:a}))?i:""},36:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.noE911Numbers:i,e))+"\n"},38:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t<input type="checkbox" name="ignore_completed_elsewhere" id="ignore_completed_elsewhere" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.ignore_completed_elsewhere:e,{name:"if",hash:{},fn:t.program(39,a,0),inverse:t.noop,data:a}))?i:"")+"/>\n"},39:function(t,e,n,l,a){return"checked"},41:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t<input type="checkbox" name="extra.notify_unregister" id="notify_unregister" '+(null!=(i=n.unless.call(null!=e?e:{},null!=e?e.suppress_unregister_notifications:e,{name:"unless",hash:{},fn:t.program(39,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},43:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input type="checkbox" id="secure_rtp" name="media.encryption.enforce_security"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=e?e.media:e)?i.encryption:i)?i.enforce_security:i,{name:"if",hash:{},fn:t.program(44,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},44:function(t,e,n,l,a){return' checked="checked"'},46:function(t,e,n,l,a){return" selected"},48:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression,o=null!=e?e:{};return'\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label class="control-label checkbox">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.restart:i)?i.label:i,e))+'</label>\n\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t<button id="restart_device" type="button" class="monster-button monster-button-primary'+(null!=(i=n.unless.call(o,null!=(i=null!=e?e.extra:e)?i.isRegistered:i,{name:"unless",hash:{},fn:t.program(21,a,0),inverse:t.noop,data:a}))?i:"")+'">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.restart:i)?i.button:i,e))+'</button>\n\t\t\t\t\t\t\t<i class="help-popover fa fa-question-circle" data-original-title="'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.restart:i)?i.help:i,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n'+(null!=(i=n.if.call(o,null!=e?e.isProvisionerConfigured:e,{name:"if",hash:{},fn:t.program(49,a,0),inverse:t.noop,data:a}))?i:"")},49:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label class="control-label checkbox">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.unlock:i)?i.label:i,e))+'</label>\n\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t<button id="unlock_device" type="button" class="monster-button-primary">\n\t\t\t\t\t\t\t\t'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.unlock:i)?i.button:i,e))+"\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n"},51:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d="function",p=t.escapeExpression;return'\t\t\t<div class="tabs-section clearfix keys" data-section="'+p((o=null!=(o=n.type||(null!=e?e.type:e))?o:u,typeof o===d?o.call(c,{name:"type",hash:{},data:a}):o))+'">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+(null!=(o=null!=(o=n.title||(null!=e?e.title:e))?o:u,r=typeof o===d?o.call(c,{name:"title",hash:{},data:a}):o)?r:"")+'\n\t\t\t\t</div>\n\t\t\t\t<div class="type-info helper">\n\t\t\t\t\t<a href="javascript:void(0);" data-toggle="collapse" data-target="#info_content_'+p((o=null!=(o=n.type||(null!=e?e.type:e))?o:u,typeof o===d?o.call(c,{name:"type",hash:{},data:a}):o))+'">\n\t\t\t\t\t\t<i class="fa fa-question-circle"></i>\n\t\t\t\t\t\t<span class="text">\n\t\t\t\t\t\t\t'+p(t.lambda((r=(r=(r=(r=(r=(r=(r=a&&a.root)&&r.i18n)&&r.devices)&&r.popupSettings)&&r.keys)&&r.info)&&r.link)&&r.showInfo,e))+'\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<div id="info_content_'+p((o=null!=(o=n.type||(null!=e?e.type:e))?o:u,typeof o===d?o.call(c,{name:"type",hash:{},data:a}):o))+'" class="collapse">\n'+(null!=(r=n.each.call(c,(r=(r=(r=a&&a.root)&&r.extra)&&r.provision)&&r.keyActions,{name:"each",hash:{},fn:t.program(52,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t\t\t</div>\n\t\t\t\t</div>\n"+(null!=(r=n.each.call(c,null!=e?e.data:e,{name:"each",hash:{},fn:t.program(55,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t</div>\n"},52:function(t,e,n,l,a){var i;return null!=(i=n.if.call(null!=e?e:{},null!=e?e.info:e,{name:"if",hash:{},fn:t.program(53,a,0),inverse:t.noop,data:a}))?i:""},53:function(t,e,n,l,a){var i,s=null!=e?e:{},r=n.helperMissing,o="function",c=t.escapeExpression;return"\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t"+c((i=null!=(i=n.text||(null!=e?e.text:e))?i:r,typeof i===o?i.call(s,{name:"text",hash:{},data:a}):i))+"\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t: "+c((i=null!=(i=n.info||(null!=e?e.info:e))?i:r,typeof i===o?i.call(s,{name:"info",hash:{},data:a}):i))+"\n\t\t\t\t\t\t</p>\n"},55:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d="function",p=t.escapeExpression,m=t.lambda;return'\t\t\t\t<div class="control-group" data-id="'+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'">\n\t\t\t\t\t<label for="provision.keys.'+p(m(null!=s[1]?s[1].id:s[1],e))+"["+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'].type" class="control-label">\n\t\t\t\t\t\t'+p(m(null!=s[1]?s[1].label:s[1],e))+' <span class="feature-key-index">'+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<select name="provision.keys.'+p(m(null!=s[1]?s[1].id:s[1],e))+"["+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'].type" class="feature-key-type span2">\n'+(null!=(r=(n.select||e&&e.select||u).call(c,null!=e?e.type:e,{name:"select",hash:{},fn:t.program(56,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<div class="feature-key-value" data-type="presence">\n\t\t\t\t\t\t\t<label for="provision.keys.'+p(m(null!=s[1]?s[1].id:s[1],e))+"["+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'].value">'+p(m((r=(r=(r=(r=(r=(r=a&&a.root)&&r.i18n)&&r.devices)&&r.popupSettings)&&r.keys)&&r.labels)&&r.user,e))+'</label>\n\t\t\t\t\t\t\t<select name="provision.keys.'+p(m(null!=s[1]?s[1].id:s[1],e))+"["+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'].value" class="chosen-feature-key-user">\n'+(null!=(r=n.each.call(c,(r=(r=(r=a&&a.root)&&r.extra)&&r.provision)&&r.users,{name:"each",hash:{},fn:t.program(59,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="feature-key-value" data-type="parking">\n\t\t\t\t\t\t\t<label for="provision.keys.'+p(m(null!=s[1]?s[1].id:s[1],e))+"["+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'].value">'+p(m((r=(r=(r=(r=(r=(r=a&&a.root)&&r.i18n)&&r.devices)&&r.popupSettings)&&r.keys)&&r.labels)&&r.parkingSpot,e))+'</label>\n\t\t\t\t\t\t\t<select class="span1" name="provision.keys.'+p(m(null!=s[1]?s[1].id:s[1],e))+"["+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'].value">\n'+(null!=(r=n.each.call(c,(r=(r=(r=a&&a.root)&&r.extra)&&r.provision)&&r.parkingSpots,{name:"each",hash:{},fn:t.program(61,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="feature-key-value" data-type="personal_parking">\n\t\t\t\t\t\t\t<label for="provision.keys.'+p(m(null!=s[1]?s[1].id:s[1],e))+"["+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'].value">'+p(m((r=(r=(r=(r=(r=(r=a&&a.root)&&r.i18n)&&r.devices)&&r.popupSettings)&&r.keys)&&r.labels)&&r.user,e))+'</label>\n\t\t\t\t\t\t\t<select name="provision.keys.'+p(m(null!=s[1]?s[1].id:s[1],e))+"["+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'].value" class="chosen-feature-key-user">\n'+(null!=(r=n.each.call(c,(r=(r=(r=a&&a.root)&&r.extra)&&r.provision)&&r.users,{name:"each",hash:{},fn:t.program(59,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="feature-key-value" data-type="speed_dial">\n\t\t\t\t\t\t\t<label for="provision.keys.'+p(m(null!=s[1]?s[1].id:s[1],e))+"["+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'].value">'+p(m((r=(r=(r=(r=(r=(r=a&&a.root)&&r.i18n)&&r.devices)&&r.popupSettings)&&r.keys)&&r.labels)&&r.value,e))+'</label>\n\t\t\t\t\t\t\t<input type="text" value="" name="provision.keys.'+p(m(null!=s[1]?s[1].id:s[1],e))+"["+p((o=null!=(o=n.key||a&&a.key)?o:u,typeof o===d?o.call(c,{name:"key",hash:{},data:a}):o))+'].value">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n'},56:function(t,e,n,l,a){var i;return null!=(i=n.each.call(null!=e?e:{},(i=(i=(i=a&&a.root)&&i.extra)&&i.provision)&&i.keyActions,{name:"each",hash:{},fn:t.program(57,a,0),inverse:t.noop,data:a}))?i:""},57:function(t,e,n,l,a){var i,s=null!=e?e:{},r=n.helperMissing,o="function",c=t.escapeExpression;return'\t\t\t\t\t\t\t\t<option value="'+c((i=null!=(i=n.id||(null!=e?e.id:e))?i:r,typeof i===o?i.call(s,{name:"id",hash:{},data:a}):i))+'">'+c((i=null!=(i=n.text||(null!=e?e.text:e))?i:r,typeof i===o?i.call(s,{name:"text",hash:{},data:a}):i))+"</option>\n"},59:function(t,e,n,l,a){var i,s=null!=e?e:{},r=n.helperMissing,o="function",c=t.escapeExpression;return'\t\t\t\t\t\t\t\t<option value="'+c((i=null!=(i=n.id||(null!=e?e.id:e))?i:r,typeof i===o?i.call(s,{name:"id",hash:{},data:a}):i))+'">'+c((i=null!=(i=n.first_name||(null!=e?e.first_name:e))?i:r,typeof i===o?i.call(s,{name:"first_name",hash:{},data:a}):i))+" "+c((i=null!=(i=n.last_name||(null!=e?e.last_name:e))?i:r,typeof i===o?i.call(s,{name:"last_name",hash:{},data:a}):i))+"</option>\n"},61:function(t,e,n,l,a){var i=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t\t\t\t<option value="'+s(i(e,e))+'">'+s(i(e,e))+"</option>\n"},63:function(t,e,n,l,a){var i;return'\t\t\t<a id="delete_device" class="monster-link"><i class="fa fa-trash-o monster-red"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.deleteDevice:i,e))+"</a>\n"},65:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"\n"},67:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.createDevice:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d="function",p=t.escapeExpression,m=t.lambda;return'<div class="edit-device" data-id="'+p((o=null!=(o=n.id||(null!=e?e.id:e))?o:u,typeof o===d?o.call(c,{name:"id",hash:{},data:a}):o))+'">\n\t<div class="title-bar clearfix">\n\t\t<div class="device-title pull-left">\n'+(null!=(r=n.if.call(c,null!=(r=null!=e?e.provision:e)?r.endpoint_brand:r,{name:"if",hash:{},fn:t.program(1,a,0,i,s),inverse:t.program(3,a,0,i,s),data:a}))?r:"")+'\t\t</div>\n\n\t\t<ul class="nav nav-pills pull-right">\n\t\t\t<li class="tabs-main-selector main-section active">\n\t\t\t\t<a class="tabs-selector change-section" data-section="basic" href="javascript:void(0)">'+p(m(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.basicTitle:r,e))+'</a>\n\t\t\t</li>\n\t\t\t<li class="tabs-main-selector main-section dropdown">\n\t\t\t\t<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">'+p(m(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.advancedTitle:r,e))+'\n\t\t\t\t\t<b class="caret"></b>\n\t\t\t\t</a>\n\t\t\t\t<ul class="dropdown-menu pull-right">\n'+(null!=(r=n.if.call(c,null!=e?e.provision:e,{name:"if",hash:{},fn:t.program(8,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="audio" href="javascript:void(0)"><i class="fa fa-music"></i>'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.audio:r)?r.menuTitle:r,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="video" href="javascript:void(0)"><i class="fa fa-video-camera"></i>'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.video:r)?r.menuTitle:r,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="restrictions" href="javascript:void(0)"><i class="fa fa-ban"></i>'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.restrictions:r)?r.menuTitle:r,e))+"</a></li>\n"+(null!=(r=n.if.call(c,null!=e?e.showEmergencyCnam:e,{name:"if",hash:{},fn:t.program(10,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="miscellaneous" href="javascript:void(0)"><i class="fa fa-cogs"></i>'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.miscellaneous:r)?r.menuTitle:r,e))+"</a></li>\n"+(null!=(r=n.each.call(c,null!=(r=null!=(r=null!=e?e.extra:e)?r.provision:r)?r.keys:r,{name:"each",hash:{},fn:t.program(12,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t<div class="content">\n\t\t<form id="form_device" class="form-horizontal">\n\t\t\t<div class="tabs-section active" data-section="basic">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+p(m(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.sip_device:r)?r.deviceName:r,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="name" name="name" value="'+p((o=null!=(o=n.name||(null!=e?e.name:e))?o:u,typeof o===d?o.call(c,{name:"name",hash:{},data:a}):o))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n'+(null!=(r=n.if.call(c,null!=e?e.provision:e,{name:"if",hash:{},fn:t.program(14,a,0,i,s),inverse:t.program(16,a,0,i,s),data:a}))?r:"")+"\t\t\t</div>\n\n"+(null!=(r=n.if.call(c,null!=e?e.provision:e,{name:"if",hash:{},fn:t.program(18,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t<div class="tabs-section clearfix" data-section="audio">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.audio:r)?r.sectionTitle:r,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.dragAndDrop:r,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="items-selector codec-selector clearfix" id="audio_codec_selector"></div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="video">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.video:r)?r.sectionTitle:r,e))+'\n\t\t\t\t</div>\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.dragAndDrop:r,e))+'\n\t\t\t\t</div>\n\t\t\t\t<div class="items-selector codec-selector" id="video_codec_selector"></div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="restrictions">\n\t\t\t\t<div class="restrictions-container">\n\t\t\t\t\t<div class="restriction-matcher-div">\n\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.restrictions:r)?r.matcher:r)?r.help:r,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t\t<input type="text" class="restriction-matcher-input" placeholder="'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.restrictions:r)?r.matcher:r)?r.placeholder:r,e))+'" />\n\t\t\t\t\t\t<button type="button"  class="monster-button monster-button-primary restriction-matcher-button">'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.restrictions:r)?r.matcher:r)?r.button:r,e))+'</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.restrictions:r)?r.sectionTitle:r,e))+'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-list">\n'+(null!=(r=n.each.call(c,null!=(r=null!=e?e.extra:e)?r.restrictions:r,{
name:"each",hash:{},fn:t.program(20,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-message help-box">\n\t\t\t\t\t</div>\n'+(null!=(r=n.if.call(c,null!=(r=null!=e?e.extra:e)?r.hasDisabledRestrictions:r,{name:"if",hash:{},fn:t.program(29,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t\t</div>\n\t\t\t</div>\n\n"+(null!=(r=n.if.call(c,null!=e?e.showEmergencyCnam:e,{name:"if",hash:{},fn:t.program(32,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\n\t\t\t<div class="tabs-section clearfix" data-section="miscellaneous">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.miscellaneous:r)?r.sectionTitle:r,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label checkbox">\n'+(null!=(r=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.miscellaneous:r)?r.ignoreCompletedElsewhere:r)?r.label:r,{name:"monsterCheckbox",hash:{},fn:t.program(38,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.miscellaneous:r)?r.ignoreCompletedElsewhere:r)?r.help:r,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label checkbox">\n'+(null!=(r=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.miscellaneous:r)?r.unregisterNotifications:r)?r.label:r,{name:"monsterCheckbox",hash:{},fn:t.program(41,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.miscellaneous:r)?r.unregisterNotifications:r)?r.help:r,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="rtp-line clearfix">\n\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label class="control-label checkbox">\n'+(null!=(r=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.miscellaneous:r)?r.rtp:r)?r.enable:r,{name:"monsterCheckbox",hash:{},fn:t.program(43,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id="rtp_method">\n\t\t\t\t\t\t<span>'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.miscellaneous:r)?r.rtp:r)?r.type:r,e))+'</span>\n\n\t\t\t\t\t\t<select class="input-small" name="extra.rtpMethod">\n\t\t\t\t\t\t\t<option value="srtp"'+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=(r=null!=e?e.extra:e)?r.rtpMethod:r,"===","srtp",{name:"compare",hash:{},fn:t.program(46,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.miscellaneous:r)?r.rtp:r)?r.srtp:r,e))+'</option>\n\t\t\t\t\t\t\t<option value="zrtp"'+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=(r=null!=e?e.extra:e)?r.rtpMethod:r,"===","zrtp",{name:"compare",hash:{},fn:t.program(46,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.devices:r)?r.popupSettings:r)?r.miscellaneous:r)?r.rtp:r)?r.zrtp:r,e))+"</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n"+(null!=(r=n.if.call(c,null!=e?e.provision:e,{name:"if",hash:{},fn:t.program(48,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t</div>\n\n"+(null!=(r=n.each.call(c,null!=(r=null!=(r=null!=e?e.extra:e)?r.provision:r)?r.keys:r,{name:"each",hash:{},fn:t.program(51,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n'+(null!=(r=n.if.call(c,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(63,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+p(m(null!=(r=null!=e?e.i18n:e)?r.cancel:r,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">\n'+(null!=(r=n.if.call(c,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(65,a,0,i,s),inverse:t.program(67,a,0,i,s),data:a}))?r:"")+"\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["devices-sip_uri"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression((i=null!=(i=n.name||(null!=e?e.name:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"name",hash:{},data:a}):i))+"</div>\n"},3:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip_uri:i)?i.new:i,e))+"</div>\n"},5:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input id="hide_contact_list" type="checkbox" name="contact_list.exclude"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.contact_list:e)?i.exclude:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},6:function(t,e,n,l,a){return' checked="checked"'},8:function(t,e,n,l,a){var i;return'\t\t\t<a id="delete_device" class="monster-link"><i class="fa fa-trash-o monster-red"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.deleteDevice:i,e))+"</a>\n"},10:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"\n"},12:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.createDevice:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'<div class="edit-device" data-id="'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'">\n\t<div class="title-bar clearfix">\n\t\t<div class="device-title pull-left">\n\t\t\t<div class="device-icon">\n\t\t\t\t<i class="icon-telicon-voip-phone"></i>\n\t\t\t</div>\n\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?i:"")+'\t\t</div>\n\n\t\t<ul class="nav nav-pills pull-right">\n\t\t\t<li class="tabs-main-selector main-section active">\n\t\t\t\t<a class="tabs-selector change-section" data-section="basic" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.basicTitle:i,e))+'</a>\n\t\t\t</li>\n\t\t\t<li class="tabs-main-selector main-section dropdown">\n\t\t\t\t<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.advancedTitle:i,e))+'\n\t\t\t\t\t<b class="caret"></b>\n\t\t\t\t</a>\n\t\t\t\t<ul class="dropdown-menu pull-right">\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="options" href="javascript:void(0)"><i class="fa fa-ambulance"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.options:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t<div class="content">\n\t\t<form id="form_device" class="form-horizontal">\n\t\t\t<div class="tabs-section active" data-section="basic">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip_uri:i)?i.deviceName:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="name" name="name" value="'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="number">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip_uri:i)?i.uri:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" name="sip.route" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip_uri:i)?i.uriPlaceholder:i,e))+'" value="'+u(d(null!=(i=null!=e?e.sip:e)?i.route:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section" data-section="options">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="hide_contact_list"></label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<label>\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip_uri:i)?i.hideContactList:i,{name:"monsterCheckbox",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+u(d(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(10,a,0),inverse:t.program(12,a,0),data:a}))?i:"")+"\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["devices-smartphone"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression((i=null!=(i=n.name||(null!=e?e.name:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"name",hash:{},data:a}):i))+"</div>\n"},3:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.smartphone:i)?i.new:i,e))+"</div>\n"},5:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input id="require_keypress" type="checkbox" name="extra.allowVMCellphone"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.allowVMCellphone:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},6:function(t,e,n,l,a){return' checked="checked"'},8:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input id="keep_caller_id" type="checkbox" name="call_forward.keep_caller_id"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.call_forward:e)?i.keep_caller_id:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},10:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input id="hide_contact_list" type="checkbox" name="contact_list.exclude"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.contact_list:e)?i.exclude:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},12:function(t,e,n,l,a){var i,s,r,o=null!=e?e:{},c=n.helperMissing,u="function",d=t.escapeExpression,p='\t\t\t\t\t\t<div class="control-group restriction-line'+(null!=(i=n.if.call(o,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(13,a,0),inverse:t.noop,data:a}))?i:"")+'" data-restriction="'+d((s=null!=(s=n.key||a&&a.key)?s:c,typeof s===u?s.call(o,{name:"key",hash:{},data:a}):s))+'">\n\t\t\t\t\t\t\t<label class="control-label">'+d(t.lambda(null!=e?e.friendly_name:e,e))+"\n"+(null!=(i=n.if.call(o,null!=e?e.help:e,{name:"if",hash:{},fn:t.program(15,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:c,r={name:"monsterSwitch",hash:{},fn:t.program(17,a,0),inverse:t.noop,data:a},i=typeof s===u?s.call(o,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(p+=i),p+'\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<i class="restriction-matcher-sign fa-lg fa fa-check monster-green"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n'},13:function(t,e,n,l,a){return" disabled"},15:function(t,e,n,l,a){return'\t\t\t\t\t\t\t\t\t<i class="help-popover fa fa-question-circle" data-original-title="'+t.escapeExpression(t.lambda(null!=e?e.help:e,e))+'" data-placement="top" data-toggle="tooltip"></i>\n'},17:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c=t.escapeExpression,u=t.lambda;return'\t\t\t\t\t\t\t\t\t<input class="restrictions-switch" type="checkbox" name="call_restriction.'+c((s=null!=(s=n.key||a&&a.key)?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:a}):s))+'.action" data-on="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.allow,e))+'" data-off="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.deny,e))+'" '+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=e?e.action:e,"===","inherit",{name:"compare",hash:{},fn:t.program(18,a,0),inverse:t.noop,data:a}))?i:"")+(null!=(i=n.if.call(r,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(13,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},18:function(t,e,n,l,a){var i;return null!=(i=n.unless.call(null!=e?e:{},null!=e?e.disabled:e,{name:"unless",hash:{},fn:t.program(19,a,0),inverse:t.noop,data:a}))?i:""},19:function(t,e,n,l,a){return" checked"},21:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"info","disabled-restrictions-info",{name:"monsterText",hash:{},fn:t.program(22,a,0),inverse:t.noop,data:a}))?i:""},22:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t<p>"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.disabledRestrictionsInfo:i,e))+"</p>\n"},24:function(t,e,n,l,a){var i;return'\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label class="control-label">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.emergency:i,e))+'</label>\n\t\t\t\t\t\t<div class="controls emergency-number"></div>\n\t\t\t\t\t</div>\n'},26:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"error",{name:"monsterText",hash:{},fn:t.program(27,a,0),inverse:t.noop,data:a}))?i:""},27:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.noE911Numbers:i,e))+"\n"},29:function(t,e,n,l,a){var i;return'\t\t\t<a id="delete_device" class="monster-link"><i class="fa fa-trash-o monster-red"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.deleteDevice:i,e))+"</a>\n"},31:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"\n"},33:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.createDevice:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'<div class="edit-device" data-id="'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'">\n\t<div class="title-bar clearfix">\n\t\t<div class="device-title pull-left">\n\t\t\t<div class="device-icon">\n\t\t\t\t<i class="icon-telicon-mobile-phone"></i>\n\t\t\t</div>\n\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?i:"")+'\t\t</div>\n\n\t\t<ul class="nav nav-pills pull-right">\n\t\t\t<li class="tabs-main-selector main-section active">\n\t\t\t\t<a class="tabs-selector change-section" data-section="basic" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.basicTitle:i,e))+'</a>\n\t\t\t</li>\n\t\t\t<li class="tabs-main-selector main-section dropdown">\n\t\t\t\t<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.advancedTitle:i,e))+'\n\t\t\t\t\t<b class="caret"></b>\n\t\t\t\t</a>\n\t\t\t\t<ul class="dropdown-menu pull-right">\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="options" href="javascript:void(0)"><i class="fa fa-cogs"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.options:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="audio" href="javascript:void(0)"><i class="fa fa-music"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.audio:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="video" href="javascript:void(0)"><i class="fa fa-video-camera"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.video:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="restrictions" href="javascript:void(0)"><i class="fa fa-ban"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="callerId" href="javascript:void(0)"><i class="fa fa-ambulance"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t<div class="content">\n\t\t<form id="form_device" class="form-horizontal">\n\t\t\t<div class="tabs-section active" data-section="basic">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.smartphone:i)?i.deviceName:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="name" name="name" value="'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="number">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.cellphone:i)?i.number:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" name="call_forward.number" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.cellphone:i)?i.numberPlaceholder:i,e))+'" value="'+u(d(null!=(i=null!=e?e.call_forward:e)?i.number:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_username">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.username:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="sip_username" name="sip.username" value="'+u(d(null!=(i=null!=e?e.sip:e)?i.username:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_password">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.password:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="password" id="sip_password" name="sip.password" value="'+u(d(null!=(i=null!=e?e.sip:e)?i.password:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_username">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.realm:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<span class="displayed-realm">'+u(d(null!=(i=null!=e?e.sip:e)?i.realm:i,e))+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section" data-section="options">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="require_keypress"></label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<label>\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.smartphone:i)?i.requireKeypress:i,{name:"monsterCheckbox",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="keep_caller_id"></label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<label>\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.smartphone:i)?i.keepCallerId:i,{name:"monsterCheckbox",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="hide_contact_list"></label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<label>\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.smartphone:i)?i.hideContactList:i,{name:"monsterCheckbox",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="audio">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.audio:i)?i.sectionTitle:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.dragAndDrop:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="items-selector codec-selector" id="audio_codec_selector"></div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="video">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.video:i)?i.sectionTitle:i,e))+'\n\t\t\t\t</div>\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.dragAndDrop:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="items-selector codec-selector" id="video_codec_selector"></div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="restrictions">\n\t\t\t\t<div class="restrictions-container">\n\t\t\t\t\t<div class="restriction-matcher-div">\n\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.help:i,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t\t<input type="text" class="restriction-matcher-input" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.placeholder:i,e))+'" />\n\t\t\t\t\t\t<button type="button"  class="monster-button monster-button-primary restriction-matcher-button">'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.button:i,e))+'</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.sectionTitle:i,e))+'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-list">\n'+(null!=(i=n.each.call(r,null!=(i=null!=e?e.extra:e)?i.restrictions:i,{name:"each",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-message help-box">\n\t\t\t\t\t</div>\n'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.hasDisabledRestrictions:i,{name:"if",hash:{},fn:t.program(21,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="callerId">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.sectionTitle:i,e))+"\n\t\t\t\t</div>\n\n"+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.hasE911Numbers:i,{name:"if",hash:{},fn:t.program(24,a,0),inverse:t.program(26,a,0),data:a}))?i:"")+'\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(29,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+u(d(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t\t<button type="button" class="monster-button monster-button-success save">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(31,a,0),inverse:t.program(33,a,0),data:a}))?i:"")+"\t\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["devices-softphone"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression((i=null!=(i=n.name||(null!=e?e.name:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"name",hash:{},data:a}):i))+"</div>\n"},3:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="device-model">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.softphone:i)?i.new:i,e))+"</div>\n"},5:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="callerId" href="javascript:void(0)"><i class="fa fa-ambulance"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.menuTitle:i,e))+"</a></li>\n"},7:function(t,e,n,l,a){var i,s,r,o=null!=e?e:{},c=n.helperMissing,u="function",d=t.escapeExpression,p='\t\t\t\t\t\t<div class="control-group restriction-line'+(null!=(i=n.if.call(o,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+'" data-restriction="'+d((s=null!=(s=n.key||a&&a.key)?s:c,typeof s===u?s.call(o,{name:"key",hash:{},data:a}):s))+'">\n\t\t\t\t\t\t\t<label class="control-label">'+d(t.lambda(null!=e?e.friendly_name:e,e))+"\n"+(null!=(i=n.if.call(o,null!=e?e.help:e,{name:"if",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:c,r={name:"monsterSwitch",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a},i=typeof s===u?s.call(o,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(p+=i),p+'\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<i class="restriction-matcher-sign fa-lg fa fa-check monster-green"></i>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n'},8:function(t,e,n,l,a){return" disabled"},10:function(t,e,n,l,a){return'\t\t\t\t\t\t\t\t\t<i class="help-popover fa fa-question-circle" data-original-title="'+t.escapeExpression(t.lambda(null!=e?e.help:e,e))+'" data-placement="top" data-toggle="tooltip"></i>\n'},12:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c=t.escapeExpression,u=t.lambda;return'\t\t\t\t\t\t\t\t\t<input class="restrictions-switch" type="checkbox" name="call_restriction.'+c((s=null!=(s=n.key||a&&a.key)?s:o,"function"==typeof s?s.call(r,{name:"key",hash:{},data:a}):s))+'.action" data-on="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.allow,e))+'" data-off="'+c(u((i=(i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.devices)&&i.popupSettings)&&i.restrictions)&&i.deny,e))+'" '+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=e?e.action:e,"===","inherit",{name:"compare",hash:{},fn:t.program(13,a,0),inverse:t.noop,data:a}))?i:"")+(null!=(i=n.if.call(r,null!=e?e.disabled:e,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},13:function(t,e,n,l,a){var i;return null!=(i=n.unless.call(null!=e?e:{},null!=e?e.disabled:e,{name:"unless",hash:{},fn:t.program(14,a,0),inverse:t.noop,data:a}))?i:""},14:function(t,e,n,l,a){return" checked"},16:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"info","disabled-restrictions-info",{name:"monsterText",hash:{},fn:t.program(17,a,0),inverse:t.noop,data:a}))?i:""},17:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t<p>"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.disabledRestrictionsInfo:i,e))+"</p>\n"},19:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="tabs-section clearfix" data-section="callerId">\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.sectionTitle:i,e))+"\n\t\t\t\t\t</div>\n\n"+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.hasE911Numbers:i,{name:"if",hash:{},fn:t.program(20,a,0),inverse:t.program(22,a,0),data:a}))?i:"")+"\t\t\t\t</div>\n"},20:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t\t<label class="control-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.emergency:i,e))+'</label>\n\t\t\t\t\t\t\t<div class="controls emergency-number"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="control-group number-address">\n\t\t\t\t\t\t\t<label class="control-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.address:i,e))+'</label>\n\t\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t\t<p></p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n'},22:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"error",{name:"monsterText",hash:{},fn:t.program(23,a,0),inverse:t.noop,data:a}))?i:""},23:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.callerId:i)?i.noE911Numbers:i,e))+"\n"},25:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t<input type="checkbox" name="ignore_completed_elsewhere" id="ignore_completed_elsewhere" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.ignore_completed_elsewhere:e,{name:"if",hash:{},fn:t.program(26,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},26:function(t,e,n,l,a){return"checked"},28:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t<input type="checkbox" name="extra.notify_unregister" id="notify_unregister" '+(null!=(i=n.unless.call(null!=e?e:{},null!=e?e.suppress_unregister_notifications:e,{name:"unless",hash:{},fn:t.program(26,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},30:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input type="checkbox" id="secure_rtp" name="media.encryption.enforce_security"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=e?e.media:e)?i.encryption:i)?i.enforce_security:i,{name:"if",hash:{},fn:t.program(31,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},31:function(t,e,n,l,a){return' checked="checked"'},33:function(t,e,n,l,a){return" selected"},35:function(t,e,n,l,a){var i;return'\t\t\t<a id="delete_device" class="monster-link"><i class="fa fa-trash-o monster-red"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.deleteDevice:i,e))+"</a>\n";
},37:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"\n"},39:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.createDevice:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'<div class="edit-device" data-id="'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'">\n\t<div class="title-bar clearfix">\n\t\t<div class="device-title pull-left">\n\t\t\t<div class="device-icon">\n\t\t\t\t<i class="icon-telicon-soft-phone"></i>\n\t\t\t</div>\n\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?i:"")+'\t\t</div>\n\n\t\t<ul class="nav nav-pills pull-right">\n\t\t\t<li class="tabs-main-selector main-section active">\n\t\t\t\t<a class="tabs-selector change-section" data-section="basic" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.basicTitle:i,e))+'</a>\n\t\t\t</li>\n\t\t\t<li class="tabs-main-selector main-section dropdown">\n\t\t\t\t<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.advancedTitle:i,e))+'\n\t\t\t\t\t<b class="caret"></b>\n\t\t\t\t</a>\n\t\t\t\t<ul class="dropdown-menu pull-right">\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="audio" href="javascript:void(0)"><i class="fa fa-music"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.audio:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="video" href="javascript:void(0)"><i class="fa fa-video-camera"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.video:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="restrictions" href="javascript:void(0)"><i class="fa fa-ban"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.menuTitle:i,e))+"</a></li>\n"+(null!=(i=n.if.call(r,null!=e?e.showEmergencyCnam:e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="miscellaneous" href="javascript:void(0)"><i class="fa fa-cogs"></i>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.menuTitle:i,e))+'</a></li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t<div class="content">\n\t\t<form id="form_device" class="form-horizontal">\n\t\t\t<div class="tabs-section active" data-section="basic">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.softphone:i)?i.deviceName:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="name" name="name" value="'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_username">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.username:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="sip_username" name="sip.username" value="'+u(d(null!=(i=null!=e?e.sip:e)?i.username:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_password">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.password:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="password" id="sip_password" name="sip.password" value="'+u(d(null!=(i=null!=e?e.sip:e)?i.password:i,e))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="sip_username">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.sip:i)?i.realm:i,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<span class="displayed-realm">'+u(d(null!=(i=null!=e?e.sip:e)?i.realm:i,e))+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="audio">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.audio:i)?i.sectionTitle:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.dragAndDrop:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="items-selector codec-selector clearfix" id="audio_codec_selector">\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="video">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.video:i)?i.sectionTitle:i,e))+'\n\t\t\t\t</div>\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.dragAndDrop:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="items-selector codec-selector" id="video_codec_selector">\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section clearfix" data-section="restrictions">\n\t\t\t\t<div class="restrictions-container">\n\t\t\t\t\t<div class="restriction-matcher-div">\n\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.help:i,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t\t<input type="text" class="restriction-matcher-input" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.placeholder:i,e))+'" />\n\t\t\t\t\t\t<button type="button"  class="monster-button monster-button-primary restriction-matcher-button">'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.matcher:i)?i.button:i,e))+'</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.restrictions:i)?i.sectionTitle:i,e))+'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-list">\n'+(null!=(i=n.each.call(r,null!=(i=null!=e?e.extra:e)?i.restrictions:i,{name:"each",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</div>\n\t\t\t\t\t<div class="restriction-message help-box">\n\t\t\t\t\t</div>\n'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.hasDisabledRestrictions:i,{name:"if",hash:{},fn:t.program(16,a,0),inverse:t.noop,data:a}))?i:"")+"\t\t\t\t</div>\n\t\t\t</div>\n\n"+(null!=(i=n.if.call(r,null!=e?e.showEmergencyCnam:e,{name:"if",hash:{},fn:t.program(19,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t\t<div class="tabs-section clearfix" data-section="miscellaneous">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.sectionTitle:i,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label checkbox">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.ignoreCompletedElsewhere:i)?i.label:i,{name:"monsterCheckbox",hash:{},fn:t.program(25,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.ignoreCompletedElsewhere:i)?i.help:i,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label checkbox">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.unregisterNotifications:i)?i.label:i,{name:"monsterCheckbox",hash:{},fn:t.program(28,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.unregisterNotifications:i)?i.help:i,e))+'" data-placement="top" data-toggle="tooltip"></i>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="rtp-line">\n\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t<label class="control-label checkbox">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.rtp:i)?i.enable:i,{name:"monsterCheckbox",hash:{},fn:t.program(30,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div id="rtp_method">\n\t\t\t\t\t\t<span>'+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.rtp:i)?i.type:i,e))+'</span>\n\n\t\t\t\t\t\t<select class="input-small" name="extra.rtpMethod">\n\t\t\t\t\t\t\t<option value="srtp"'+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.extra:e)?i.rtpMethod:i,"===","srtp",{name:"compare",hash:{},fn:t.program(33,a,0),inverse:t.noop,data:a}))?i:"")+">"+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.rtp:i)?i.srtp:i,e))+'</option>\n\t\t\t\t\t\t\t<option value="zrtp"'+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.extra:e)?i.rtpMethod:i,"===","zrtp",{name:"compare",hash:{},fn:t.program(33,a,0),inverse:t.noop,data:a}))?i:"")+">"+u(d(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.popupSettings:i)?i.miscellaneous:i)?i.rtp:i)?i.zrtp:i,e))+'</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(35,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+u(d(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t\t<button type="button" class="monster-button monster-button-success save">\n'+(null!=(i=n.if.call(r,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(37,a,0),inverse:t.program(39,a,0),data:a}))?i:"")+"\t\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["featureCodes-layout"]=Handlebars.template({1:function(t,e,n,l,a){var i,s,r=null!=e?e:{};return'\t\t\t<div class="feature-codes-category">\n\t\t\t\t<div class="category-header">'+t.escapeExpression((s=null!=(s=n.category||(null!=e?e.category:e))?s:n.helperMissing,"function"==typeof s?s.call(r,{name:"category",hash:{},data:a}):s))+'</div>\n\t\t\t\t<div class="category-content">\n'+(null!=(i=n.each.call(r,null!=e?e.codes:e,{name:"each",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"\t\t\t\t</div>\n\t\t\t</div>\n"},2:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression;return'\t\t\t\t\t<div class="feature-code-line">\n\t\t\t\t\t\t<div class="feature-code-label">\n\t\t\t\t\t\t\t'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="feature-code">\n\t\t\t\t\t\t\t<div class="code-prefix">'+(null!=(i=n.if.call(r,null!=e?e.hasStar:e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'</div>\n\t\t\t\t\t\t\t<div class="code-number">'+u((s=null!=(s=n.number||(null!=e?e.number:e))?s:o,typeof s===c?s.call(r,{name:"number",hash:{},data:a}):s))+"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n"},3:function(t,e,n,l,a){return"*"},5:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t<div class="no-feature-codes">\n\t\t\t<div class="message">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.featureCodes:i)?i.noFeatureCodeMessage:i,e))+'</div>\n\t\t\t<a class="main-number-link">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.featureCodes:i)?i.mainNumberLink:i,e))+"</a>\n\t\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i;return'<div id="feature_codes_container">\n\t<div class="feature-codes-header">\n\t\t'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.featureCodes:i)?i.title:i,e))+'\n\t</div>\n\t<div class="feature-codes-content">\n'+(null!=(i=n.each.call(null!=e?e:{},null!=e?e.featureCodes:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.program(5,a,0),data:a}))?i:"")+"\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["groups-creation"]=Handlebars.template({1:function(t,e,n,l,a){var i=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t<li class="item-selector" data-user_id="'+s(i(null!=e?e.id:e,e))+'"><div class="item-handle"></div>'+s(i(null!=e?e.first_name:e,e))+" "+s(i(null!=e?e.last_name:e,e))+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'<div id="creation_group_dialog">\n\t<form id="form_group_creation">\n\t\t<div class="one-line-form clearfix">\n\t\t\t<label class="control-label" for="inputName">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.dialogCreationGroup:i)?i.name:i,e))+'</label>\n\t\t\t<div><input required type="text" id="inputName" name="name" class="input-medium"></input></div>\n\n\t\t\t<label class="control-label" for="inputExtension">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.dialogCreationGroup:i)?i.extension:i,e))+'</label>\n\t\t\t<div><input required type="text" id="inputExtension" name="extra.extension" class="input-small"></input></div>\n\t\t</div>\n\t</form>\n\n\t<div class="items-selector clearfix" id="group_user_selector">\n\t\t<div class="box-selector">\n\t\t\t<div class="box-title">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.dialogCreationGroup:i)?i.availableUsers:i,e))+'</div>\n\t\t\t<ul class="available-users box-content connectedSortable">\n'+(null!=(i=n.each.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.listUsers:i,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t</ul>\n\t\t</div>\n\n\t\t<div class="box-selector">\n\t\t\t<div class="box-title">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.dialogCreationGroup:i)?i.selectedUsers:i,e))+'</div>\n\t\t\t<ul class="selected-users box-content connectedSortable">\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\n\t<div class="dialog-buttons-wrapper">\n\t\t<button id="create_group" class="monster-button monster-button-success">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.dialogCreationGroup:i)?i.createGroup:i,e))+"</button>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["groups-extensions"]=Handlebars.template({1:function(t,e,n,l,a){return" visible"},3:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t<div class="item-row" data-id="'+r(s(e,e))+'" data-search="'+r(s(e,e))+'">\n\t\t\t\t\t<div class="number">\n\t\t\t\t\t\t<button type="button" class="monster-button monster-button-danger remove-extension">'+r(s((i=(i=a&&a.root)&&i.i18n)&&i.unassign,e))+"</button>\n\t\t\t\t\t\t"+r(s(e,e))+"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=null!=e?e:{},r=t.lambda,o=t.escapeExpression;return'<div class="detail-group extensions">\n\t<div class="list-wrapper">\n\t\t<div class="list-assigned-items number-list">\n\t\t\t<div class="empty-row'+(null!=(i=n.if.call(s,null!=e?e.emptyExtensions:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.noAssignedExtensions:i,e))+"\n\t\t\t</div>\n"+(null!=(i=n.each.call(s,null!=e?e.extensions:e,{name:"each",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t</div>\n\t</div>\n\n\t<div class="actions">\n\t\t<a id="add_extensions" class="monster-link" href="javascript:void(0);"><i class="fa fa-plus monster-green"></i>'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.addExtension:i,e))+'</a>\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+o(r(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save-extensions">'+o(r(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["groups-feature-call_recording"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.group:e)?i.extra:i)?i.mapFeatures:i)?i.call_recording:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},6:function(t,e,n,l,a){return'\t\t\t\t\t\t<option value="mp3">mp3</option>\n\t\t\t\t\t\t<option value="wav">wav</option>\n'},8:function(t,e,n,l,a){var i;return t.escapeExpression((i=null!=(i=n.timeLimit||(null!=e?e.timeLimit:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"timeLimit",hash:{},data:a}):i))},10:function(t,e,n,l,a){return"600"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d=n.helperMissing,p="function",m='<div class="monster-feature-popup-container" data-feature="call_recording">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.group:e)?i.extra:i)?i.mapFeatures:i)?i.call_recording:i)?i.icon:i,e))+'"></i>\n\t\t</div>\n\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.callRecording:i)?i.headline:i,e))+'\n\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:d,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(m+=i),m+'\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(i=n.unless.call(u,null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.group:e)?i.extra:i)?i.mapFeatures:i)?i.call_recording:i)?i.active:i,{name:"unless",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t<form id="call_recording_form">\n\t\t\t<div>\n\t\t\t\t<span>'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.callRecording:i)?i.urlLabel:i,e))+'</span>\n\t\t\t\t<input required name="url" type="url" placeholder="'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.callRecording:i)?i.urlPlaceholder:i,e))+'" value="'+c((s=null!=(s=n.url||(null!=e?e.url:e))?s:d,typeof s===p?s.call(u,{name:"url",hash:{},data:a}):s))+'">\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span>'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.callRecording:i)?i.formatLabel:i,e))+'</span>\n\t\t\t\t<select name="format" class="input-medium">\n'+(null!=(i=(n.select||e&&e.select||d).call(u,null!=e?e.format:e,{name:"select",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span>"+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.callRecording:i)?i.timeLimitLabel:i,e))+'</span>\n\t\t\t\t<input required name="time_limit" type="text" class="input-small" value="'+(null!=(i=n.if.call(u,null!=e?e.timeLimit:e,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.program(10,a,0),data:a}))?i:"")+'">\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+c(o(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["groups-feature-forward"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.group:e)?i.extra:i)?i.mapFeatures:i)?i.forward:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){var i;return"\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.forward:i)?i.description:i,e))+"\n"},6:function(t,e,n,l,a){return" disabled"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d=n.helperMissing,p="function",m=n.blockHelperMissing,f='<div class="monster-feature-popup-container" data-feature="forward">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.group:e)?i.extra:i)?i.mapFeatures:i)?i.forward:i)?i.icon:i,e))+'"></i>\n\t\t</div>\n\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.forward:i)?i.headline:i,e))+'\n\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:d,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterSwitch||(i=m.call(e,i,r)),null!=i&&(f+=i),f+="\t\t</div>\n\t</div>\n\n",s=null!=(s=n.monsterText||(null!=e?e.monsterText:e))?s:d,r={name:"monsterText",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterText||(i=m.call(e,i,r)),null!=i&&(f+=i),f+'\n\t<!-- <div class="content'+(null!=(i=n.unless.call(u,null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.group:e)?i.extra:i)?i.mapFeatures:i)?i.forward:i)?i.active:i,{name:"unless",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+'"></div> -->\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+c(o(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates.voip["groups-feature-next_action"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.group:e)?i.extra:i)?i.mapFeatures:i)?i.next_action:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},6:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t<option value="'+r(s(null!=(i=null!=e?e.mainMenu:e)?i.id:i,e))+'" data-module="callflow" '+(null!=(i=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=e?e.selectedEntity:e,"===",null!=(i=null!=e?e.mainMenu:e)?i.id:i,{name:"compare",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+">"+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.nextAction:i)?i.mainMenu:i,e))+"</option>\n"},7:function(t,e,n,l,a){return"selected"},9:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d="function",p=t.escapeExpression;return'\t\t\t\t\t<option value="'+p((o=null!=(o=n.id||(null!=e?e.id:e))?o:u,typeof o===d?o.call(c,{name:"id",hash:{},data:a}):o))+'" data-module="voicemail" '+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=s[1]?s[1].selectedEntity:s[1],"===",null!=e?e.id:e,{name:"compare",hash:{},fn:t.program(7,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+p((o=null!=(o=n.name||(null!=e?e.name:e))?o:u,typeof o===d?o.call(c,{name:"name",hash:{},data:a}):o))+"</option>\n"},11:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d="function",p=t.escapeExpression;return'\t\t\t\t\t<option value="'+p((o=null!=(o=n.id||(null!=e?e.id:e))?o:u,typeof o===d?o.call(c,{name:"id",hash:{},data:a}):o))+'" data-module="callflow" '+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=s[1]?s[1].selectedEntity:s[1],"===",null!=e?e.id:e,{name:"compare",hash:{},fn:t.program(7,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+p((o=null!=(o=n.userName||(null!=e?e.userName:e))?o:u,typeof o===d?o.call(c,{name:"userName",hash:{},data:a}):o))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o,c,u=t.lambda,d=t.escapeExpression,p=null!=e?e:{},m='<div class="monster-feature-popup-container" data-feature="next_action">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+d(u(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.group:e)?r.extra:r)?r.mapFeatures:r)?r.next_action:r)?r.icon:r,e))+'"></i>\n\t\t</div>\n\t\t'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.groups:r)?r.nextAction:r)?r.headline:r,e))+'\n\t\t<div class="switch">\n';return o=null!=(o=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?o:n.helperMissing,c={name:"monsterSwitch",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a},r="function"==typeof o?o.call(p,c):o,n.monsterSwitch||(r=n.blockHelperMissing.call(e,r,c)),null!=r&&(m+=r),m+'\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(r=n.unless.call(p,null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.group:e)?r.extra:r)?r.mapFeatures:r)?r.next_action:r)?r.active:r,{name:"unless",hash:{},fn:t.program(4,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">\n\n\t\t<div class="next-action">\n\t\t\t<span>'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.groups:r)?r.nextAction:r)?r.label:r,e))+'</span>\n\t\t\t<select class="next-action-select">\n\t\t\t\t<optgroup label="'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.groups:r)?r.nextAction:r)?r.menu:r,e))+'">\n'+(null!=(r=n.if.call(p,null!=e?e.mainMenu:e,{name:"if",hash:{},fn:t.program(6,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t</optgroup>\n\t\t\t\t<optgroup label="'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.groups:r)?r.nextAction:r)?r.voicemails:r,e))+'">\n'+(null!=(r=n.each.call(p,null!=e?e.voicemails:e,{name:"each",hash:{},fn:t.program(9,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t</optgroup>\n\t\t\t\t<optgroup label="'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.groups:r)?r.nextAction:r)?r.users:r,e))+'">\n'+(null!=(r=n.each.call(p,null!=e?e.userCallflows:e,{name:"each",hash:{},fn:t.program(11,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t</optgroup>\n\t\t\t</select>\n\t\t</div>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+d(u(null!=(r=null!=e?e.i18n:e)?r.cancel:r,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+d(u(null!=(r=null!=e?e.i18n:e)?r.saveChanges:r,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["groups-feature-prepend"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.group:e)?i.extra:i)?i.mapFeatures:i)?i.prepend:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d=n.helperMissing,p="function",m='<div class="monster-feature-popup-container" data-feature="prepend">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.group:e)?i.extra:i)?i.mapFeatures:i)?i.prepend:i)?i.icon:i,e))+'"></i>\n\t\t</div>\n\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.prepend:i)?i.headline:i,e))+'\n\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:d,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(m+=i),m+'\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(i=n.unless.call(u,null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.group:e)?i.extra:i)?i.mapFeatures:i)?i.prepend:i)?i.active:i,{name:"unless",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t<form id="prepend_form">\n\t\t\t<div>\n\t\t\t\t<span>'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.prepend:i)?i.cidNameLabel:i,e))+'</span>\n\t\t\t\t<input required name="caller_id_name_prefix" type="text" value="'+c((s=null!=(s=n.caller_id_name_prefix||(null!=e?e.caller_id_name_prefix:e))?s:d,typeof s===p?s.call(u,{name:"caller_id_name_prefix",hash:{},data:a}):s))+'">\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span>'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.prepend:i)?i.cidNumberLabel:i,e))+'</span>\n\t\t\t\t<input required name="caller_id_number_prefix" type="text" value="'+c((s=null!=(s=n.caller_id_number_prefix||(null!=e?e.caller_id_number_prefix:e))?s:d,typeof s===p?s.call(u,{name:"caller_id_number_prefix",hash:{},data:a}):s))+'">\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+c(o(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates.voip["groups-feature-ringback"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.group:e)?i.extra:i)?i.mapFeatures:i)?i.ringback:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},6:function(t,e,n,l,a){return"selected";
},8:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression;return'\t\t\t\t\t<option value="'+c(o(null!=e?e.id:e,e))+'" '+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=s[1]?s[1].media:s[1],"===",null!=e?e.id:e,{name:"compare",hash:{},fn:t.program(6,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+c(o(null!=e?e.name:e,e))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o,c,u=t.lambda,d=t.escapeExpression,p=null!=e?e:{},m=n.helperMissing,f="function",v='<div class="monster-feature-popup-container" data-feature="ringback">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+d(u(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.group:e)?r.extra:r)?r.mapFeatures:r)?r.ringback:r)?r.icon:r,e))+'"></i>\n\t\t</div>\n\t\t'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.groups:r)?r.ringback:r)?r.headline:r,e))+'\n\t\t<div class="switch">\n';return o=null!=(o=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?o:m,c={name:"monsterSwitch",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a},r=typeof o===f?o.call(p,c):o,n.monsterSwitch||(r=n.blockHelperMissing.call(e,r,c)),null!=r&&(v+=r),v+'\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(r=n.unless.call(p,null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.group:e)?r.extra:r)?r.mapFeatures:r)?r.ringback:r)?r.active:r,{name:"unless",hash:{},fn:t.program(4,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">\n\t\t<div>\n\t\t\t<span>'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.groups:r)?r.ringback:r)?r.dropdownLabel:r,e))+'</span>\n\t\t\t<select name="format" class="media-dropdown">\n\t\t\t\t<option value="'+d((o=null!=(o=n.silenceMedia||(null!=e?e.silenceMedia:e))?o:m,typeof o===f?o.call(p,{name:"silenceMedia",hash:{},data:a}):o))+'" '+(null!=(r=(n.compare||e&&e.compare||m).call(p,null!=e?e.media:e,"===",null!=e?e.silenceMedia:e,{name:"compare",hash:{},fn:t.program(6,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.groups:r)?r.ringback:r)?r.silence:r,e))+"</option>\n"+(null!=(r=n.each.call(p,null!=e?e.mediaList:e,{name:"each",hash:{},fn:t.program(8,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t</select>\n\t\t\t<button type="button" class="monster-button monster-button-primary non-fixed upload-toggle" data-toggle="button">\n\t\t\t\t'+d(u(null!=(r=null!=e?e.i18n:e)?r.upload:r,e))+'\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="upload-div">\n\t\t\t<input type="file" class="upload-input" accept="audio/*">\n\t\t\t<button type="button" class="monster-button monster-button-success non-fixed upload-action upload-submit"><i class="fa fa-upload"></i></button>\n\t\t\t<button type="button" class="monster-button monster-button-danger non-fixed upload-action upload-cancel"><i class="fa fa-times"></i></button>\n\t\t</div>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+d(u(null!=(r=null!=e?e.i18n:e)?r.cancel:r,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+d(u(null!=(r=null!=e?e.i18n:e)?r.saveChanges:r,e))+"</button>\n\t\t</div>\n\t</div>\n</div>"},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["groups-features"]=Handlebars.template({1:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression;return'\t\t\t<div data-feature="'+u((s=null!=(s=n.key||a&&a.key)?s:o,typeof s===c?s.call(r,{name:"key",hash:{},data:a}):s))+'" class="feature">\n\t\t\t\t<div class="fa fa-wrapper'+(null!=(i=n.if.call(r,null!=e?e.active:e,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t\t<i class="'+u((s=null!=(s=n.icon||(null!=e?e.icon:e))?s:o,typeof s===c?s.call(r,{name:"icon",hash:{},data:a}):s))+'"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class="feature-title">\n\t\t\t\t\t'+u((s=null!=(s=n.title||(null!=e?e.title:e))?s:o,typeof s===c?s.call(r,{name:"title",hash:{},data:a}):s))+"\n\t\t\t\t</div>\n\t\t\t</div>\n"},2:function(t,e,n,l,a){return" active"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i;return'<div class="detail-features">\n\t<div class="features-grid">\n'+(null!=(i=n.each.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.mapFeatures:i,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+"\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["groups-layout"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=t.lambda,o=t.escapeExpression;return'<div id="groups_container">\n\t<div class="groups-header">\n\t\t<div class="title">\n\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.title:i,e))+'\n\t\t\t<span class="count-groups">'+o((s=null!=(s=n.countGroups||(null!=e?e.countGroups:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"countGroups",hash:{},data:a}):s))+'</span>\n\t\t</div>\n\n\t\t<a class="monster-link add-group">\n\t\t\t<i class="icon-telicon-add-user"></i>\n\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.add:i,e))+'\n\t\t</a>\n\n\t\t<span class="search-box pull-right">\n\t\t\t<i class="fa fa-search"></i>\n\t\t\t<input type="text" class="search-query" placeholder="'+o(r(null!=(i=null!=e?e.i18n:e)?i.search:i,e))+'..."></input>\n\t\t</span>\n\t</div>\n\n\t<div class="groups-grid">\n\t\t<div class="grid-row title">\n\t\t\t<div class="grid-cell name">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.titleGrid:i)?i.groups:i,e))+'</div>\n\t\t\t<div class="grid-cell members">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.titleGrid:i)?i.members:i,e))+'</div>\n\t\t\t<div class="grid-cell extension">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.titleGrid:i)?i.extensions:i,e))+'</div>\n\t\t\t<div class="grid-cell phone-number">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.titleGrid:i)?i.phoneNumbers:i,e))+'</div>\n\t\t\t<div class="grid-cell features">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.titleGrid:i)?i.features:i,e))+'</div>\n\t\t</div>\n\t\t<div class="groups-rows">\n\t\t\t<div class="empty-search-row">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.noMatchingGroup:i,e))+'\n\t\t\t</div>\n\t\t\t<div class="no-groups-row">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.noGroupsConfigured:i,e))+"\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["groups-members"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'<div class="detail-group">\n\t<div id="form-'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'" class="groups-fields row-fluid" data-id="'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'">\n\t<div class="members-container">\n\t</div>\n\t<div class="actions">\n\t\t<a href="javascript:void(0);" class="pull-left monster-link add-user-link">\n\t\t\t<i class="fa fa-plus-circle monster-green"></i>\n\t\t\t'+u(d(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.add:i,e))+'\n\t\t</a>\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+u(d(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save-groups">'+u(d(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["groups-name"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=t.lambda,o=t.escapeExpression;return'<div class="detail-group">\n\t<form id="form-name" class="form-horizontal">\n\t\t<div class="control-group">\n\t\t\t<label class="control-label" for="inputName">'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.name:i,e))+'</label>\n\t\t\t<div class="controls">\n\t\t\t\t<input required type="text" name="name" id="inputName" placeholder="" value="'+o((s=null!=(s=n.name||(null!=e?e.name:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"name",hash:{},data:a}):s))+'"></input>\n\t\t\t</div>\n\t\t</div>\n\t</form>\n\t<div class="actions">\n\t\t<a class="delete-group monster-link" href="javascript:void(0);"><i class="fa fa-trash-o monster-red"></i>'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.delete:i,e))+'</a>\n\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+o(r(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save-group">'+o(r(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["groups-newExtension"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=t.escapeExpression;return'<div class="item-row larger">\n    <div class="number">\n\t\t'+r(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.addNewExtension:i,e))+'\n\t\t<input type="text" class="input-extension" value="'+r((s=null!=(s=n.recommendedExtension||(null!=e?e.recommendedExtension:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"recommendedExtension",hash:{},data:a}):s))+'"></input>\n\t\t<a class="cancel-extension-link monster-link"><i class="monster-red fa fa-times"></i></a>\n    </div>\n</div>\n'},useData:!0}),this.monster.cache.templates.voip["groups-numbers"]=Handlebars.template({1:function(t,e,n,l,a){return" visible"},3:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'\t\t\t\t<div class="item-row" data-id="'+u((s=null!=(s=n.key||a&&a.key)?s:o,typeof s===c?s.call(r,{name:"key",hash:{},data:a}):s))+'" data-search="'+u((n.formatPhoneNumber||e&&e.formatPhoneNumber||o).call(r,a&&a.key,{name:"formatPhoneNumber",hash:{},data:a}))+" "+u((s=null!=(s=n.key||a&&a.key)?s:o,typeof s===c?s.call(r,{name:"key",hash:{},data:a}):s))+" "+u(d(null!=(i=null!=e?e.locality:e)?i.city:i,e))+" "+u(d(null!=(i=null!=e?e.locality:e)?i.country:i,e))+'">\n\t\t\t\t\t<div class="features-block pull-right">\n\t\t\t\t\t\t<div class="edit-features"></div>\n\t\t\t\t\t\t<div class="features">\n\t\t\t\t\t\t\t'+(null!=(i=(n.numberFeatures||e&&e.numberFeatures||o).call(r,null!=e?e.features:e,{name:"numberFeatures",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+"\n"+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=e?e.state:e,"===","port_in",{name:"compare",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="number">\n\t\t\t\t\t\t<button type="button" class="monster-button monster-button-danger remove-number">'+u(d((i=(i=a&&a.root)&&i.i18n)&&i.unassign,e))+"</button>\n\t\t\t\t\t\t"+u((n.formatPhoneNumber||e&&e.formatPhoneNumber||o).call(r,a&&a.key,{name:"formatPhoneNumber",hash:{},data:a}))+'\n\t\t\t\t\t</div>\n\t\t\t\t\t<!--<div class="locality">\n'+(null!=(i=n.if.call(r,null!=e?e.localityEnabled:e,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.program(10,a,0),data:a}))?i:"")+"\t\t\t\t\t</div>\n\t\t\t\t\t-->\n\t\t\t\t</div>\n"},4:function(t,e,n,l,a){return""},6:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<i class="fa fa-exclamation-triangle monster-red active help-popover" data-toggle="tooltip" data-placement="top" data-original-title="'+t.escapeExpression(t.lambda((i=(i=a&&a.root)&&i.i18n)&&i.portIconHelp,e))+'"></i>\n'},8:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t\t\t<span class="flag"><img src="css/assets/flags/32/'+r(s(null!=(i=null!=e?e.locality:e)?i.iso:i,e))+'.png" height="32" width="32"></img></span>\n\t\t\t\t\t\t\t<span class="city">'+r(s(null!=(i=null!=e?e.locality:e)?i.city:i,e))+", "+r(s(null!=(i=null!=e?e.locality:e)?i.country:i,e))+"</span>\n"},10:function(t,e,n,l,a){return"\t\t\t\t\t\t\tN/A\n"},12:function(t,e,n,l,a){return"\n"},14:function(t,e,n,l,a){return" disabled"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=null!=e?e:{},r=t.lambda,o=t.escapeExpression;return'<div class="detail-numbers">\n\t<div class="list-wrapper">\n\t\t<div class="list-assigned-items number-list">\n\t\t\t<div class="empty-row'+(null!=(i=n.if.call(s,null!=e?e.emptyAssigned:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.noAssignedNumbers:i,e))+"\n\t\t\t</div>\n"+(null!=(i=n.each.call(s,null!=e?e.assignedNumbers:e,{name:"each",hash:{},fn:t.program(3,a,0),inverse:t.program(12,a,0),data:a}))?i:"")+'\t\t</div>\n\t</div>\n\n\t<div class="actions">\n\t\t<a href="#" class="spare-link monster-link pull-left'+(null!=(i=n.if.call(s,null!=e?e.emptySpare:e,{name:"if",hash:{},fn:t.program(14,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t<i class="fa fa-plus monster-green fa-lg"></i>'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.addFromSpare:i,e))+'\n\t\t</a>\n\t\t<ul class="nav pull-left">\n\t\t\t<li class="dropdown">\n\t\t\t\t<a href="#" class="dropdown-toggle buy-dropdown monster-link" data-toggle="dropdown" data-target="#"><i class="fa fa-shopping-cart monster-green fa-lg"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.link:i,e))+'</a>\n\t\t\t\t<ul class="dropdown-menu" role="menu">\n\t\t\t\t\t<li><a class="buy-link" data-type="regular" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.regular:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="buy-link" data-type="tollfree" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.tollfree:i,e))+'</a></li>\n\t\t\t\t\t<!-- <li><a class="buy-link" data-type="vanity" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.vanity:i,e))+'</a></li> -->\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+o(r(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save-numbers">'+o(r(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["groups-numbersItemRow"]=Handlebars.template({1:function(t,e,n,l,a){return""},3:function(t,e,n,l,a){var i;return'\t\t\t\t<i class="fa fa-exclamation-triangle monster-red active help-popover" data-toggle="tooltip" data-placement="top" data-original-title="'+t.escapeExpression(t.lambda((i=(i=a&&a.root)&&i.i18n)&&i.portIconHelp,e))+'"></i>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression,o=null!=e?e:{},c=n.helperMissing;return'<div class="item-row" data-id="'+r(s(null!=(i=null!=e?e.number:e)?i.phoneNumber:i,e))+'">\n\t<div class="features-block pull-right">\n\t\t<div class="edit-features"></div>\n\n\t\t<div class="features">\n\t\t\t'+(null!=(i=(n.numberFeatures||e&&e.numberFeatures||c).call(o,null!=(i=null!=e?e.number:e)?i.features:i,{name:"numberFeatures",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+"\n"+(null!=(i=(n.compare||e&&e.compare||c).call(o,null!=(i=null!=e?e.number:e)?i.state:i,"===","port_in",{name:"compare",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t</div>\n\t</div>\n\t<div class="number">\n\t\t<button type="button" class="monster-button monster-button-danger remove-number">'+r(s(null!=(i=null!=e?e.i18n:e)?i.unassign:i,e))+"</button>\n\t\t"+r((n.formatPhoneNumber||e&&e.formatPhoneNumber||c).call(o,null!=(i=null!=e?e.number:e)?i.phoneNumber:i,{name:"formatPhoneNumber",hash:{},data:a}))+"\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["groups-row"]=Handlebars.template({1:function(t,e,n,l,a){var i=t.escapeExpression;return i(t.lambda(e,e))+" "+i((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},e,{name:"formatPhoneNumber",hash:{},data:a}))+" "},3:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.extra:e)?i.extension:i,e))+"\n\n"+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.additionalExtensions:i,{name:"if",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")},4:function(t,e,n,l,a){return'\t\t\t\t\t\t<i class="icon-telicon-multiple-items"></i>\n'},6:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.noExtension:i,e))+"\n"},8:function(t,e,n,l,a){var i,s=null!=e?e:{};return"\t\t\t\t"+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(s,null!=(i=null!=e?e.extra:e)?i.mainNumber:i,{name:"formatPhoneNumber",hash:{},data:a}))+"\n\n"+(null!=(i=n.if.call(s,null!=(i=null!=e?e.extra:e)?i.additionalNumbers:i,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a}))?i:"")},9:function(t,e,n,l,a){return'\t\t\t\t\t<i class="icon-telicon-multiple-items"></i>\n'},11:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.groups:i)?i.noNumber:i,e))+"\n"},13:function(t,e,n,l,a){var i;return null!=(i=n.each.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.mapFeatures:i,{name:"each",hash:{},fn:t.program(14,a,0),inverse:t.noop,data:a}))?i:""},14:function(t,e,n,l,a){var i;return null!=(i=n.if.call(null!=e?e:{},null!=e?e.active:e,{name:"if",hash:{},fn:t.program(15,a,0),inverse:t.noop,data:a}))?i:""},15:function(t,e,n,l,a){var i=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t\t<i class="'+s(i(null!=e?e.icon:e,e))+" "+s(i(null!=e?e.iconColor:e,e))+'" data-toggle="tooltip" data-placement="top" data-original-title="'+s(i(null!=e?e.title:e,e))+'"></i>\n'},17:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.noUserFeatures:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'<div class="grid-row" data-id="'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'" data-search="'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+" "+(null!=(i=n.each.call(r,null!=(i=null!=e?e.extra:e)?i.listCallerId:i,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'" data-callflow_id="'+u(d(null!=(i=null!=e?e.extra:e)?i.callflowId:i,e))+'" data-base_callflow_id="'+u(d(null!=(i=null!=e?e.extra:e)?i.baseCallflowId:i,e))+'" data-name="'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'">\n\t<div class="groups-cells">\n\t\t<div class="walkthrough-group">\n\t\t\t<div class="name grid-cell" data-type="name">'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'</div>\n\t\t\t<div class="members grid-cell" data-type="members">'+u((s=null!=(s=n.endpoints||(null!=e?e.endpoints:e))?s:o,typeof s===c?s.call(r,{name:"endpoints",hash:{},data:a}):s))+'</div>\n\t\t\t<div class="extension grid-cell" data-type="extensions">\n'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.extension:i,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.program(6,a,0),data:a}))?i:"")+'\t\t\t</div>\n\t\t</div>\n\t\t<div class="phone-number grid-cell" data-type="numbers">\n'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.mainNumber:i,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.program(11,a,0),data:a}))?i:"")+'\t\t</div>\n\t\t<div class="features grid-cell right-aligned" data-type="features">\n'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.hasFeatures:i,{name:"if",hash:{},fn:t.program(13,a,0),inverse:t.program(17,a,0),data:a}))?i:"")+'\t\t</div>\n\t</div>\n\n\t<div class="edit-groups" style="display:none;">\n\n\t</div>\n</div>\n'},useData:!0}),this.monster.cache.templates.voip["myOffice-callerIdPopup"]=Handlebars.template({1:function(t,e,n,l,a){return" selected"},3:function(t,e,n,l,a,i,s){var r,o=null!=e?e:{},c=n.helperMissing,u=t.escapeExpression;return"\t\t\t\t\t<option"+(null!=(r=(n.compare||e&&e.compare||c).call(o,null!=s[1]?s[1].selectedMainNumber:s[1],"===",null!=e?e.number:e,{name:"compare",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:"")+' value="'+u(t.lambda(null!=e?e.number:e,e))+'">'+u((n.formatPhoneNumber||e&&e.formatPhoneNumber||c).call(o,null!=e?e.number:e,{name:"formatPhoneNumber",hash:{},data:a}))+"</option>\n"},5:function(t,e,n,l,a){var i;return"\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.callerId:i)?i.numberHelp:i,e))+"\n"},7:function(t,e,n,l,a){var i;return"\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.callerId:i)?i.nameHelp:i,e))+"\n"},9:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u='\t<div class="content number-feature" data-feature="e911">\n\t\t<div>\n\t\t\t<div>'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.callerId:i)?i.emergencyLabel:i,e))+'</div>\n\t\t\t<div class="emergency-form">\n\t\t\t\t<form>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<span class="emergency-form-label">'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.callerId:i)?i.emergencyZipcode:i,e))+'</span>\n\t\t\t\t\t\t<input required name="postal_code" type="text" class="caller-id-emergency-zipcode">\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<span class="emergency-form-label">'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.callerId:i)?i.emergencyAddress1:i,e))+'</span>\n\t\t\t\t\t\t<input required name="street_address" type="text" class="caller-id-emergency-address1">\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<span class="emergency-form-label">'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.callerId:i)?i.emergencyAddress2:i,e))+'</span>\n\t\t\t\t\t\t<input name="extended_address" type="text" class="caller-id-emergency-address2">\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<span class="emergency-form-label">'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.callerId:i)?i.emergencyCity:i,e))+'</span>\n\t\t\t\t\t\t<input required name="locality" type="text" class="caller-id-emergency-city">\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<span class="emergency-form-label">'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.callerId:i)?i.emergencyState:i,e))+'</span>\n\t\t\t\t\t\t<input required name="region" type="text" class="caller-id-emergency-state">\n\t\t\t\t\t</label>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\n';return s=null!=(s=n.monsterText||(null!=e?e.monsterText:e))?s:n.helperMissing,r={name:"monsterText",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a},i="function"==typeof s?s.call(null!=e?e:{},r):s,n.monsterText||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(u+=i),u+"\t</div>\n"},10:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return"\t\t\t<p>"+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.callerId:i)?i.emergencyHelp1:i,e))+"</p>\n\t\t\t<p>"+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.callerId:i)?i.emergencyHelp2:i,e))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o,c,u=t.lambda,d=t.escapeExpression,p=null!=e?e:{},m=n.helperMissing,f="function",v=n.blockHelperMissing,h='<div id="my_office_caller_id_popup" class="monster-feature-popup-container">\n\t<!-- <div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="fa fa-user"></i>\n\t\t</div>\n\t\t'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.callerId:r)?r.headline:r,e))+'\n\t</div> -->\n\n\t<div class="content">\n\t\t<div>\n\t\t\t'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.callerId:r)?r.numberLabel:r,e))+'\n\t\t\t<select class="caller-id-select">\n\t\t\t\t<option'+(null!=(r=(n.compare||e&&e.compare||m).call(p,null!=e?e.selectedMainNumber:e,"===","none",{name:"compare",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:"")+' value="">None</option>\n'+(null!=(r=n.each.call(p,null!=e?e.mainNumbers:e,{name:"each",hash:{},fn:t.program(3,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t</select>\n\t\t</div>\n\n";return o=null!=(o=n.monsterText||(null!=e?e.monsterText:e))?o:m,c={name:"monsterText",hash:{},fn:t.program(5,a,0,i,s),inverse:t.noop,data:a},r=typeof o===f?o.call(p,c):o,n.monsterText||(r=v.call(e,r,c)),null!=r&&(h+=r),h+='\t</div>\n\n\t<div class="content number-feature" data-feature="cnam">\n\t\t<div>\n\t\t\t'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.callerId:r)?r.nameLabel:r,e))+'\n\t\t\t<input type="text" class="caller-id-name">\n\t\t</div>\n\n',o=null!=(o=n.monsterText||(null!=e?e.monsterText:e))?o:m,c={name:"monsterText",hash:{},fn:t.program(7,a,0,i,s),inverse:t.noop,data:a},r=typeof o===f?o.call(p,c):o,n.monsterText||(r=v.call(e,r,c)),null!=r&&(h+=r),h+"\t</div>\n\n"+(null!=(r=n.if.call(p,null!=e?e.isE911Enabled:e,{name:"if",hash:{},fn:t.program(9,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+d(u(null!=(r=null!=e?e.i18n:e)?r.cancel:r,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+d(u(null!=(r=null!=e?e.i18n:e)?r.saveChanges:r,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["myOffice-layout"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t<a href="#" class="header-link caller-id'+(null!=(i=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=(i=null!=e?e.mainNumbers:e)?i.length:i,"===",0,{name:"compare",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t<div class="header-link-icon"><i class="monster-white fa-lg fa fa-user"></i></div>\n\t\t\t<div class="header-link-title">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.topBarLinks:i)?i.callerID:i,e))+"</div>\n\t\t</a>\n"},2:function(t,e,n,l,a){return" disabled"},4:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t<div class="dashboard-top-message '+r(s(null!=(i=null!=e?e.topMessage:e)?i.class:i,e))+'">\n\t\t\t<i class="fa fa-exclamation-triangle"></i>'+r(s(null!=(i=null!=e?e.topMessage:e)?i.message:i,e))+"<!-- "+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.missingE911Message:i,e))+" -->\n\t\t</div>\n"},6:function(t,e,n,l,a,i,s){var r;return'\t\t\t\t\t<div class="users-element"><i class="fa-2x fa fa-male'+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},e,"<",null!=s[1]?s[1].totalChannels:s[1],{name:"compare",hash:{},fn:t.program(7,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'"></i></div>\n'},7:function(t,e,n,l,a){return" monster-primary-color"},9:function(t,e,n,l,a){var i;return null!=(i=n.if.call(null!=e?e:{},null!=e?e.label:e,{name:"if",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a}))?i:""},10:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression;return'\t\t\t\t\t\t\t\t<li class="legend-element'+(null!=(i=n.unless.call(r,null!=e?e.count:e,{name:"unless",hash:{},fn:t.program(11,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t\t\t\t\t\t<i class="fa fa-circle legend-color" style="color: '+u((s=null!=(s=n.color||(null!=e?e.color:e))?s:o,typeof s===c?s.call(r,{name:"color",hash:{},data:a}):s))+';"></i>\n\t\t\t\t\t\t\t\t\t<span class="legend-label">'+u((s=null!=(s=n.label||(null!=e?e.label:e))?s:o,typeof s===c?s.call(r,{name:"label",hash:{},data:a}):s))+'</span>\n\t\t\t\t\t\t\t\t\t<span class="legend-number">'+u((s=null!=(s=n.count||(null!=e?e.count:e))?s:o,typeof s===c?s.call(r,{name:"count",hash:{},data:a}):s))+"</span>\n\t\t\t\t\t\t\t\t</li>\n"},11:function(t,e,n,l,a){return" no-device"},13:function(t,e,n,l,a){return" none"},15:function(t,e,n,l,a,i,s){var r;return'\t\t\t\t<div class="dashboard-box-row main-number-row link-box" data-category="strategy" data-subcategory="main-number">\n\t\t\t\t\t<div class="row-title">\n\t\t\t\t\t\t<div>'+t.escapeExpression(t.lambda(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.mainNumberLabel:r,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="row-content">\n\t\t\t\t\t\t<ul class="number-list">\n'+(null!=(r=n.each.call(null!=e?e:{},null!=e?e.mainNumbers:e,{name:"each",hash:{},fn:t.program(16,a,0,i,s),inverse:t.program(21,a,0,i,s),data:a}))?r:"")+"\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n"},16:function(t,e,n,l,a,i,s){var r,o=null!=e?e:{},c=n.helperMissing;return"\t\t\t\t\t\t\t<li"+(null!=(r=(n.compare||e&&e.compare||c).call(o,null!=e?e.number:e,"===",null!=(r=null!=(r=null!=(r=null!=s[1]?s[1].account:s[1])?r.caller_id:r)?r.external:r)?r.number:r,{name:"compare",hash:{},fn:t.program(17,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'>\n\t\t\t\t\t\t\t\t<div class="features pull-right">\n\t\t\t\t\t\t\t\t\t'+(null!=(r=(n.numberFeatures||e&&e.numberFeatures||c).call(o,null!=e?e.features:e,{name:"numberFeatures",hash:{},fn:t.program(19,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="number-div">'+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||c).call(o,null!=e?e.number:e,{name:"formatPhoneNumber",hash:{},data:a}))+"</div>\n\t\t\t\t\t\t\t</li>\n"},17:function(t,e,n,l,a){return' class="caller-id"'},19:function(t,e,n,l,a){return""},21:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t<li>"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.myOffice:i)?i.noMainNumber:i,e))+"</li>\n"},23:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="dashboard-warning-row main-number-row link-box" data-category="strategy" data-subcategory="main-number">\n\t\t\t\t\t<i class="fa fa-exclamation-triangle"></i>'+t.escapeExpression(t.lambda((i=(i=(i=a&&a.root)&&i.i18n)&&i.myOffice)&&i.missingMainNumberMessage,e))+"\n\t\t\t\t</div>\t\n"},25:function(t,e,n,l,a){var i,s=null!=e?e:{},r=n.helperMissing;return'\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<div class="features pull-right">\n\t\t\t\t\t\t\t\t\t'+(null!=(i=(n.numberFeatures||e&&e.numberFeatures||r).call(s,null!=e?e.features:e,{name:"numberFeatures",hash:{},fn:t.program(19,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="number-div">'+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||r).call(s,null!=e?e.number:e,{name:"formatPhoneNumber",hash:{},data:a}))+"</div>\n\t\t\t\t\t\t\t</li>\n"},27:function(t,e,n,l,a){return"\t\t\t\t\t\t\t<li>-</li>\n"},29:function(t,e,n,l,a){var i,s=null!=e?e:{};return'\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<i class="fa fa-ambulance monster-red pull-right'+(null!=(i=n.if.call(s,null!=e?e.e911:e,{name:"if",hash:{},fn:t.program(30,a,0),inverse:t.noop,data:a}))?i:"")+'"></i>\n\t\t\t\t\t\t\t\t<i class="fa fa-user monster-green pull-right'+(null!=(i=n.if.call(s,null!=e?e.callerId:e,{name:"if",hash:{},fn:t.program(30,a,0),inverse:t.noop,data:a}))?i:"")+'"></i>\n\t\t\t\t\t\t\t\t<div class="number-div">'+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(s,null!=e?e.number:e,{name:"formatPhoneNumber",hash:{},data:a}))+"</div>\n\t\t\t\t\t\t\t</li>\n"},30:function(t,e,n,l,a){return" enabled"},32:function(t,e,n,l,a){var i,s=null!=e?e:{},r=n.helperMissing,o="function",c=t.escapeExpression;return'\t\t\t\t\t\t\t\t<li class="legend-element">\n\t\t\t\t\t\t\t\t\t<span class="legend-label">'+c((i=null!=(i=n.label||(null!=e?e.label:e))?i:r,typeof i===o?i.call(s,{name:"label",hash:{},data:a}):i))+'</span>\n\t\t\t\t\t\t\t\t\t<span class="legend-number" style="color: '+c((i=null!=(i=n.color||(null!=e?e.color:e))?i:r,
typeof i===o?i.call(s,{name:"color",hash:{},data:a}):i))+';">'+c((i=null!=(i=n.count||(null!=e?e.count:e))?i:r,typeof i===o?i.call(s,{name:"count",hash:{},data:a}):i))+"</span>\n\t\t\t\t\t\t\t\t</li>\n"},34:function(t,e,n,l,a){var i,s=null!=e?e:{},r=n.helperMissing,o="function",c=t.escapeExpression;return'\t\t\t\t\t\t\t\t<li class="legend-element">\n\t\t\t\t\t\t\t\t\t<i class="fa fa-circle legend-color" style="color: '+c((i=null!=(i=n.color||(null!=e?e.color:e))?i:r,typeof i===o?i.call(s,{name:"color",hash:{},data:a}):i))+';"></i>\n\t\t\t\t\t\t\t\t\t<span class="legend-label">'+c((i=null!=(i=n.label||(null!=e?e.label:e))?i:r,typeof i===o?i.call(s,{name:"label",hash:{},data:a}):i))+'</span>\n\t\t\t\t\t\t\t\t\t<span class="legend-number">'+c((i=null!=(i=n.count||(null!=e?e.count:e))?i:r,typeof i===o?i.call(s,{name:"count",hash:{},data:a}):i))+"</span>\n\t\t\t\t\t\t\t\t</li>\n"},36:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<li class="no-number">'+t.escapeExpression(t.lambda((i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.myOffice)&&i.numberChartLegend)&&i.noNumber,e))+"</li>\n"},38:function(t,e,n,l,a){var i,s,r=t.escapeExpression;return'\t\t\t\t\t<div class="row-link pull-right"><a href="'+r((s=null!=(s=n.directoryLink||(null!=e?e.directoryLink:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"directoryLink",hash:{},data:a}):s))+'" target="_blank"><i class="fa fa-download monster-blue"></i> '+r(t.lambda(null!=(i=null!=e?e.i18n:e)?i.download:i,e))+"</a></div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o,c=t.lambda,u=t.escapeExpression,d=null!=e?e:{},p=n.helperMissing,m="function";return'<div id="myoffice_container">\n\t<div class="dashboard-header">\n\t\t<div class="header-title">'+u(c(null!=(r=null!=e?e.account:e)?r.name:r,e))+'</div>\n\t\t<a href="#" class="header-link strategy-hours link-box" data-category="strategy" data-subcategory="strategy-hours">\n\t\t\t<div class="header-link-icon"><i class="fa fa-clock-o fa-lg monster-white"></i></div>\n\t\t\t<div class="header-link-title">'+u(c(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.topBarLinks:r)?r.hours:r,e))+'</div>\n\t\t</a>\n\t\t<!-- <a href="#" class="header-link call-recording">\n\t\t\t<div class="header-link-icon"><i class="monster-white fa-lg fa fa-microphone"></i></div>\n\t\t\t<div class="header-link-title">'+u(c(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.topBarLinks:r)?r.callRecording:r,e))+'</div>\n\t\t</a> -->\n\t\t<a href="#" class="header-link music-on-hold">\n\t\t\t<div class="header-link-icon"><i class="monster-white fa-lg fa fa-music"></i></div>\n\t\t\t<div class="header-link-title">'+u(c(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.topBarLinks:r)?r.musicOnHold:r,e))+"</div>\n\t\t</a>\n"+(null!=(r=n.if.call(d,null!=e?e.isCnamEnabled:e,{name:"if",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t</div>\n\n\t<div class="dashboard-content">\n'+(null!=(r=n.if.call(d,null!=e?e.topMessage:e,{name:"if",hash:{},fn:t.program(4,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t<div class="dashboard-content-div dashboard-left-content">\n\t\t\t<div class="dashboard-left-section clearfix">\n\t\t\t\t<div class="left-section-header link-box" data-category="users">\n\t\t\t\t\t<span class="title">'+u(c(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.totalUsers:r,e))+'</span>\n\t\t\t\t\t<span class="number">'+u((o=null!=(o=n.totalUsers||(null!=e?e.totalUsers:e))?o:p,typeof o===m?o.call(d,{name:"totalUsers",hash:{},data:a}):o))+'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="left-section-content users-section-content">\n'+(null!=(r=(n.times||e&&e.times||p).call(d,null!=e?e.totalUsers:e,{name:"times",hash:{},fn:t.program(6,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="dashboard-left-section clearfix">\n\t\t\t\t<div class="left-section-header link-box" data-category="devices">\n\t\t\t\t\t<span class="title">'+u(c(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.totalDevices:r,e))+'</span>\n\t\t\t\t\t<span class="number">'+u((o=null!=(o=n.totalDevices||(null!=e?e.totalDevices:e))?o:p,typeof o===m?o.call(d,{name:"totalDevices",hash:{},data:a}):o))+'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="left-section-content devices-section-content">\n\t\t\t\t\t<div class="devices-chart">\n\t\t\t\t\t\t<canvas id="dashboard_devices_chart" class="pull-left" width="130" height="130"></canvas>\n\t\t\t\t\t\t<div class="devices-chart-legend">\n\t\t\t\t\t\t\t<ul>\n'+(null!=(r=n.each.call(d,null!=e?e.devicesList:e,{name:"each",hash:{},fn:t.program(9,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="unregistered-devices clearfix">\n\t\t\t\t\t\t<div class="value'+(null!=(r=n.unless.call(d,null!=e?e.unregisteredDevices:e,{name:"unless",hash:{},fn:t.program(13,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">'+u((o=null!=(o=n.unregisteredDevices||(null!=e?e.unregisteredDevices:e))?o:p,typeof o===m?o.call(d,{name:"unregisteredDevices",hash:{},data:a}):o))+'</div>\n\t\t\t\t\t\t<div class="title">'+u(c(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.unregisteredDevices:r,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="dashboard-left-section conf-section clearfix">\n\t\t\t\t<div class="left-section-header conf-section-header">\n\t\t\t\t\t<span class="title">'+u(c(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.totalConfs:r,e))+'</span>\n\t\t\t\t\t<span class="number">'+u((o=null!=(o=n.totalConferences||(null!=e?e.totalConferences:e))?o:p,typeof o===m?o.call(d,{name:"totalConferences",hash:{},data:a}):o))+'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="dashboard-content-div dashboard-right-content">\n\t\t\t<div class="dashboard-box">\n'+(null!=(r=n.if.call(d,null!=(r=null!=e?e.mainNumbers:e)?r.length:r,{name:"if",hash:{},fn:t.program(15,a,0,i,s),inverse:t.program(23,a,0,i,s),data:a}))?r:"")+'\t\t\t\t<div class="dashboard-box-row conf-number-row link-box" data-category="strategy" data-subcategory="strategy-confnum">\n\t\t\t\t\t<div class="row-title">\n\t\t\t\t\t\t<div>'+u(c(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.confNumberLabel:r,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="row-content">\n\t\t\t\t\t\t<ul class="number-list">\n'+(null!=(r=n.each.call(d,null!=e?e.confNumbers:e,{name:"each",hash:{},fn:t.program(25,a,0,i,s),inverse:t.program(27,a,0,i,s),data:a}))?r:"")+'\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="dashboard-box-row faxing-number-row link-box" data-category="strategy" data-subcategory="strategy-faxingnum">\n\t\t\t\t\t<div class="row-title">\n\t\t\t\t\t\t<div>'+u(c(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.faxingNumberLabel:r,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="row-content">\n\t\t\t\t\t\t<ul class="number-list">\n'+(null!=(r=n.each.call(d,null!=e?e.faxingNumbers:e,{name:"each",hash:{},fn:t.program(25,a,0,i,s),inverse:t.program(27,a,0,i,s),data:a}))?r:"")+'\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="dashboard-box-row fax-number-row link-box" data-category="strategy" data-subcategory="strategy-faxnum">\n\t\t\t\t\t<div class="row-title">\n\t\t\t\t\t\t<div>'+u(c(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.faxNumberLabel:r,e))+'</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="row-content">\n\t\t\t\t\t\t<ul class="number-list">\n'+(null!=(r=n.each.call(d,null!=e?e.faxNumbers:e,{name:"each",hash:{},fn:t.program(29,a,0,i,s),inverse:t.program(27,a,0,i,s),data:a}))?r:"")+'\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="dashboard-box-div total-numbers-div clearfix">\n\t\t\t\t\t<div class="div-title link-box" data-category="numbers">\n\t\t\t\t\t\t<span class="title">'+u(c(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.totalNumbers:r,e))+'</span>\n\t\t\t\t\t\t<span class="number">'+u((o=null!=(o=n.totalNumbers||(null!=e?e.totalNumbers:e))?o:p,typeof o===m?o.call(d,{name:"totalNumbers",hash:{},data:a}):o))+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="chart-container clearfix">\n\t\t\t\t\t\t<canvas id="dashboard_assigned_numbers_chart" class="pull-left" width="100" height="120"></canvas>\n\t\t\t\t\t\t<div class="chart-legend assigned-numbers-legend">\n\t\t\t\t\t\t\t<ul>\n'+(null!=(r=n.each.call(d,null!=e?e.assignedNumbersList:e,{name:"each",hash:{},fn:t.program(32,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="chart-container clearfix">\n\t\t\t\t\t\t<canvas id="dashboard_number_types_chart" class="pull-left" width="100" height="120"></canvas>\n\t\t\t\t\t\t<div class="chart-legend number-types-legend">\n\t\t\t\t\t\t\t<ul>\n'+(null!=(r=n.each.call(d,null!=e?e.classifiedNumbers:e,{name:"each",hash:{},fn:t.program(34,a,0,i,s),inverse:t.program(36,a,0,i,s),data:a}))?r:"")+'\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- <div class="dashboard-box-row">\n\t\t\t\t\t<div class="row-label">Download Phone System Manual</div>\n\t\t\t\t\t<div class="row-link pull-right"><a href="#">Print</a></div>\n\t\t\t\t</div> -->\n\t\t\t\t<div class="dashboard-box-row account-info-box">\n\t\t\t\t\t<div class="row-label">'+u(c(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.directoryLabel:r,e))+'</div>\n\t\t\t\t\t<div class="row-value">'+u((o=null!=(o=n.directoryUsers||(null!=e?e.directoryUsers:e))?o:p,typeof o===m?o.call(d,{name:"directoryUsers",hash:{},data:a}):o))+"</div>\n"+(null!=(r=n.if.call(d,null!=e?e.directoryLink:e,{name:"if",hash:{},fn:t.program(38,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t</div>\n\t\t\t\t<div class="dashboard-box-row account-info-box">\n\t\t\t\t\t<div class="row-label">'+u(c(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.accountId:r,e))+'</div>\n\t\t\t\t\t<div class="row-value">'+u(c(null!=(r=null!=e?e.account:e)?r.id:r,e))+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="dashboard-box-row account-info-box">\n\t\t\t\t\t<div class="row-label">'+u(c(null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.accountRealm:r,e))+'</div>\n\t\t\t\t\t<div class="row-value">'+u(c(null!=(r=null!=e?e.account:e)?r.realm:r,e))+"</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["myOffice-musicOnHoldPopup"]=Handlebars.template({1:function(t,e,n,l,a){return"selected"},3:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression;return'\t\t\t\t\t<option value="'+c(o(null!=e?e.id:e,e))+'" '+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=s[1]?s[1].media:s[1],"===",null!=e?e.id:e,{name:"compare",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+c(o(null!=e?e.name:e,e))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o,c=t.lambda,u=t.escapeExpression,d=null!=e?e:{},p=n.helperMissing;return'<div id="my_office_music_on_hold_popup" class="monster-feature-popup-container">\n\t<div class="feature-popup-header">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="fa fa-music"></i>\n\t\t</div>\n\t\t'+u(c(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.musicOnHold:r)?r.headline:r,e))+'\n\t</div>\n\n\t<div class="content">\n\t\t<div>\n\t\t\t<span>'+u(c(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.musicOnHold:r)?r.dropdownLabel:r,e))+'</span>\n\t\t\t<select name="format" class="media-dropdown">\n\t\t\t\t<option value="" '+(null!=(r=n.unless.call(d,null!=e?e.media:e,{name:"unless",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">\n\t\t\t\t\t"+u(c(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.musicOnHold:r)?r.default:r,e))+'\n\t\t\t\t</option>\n\t\t\t\t<option value="'+u((o=null!=(o=n.silenceMedia||(null!=e?e.silenceMedia:e))?o:p,"function"==typeof o?o.call(d,{name:"silenceMedia",hash:{},data:a}):o))+'" '+(null!=(r=(n.compare||e&&e.compare||p).call(d,null!=e?e.media:e,"===",null!=e?e.silenceMedia:e,{name:"compare",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">\n\t\t\t\t\t"+u(c(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.myOffice:r)?r.musicOnHold:r)?r.silence:r,e))+"\n\t\t\t\t</option>\n"+(null!=(r=n.each.call(d,null!=e?e.mediaList:e,{name:"each",hash:{},fn:t.program(3,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t</select>\n\t\t\t<button type="button" class="monster-button monster-button-primary upload-toggle" data-toggle="button">\n\t\t\t\t'+u(c(null!=(r=null!=e?e.i18n:e)?r.upload:r,e))+'\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="upload-div">\n\t\t\t<input type="file" class="upload-input" accept="audio/*">\n\t\t\t<button type="button" class="monster-button monster-button-success upload-action upload-submit"><i class="fa fa-upload"></i></button>\n\t\t\t<button type="button" class="monster-button monster-button-danger upload-action upload-cancel"><i class="fa fa-times"></i></button>\n\t\t</div>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+u(c(null!=(r=null!=e?e.i18n:e)?r.cancel:r,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+u(c(null!=(r=null!=e?e.i18n:e)?r.saveChanges:r,e))+"</button>\n\t\t</div>\n\t</div>\n</div>"},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["strategy-calls"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t<li class="lunch-hours-tab">\n\t\t<a href="#strategy_calls_lunch_hours_tab"><i class="fa fa-cutlery"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.calls:i)?i.lunchHoursTitle:i,e))+"</a>\n\t</li>\n"},3:function(t,e,n,l,a){var i;return'\t<li class="after-hours-tab">\n\t\t<a href="#strategy_calls_after_hours_tab"><i class="fa fa-moon-o"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.calls:i)?i.afterHoursTitle:i,e))+"</a>\n\t</li>\n"},5:function(t,e,n,l,a){var i;return'\t<li class="holidays-tab">\n\t\t<a href="#strategy_calls_holidays_tab"><i class="fa fa-glass"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.calls:i)?i.holidaysTitle:i,e))+"</a>\n\t</li>\n"},7:function(t,e,n,l,a){return'\t<div class="callflow-tab tab-pane fade" id="strategy_calls_lunch_hours_tab" data-callflow="MainLunchHours"></div>\n'},9:function(t,e,n,l,a){return'\t<div class="callflow-tab tab-pane fade" id="strategy_calls_after_hours_tab" data-callflow="MainAfterHours"></div>\n'},11:function(t,e,n,l,a){return'\t<div class="callflow-tab tab-pane fade" id="strategy_calls_holidays_tab" data-callflow="MainHolidays"></div>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression,o=null!=e?e:{};return'<ul class="nav nav-tabs calls-tabs clearfix">\n\t<li class="open-hours-tab active">\n\t\t<a href="#strategy_calls_open_hours_tab"><i class="fa fa-sun-o"></i>'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.calls:i)?i.openHoursTitle:i,e))+"</a>\n\t</li>\n"+(null!=(i=n.if.call(o,null!=e?e.lunchbreak:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+(null!=(i=n.if.call(o,null!=e?e.afterhours:e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+(null!=(i=n.if.call(o,null!=e?e.holidays:e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'</ul>\n<div class="tab-content callflow-tabs">\n\t<div class="callflow-tab tab-pane fade active in" id="strategy_calls_open_hours_tab" data-callflow="MainOpenHours"></div>\n'+(null!=(i=n.if.call(o,null!=e?e.lunchbreak:e,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+(null!=(i=n.if.call(o,null!=e?e.afterhours:e,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a}))?i:"")+(null!=(i=n.if.call(o,null!=e?e.holidays:e,{name:"if",hash:{},fn:t.program(11,a,0),inverse:t.noop,data:a}))?i:"")+'</div>\n\n<div class="calls-actions basic-actions">\n\t<a href="#" class="monster-link blue cancel-link">'+r(s(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t<button class="monster-button monster-button-success save-button">'+r(s(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n</div>"},useData:!0}),this.monster.cache.templates.voip["strategy-callsTab"]=Handlebars.template({1:function(t,e,n,l,a){return"active"},3:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing;return'<input type="radio" '+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.callOption:e)?i.type:i,"===","default",{name:"compare",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+' name="calls.'+t.escapeExpression((s=null!=(s=n.callflow||(null!=e?e.callflow:e))?s:o,"function"==typeof s?s.call(r,{name:"callflow",hash:{},data:a}):s))+'" value="menu">'},4:function(t,e,n,l,a){return"checked"},6:function(t,e,n,l,a){var i;return'has-menu" data-callflow="'+t.escapeExpression((i=null!=(i=n.menu||(null!=e?e.menu:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"menu",hash:{},data:a}):i))},8:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing;return'<input type="radio" '+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.callOption:e)?i.type:i,"===","user-menu",{name:"compare",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+' name="calls.'+t.escapeExpression((s=null!=(s=n.callflow||(null!=e?e.callflow:e))?s:o,"function"==typeof s?s.call(r,{name:"callflow",hash:{},data:a}):s))+'" value="user-menu">'},10:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{};return'\t\t\t\t\t<optgroup label="'+t.escapeExpression((o=null!=(o=n.groupName||(null!=e?e.groupName:e))?o:n.helperMissing,"function"==typeof o?o.call(c,{name:"groupName",hash:{},data:a}):o))+'">\n'+(null!=(r=n.each.call(c,null!=e?e.entities:e,{name:"each",hash:{},fn:t.program(11,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t\t\t</optgroup>\n"},11:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d="function",p=t.escapeExpression;return'\t\t\t\t\t\t\t<option value="'+p((o=null!=(o=n.id||(null!=e?e.id:e))?o:u,typeof o===d?o.call(c,{name:"id",hash:{},data:a}):o))+'" data-type="'+p((o=null!=(o=n.module||(null!=e?e.module:e))?o:u,typeof o===d?o.call(c,{name:"module",hash:{},data:a}):o))+'" '+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=(r=null!=s[2]?s[2].callOption:s[2])?r.callEntityId:r,"===",null!=e?e.id:e,{name:"compare",hash:{},fn:t.program(12,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+p((o=null!=(o=n.name||(null!=e?e.name:e))?o:u,typeof o===d?o.call(c,{name:"name",hash:{},data:a}):o))+"</option>\n"},12:function(t,e,n,l,a){return"selected"},14:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing;return'<input type="radio" '+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.callOption:e)?i.type:i,"===","user-voicemail",{name:"compare",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+' name="calls.'+t.escapeExpression((s=null!=(s=n.callflow||(null!=e?e.callflow:e))?s:o,"function"==typeof s?s.call(r,{name:"callflow",hash:{},data:a}):s))+'" value="user-voicemail">'},16:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d="function",p=t.escapeExpression;return'\t\t\t\t\t<option value="'+p((o=null!=(o=n.id||(null!=e?e.id:e))?o:u,typeof o===d?o.call(c,{name:"id",hash:{},data:a}):o))+'" '+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=(r=null!=s[1]?s[1].callOption:s[1])?r.voicemailId:r,"===",null!=e?e.id:e,{name:"compare",hash:{},fn:t.program(12,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+p((o=null!=(o=n.name||(null!=e?e.name:e))?o:u,typeof o===d?o.call(c,{name:"name",hash:{},data:a}):o))+"</option>\n"},18:function(t,e,n,l,a,i,s){var r,o=null!=e?e:{},c=n.helperMissing,u=t.lambda,d=t.escapeExpression;return'\t<div class="call-option advanced-callflow-call'+(null!=(r=(n.compare||e&&e.compare||c).call(o,null!=(r=null!=e?e.callOption:e)?r.type:r,"===","advanced-callflow",{name:"compare",hash:{},fn:t.program(19,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">\n\t\t<div class="radio-div">\n'+(null!=(r=(n.monsterRadio||e&&e.monsterRadio||c).call(o,"radio-large",{name:"monsterRadio",hash:{},fn:t.program(21,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t</div>\n\t\t<div class="title">\n\t\t\t'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.calls:r)?r.incomingCall:r,e))+'\n\t\t</div>\n\t\t<div class="arrow-icon">\n\t\t\t<i class="fa fa-arrow-down fa-lg"></i>\n\t\t</div>\n\t\t<div class="advancedCallflows-select">\n\t\t\t<div class="title">'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.callEntities:r)?r.advancedCallflows:r,e))+"</div>\n\t\t\t<select>\n"+(null!=(r=n.each.call(o,null!=e?e.callEntities:e,{name:"each",hash:{},fn:t.program(23,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t</select>\n\t\t</div>\n\t</div>\n"},19:function(t,e,n,l,a){return" active"},21:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing;return'\t\t\t<input type="radio" '+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.callOption:e)?i.type:i,"===","advanced-callflow",{name:"compare",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+' name="calls.'+t.escapeExpression((s=null!=(s=n.callflow||(null!=e?e.callflow:e))?s:o,"function"==typeof s?s.call(r,{name:"callflow",hash:{},data:a}):s))+'" value="advanced-callflow">\n'},23:function(t,e,n,l,a,i,s){var r;return null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=e?e.groupType:e,"===","advancedCallflows",{name:"compare",hash:{},fn:t.program(24,a,0,i,s),inverse:t.noop,data:a}))?r:""},24:function(t,e,n,l,a,i,s){var r;return null!=(r=n.each.call(null!=e?e:{},null!=e?e.entities:e,{name:"each",hash:{},fn:t.program(25,a,0,i,s),inverse:t.noop,data:a}))?r:""},25:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d="function",p=t.escapeExpression;return'\t\t\t\t\t\t<option value="'+p((o=null!=(o=n.id||(null!=e?e.id:e))?o:u,typeof o===d?o.call(c,{name:"id",hash:{},data:a}):o))+'" data-type="'+p((o=null!=(o=n.module||(null!=e?e.module:e))?o:u,typeof o===d?o.call(c,{name:"module",hash:{},data:a}):o))+'"'+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=(r=null!=s[2]?s[2].callOption:s[2])?r.callEntityId:r,"===",null!=e?e.id:e,{name:"compare",hash:{},fn:t.program(26,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+p((o=null!=(o=n.name||(null!=e?e.name:e))?o:u,typeof o===d?o.call(c,{name:"name",hash:{},data:a}):o))+"</option>\n"},26:function(t,e,n,l,a){return" selected"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d=t.escapeExpression,p=t.lambda;return'<div class="callflow-tab-title">'+d((o=null!=(o=n.tabMessage||(null!=e?e.tabMessage:e))?o:u,"function"==typeof o?o.call(c,{name:"tabMessage",hash:{},data:a}):o))+'</div>\n<div class="call-options-container">\n\t<div class="call-option menu-call '+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=(r=null!=e?e.callOption:e)?r.type:r,"===","default",{name:"compare",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">\n\t\t<div class="radio-div">'+(null!=(r=(n.monsterRadio||e&&e.monsterRadio||u).call(c,"radio-large",{name:"monsterRadio",hash:{},fn:t.program(3,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'</div>\n\t\t<div class="title">'+d(p(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.calls:r)?r.incomingCall:r,e))+'</div>\n\t\t<div class="arrow-icon"><i class="fa fa-arrow-down fa-lg"></i></div>\n\t\t<div class="menu-div '+(null!=(r=n.if.call(c,null!=e?e.menu:e,{name:"if",hash:{},fn:t.program(6,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">\n\t\t\t<div class="link">\n\t\t\t\t<a href="#">\n\t\t\t\t\t<div class="menu-icon">\n\t\t\t\t\t\t<i class="fa fa-user fa-3x"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="link-icon">\n\t\t\t\t\t\t<i class="fa fa-cog icon-small"></i>\n\t\t\t\t\t\t<span>'+d(p(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.calls:r)?r.virtualReceptionist:r,e))+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="call-option user-menu-call '+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=(r=null!=e?e.callOption:e)?r.type:r,"===","user-menu",{name:"compare",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">\n\t\t<div class="radio-div">'+(null!=(r=(n.monsterRadio||e&&e.monsterRadio||u).call(c,"radio-large",{name:"monsterRadio",hash:{},fn:t.program(8,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'</div>\n\t\t<div class="title">'+d(p(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.calls:r)?r.incomingCall:r,e))+'</div>\n\t\t<div class="arrow-icon"><i class="fa fa-arrow-down fa-lg"></i></div>\n\t\t<div class="user-select">\n\t\t\t<div class="title">N/A</div>\n\t\t\t<select>\n'+(null!=(r=n.each.call(c,null!=e?e.callEntities:e,{name:"each",hash:{},fn:t.program(10,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t</select>\n\t\t</div>\n\t\t<div class="arrow-icon"><i class="fa fa-arrow-down fa-lg"></i></div>\n\t\t<div class="menu-div '+(null!=(r=n.if.call(c,null!=e?e.menu:e,{name:"if",hash:{},fn:t.program(6,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">\n\t\t\t<div class="link">\n\t\t\t\t<a href="#">\n\t\t\t\t\t<div class="menu-icon">\n\t\t\t\t\t\t<i class="fa fa-user fa-3x"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="link-icon">\n\t\t\t\t\t\t<i class="fa fa-cog icon-small"></i>\n\t\t\t\t\t\t<span>'+d(p(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.calls:r)?r.virtualReceptionist:r,e))+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="call-option user-voicemail-call '+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=(r=null!=e?e.callOption:e)?r.type:r,"===","user-voicemail",{name:"compare",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">\n\t\t<div class="radio-div">'+(null!=(r=(n.monsterRadio||e&&e.monsterRadio||u).call(c,"radio-large",{name:"monsterRadio",hash:{},fn:t.program(14,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'</div>\n\t\t<div class="title">'+d(p(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.calls:r)?r.incomingCall:r,e))+'</div>\n\t\t<div class="arrow-icon"><i class="fa fa-arrow-down fa-lg"></i></div>\n\t\t<div class="user-select">\n\t\t\t<div class="title">N/A</div>\n\t\t\t<select>\n'+(null!=(r=n.each.call(c,null!=e?e.callEntities:e,{name:"each",hash:{},fn:t.program(10,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t<optgroup label="'+d(p(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.calls:r)?r.groupOther:r,e))+'">\n\t\t\t\t\t<option value="none" data-type="none" '+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=(r=null!=e?e.callOption:e)?r.callEntityId:r,"===","none",{name:"compare",hash:{},fn:t.program(12,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+d(p(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.calls:r)?r.optionNone:r,e))+'</option>\n\t\t\t\t</optgroup>\n\t\t\t</select>\n\t\t</div>\n\t\t<div class="arrow-icon"><i class="fa fa-arrow-down fa-lg"></i></div>\n\t\t<div class="voicemail-select">\n\t\t\t<div class="title">'+d(p(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.calls:r)?r.voicemail:r,e))+"</div>\n\t\t\t<select>\n"+(null!=(r=n.each.call(c,null!=e?e.voicemails:e,{name:"each",hash:{},fn:t.program(16,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t</select>\n\t\t</div>\n\t</div>\n"+(null!=(r=n.unless.call(c,null!=e?e.hideAdvancedCallflows:e,{name:"unless",hash:{},fn:t.program(18,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"</div>\n"},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["strategy-confnum"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'<div class="number-element">\n\t<div class="number">\n\t\t<button type="button" class="monster-button monster-button-danger remove-number" data-number="'+r(s(null!=e?e.number:e,e))+'">\n\t\t\t'+r(s((i=(i=a&&a.root)&&i.i18n)&&i.unassign,e))+"\n\t\t</button>\n\t\t<span>"+r((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=e?e.number:e,{name:"formatPhoneNumber",hash:{},data:a}))+"</span>\n\t</div>\n</div>\n"},3:function(t,e,n,l,a){var i;return'<div class="number-element">\n\t<div class="no-number-error">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.noConfNumMessage:i,e))+"</div>\n</div>\n"},5:function(t,e,n,l,a){return" disabled"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=null!=e?e:{},r=t.lambda,o=t.escapeExpression;return(null!=(i=n.each.call(s,null!=e?e.numbers:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?i:"")+'<div class="number-actions">\n\t<a href="#" class="monster-link blue cancel-link pull-right">'+o(r(null!=(i=null!=e?e.i18n:e)?i.close:i,e))+'</a>\n\t<div class="action-links nav-bar clearfix">\n\t\t<a href="#" class="greeting-link monster-link pull-left"><i class="fa fa-volume-up fa-lg"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.customConferenceGreeting:i)?i.link:i,e))+'</a>\n\t\t<a href="#" class="spare-link monster-link pull-left'+(null!=(i=n.unless.call(s,null!=e?e.spareLinkEnabled:e,{name:"unless",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'"><i class="fa fa-file-text-o monster-orange fa-lg"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.spare:i,e))+'</a>\n\t\t<ul class="nav pull-left">\n\t\t\t<li class="dropdown">\n\t\t\t\t<a href="#" class="dropdown-toggle buy-dropdown monster-link" data-toggle="dropdown" data-target="#"><i class="fa fa-shopping-cart monster-green fa-lg"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.link:i,e))+'</a>\n\t\t\t\t<ul class="dropdown-menu" role="menu">\n\t\t\t\t\t<li><a class="buy-link" data-type="regular" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.regular:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="buy-link" data-type="tollfree" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.tollfree:i,e))+'</a></li>\n\t\t\t\t\t<!-- <li><a class="buy-link" data-type="vanity" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.vanity:i,e))+"</a></li> -->\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates.voip["strategy-customConferenceGreeting"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" name="enabled" id="checkbox_hotdesk" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.enabled:e,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},6:function(t,e,n,l,a){var i;return"\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.customConferenceGreeting:i)?i.info:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d=n.helperMissing,p="function",m=n.blockHelperMissing,f='<div id="strategy_custom_conference_greeting" class="monster-feature-popup-container">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="fa fa-volume-up"></i>\n\t\t</div>\n\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.customConferenceGreeting:i)?i.title:i,e))+'\n\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:d,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterSwitch||(i=m.call(e,i,r)),null!=i&&(f+=i),f+='\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(i=n.unless.call(u,null!=e?e.enabled:e,{
name:"unless",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'">\n',s=null!=(s=n.monsterText||(null!=e?e.monsterText:e))?s:d,r={name:"monsterText",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterText||(i=m.call(e,i,r)),null!=i&&(f+=i),f+'\t\t<textarea class="custom-greeting-text">'+c((s=null!=(s=n.greeting||(null!=e?e.greeting:e))?s:d,typeof s===p?s.call(u,{name:"greeting",hash:{},data:a}):s))+'</textarea>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<button type="button" class="monster-button cancel">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</button>\n\t\t\t<button type="button" class="monster-button-success save">'+c(o(null!=(i=null!=e?e.i18n:e)?i.save:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["strategy-faxingnum"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'<div class="number-element">\n\t<div class="number">\n\t\t<button type="button" class="monster-button monster-button-danger remove-number" data-number="'+r(s(null!=e?e.number:e,e))+'">\n\t\t\t'+r(s((i=(i=a&&a.root)&&i.i18n)&&i.unassign,e))+"\n\t\t</button>\n\t\t<span>"+r((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=e?e.number:e,{name:"formatPhoneNumber",hash:{},data:a}))+"</span>\n\t</div>\n</div>\n"},3:function(t,e,n,l,a){var i;return'<div class="number-element">\n\t<div class="no-number-error">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.noFaxingNumMessage:i,e))+"</div>\n</div>\n"},5:function(t,e,n,l,a){var i;return'\t\t<a href="#" class="edit-email monster-link">\n\t\t\t<i class="icon-telicon-setting-cog"></i>\n\t\t\t'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.faxing:i)?i.editFaxbox:i,e))+"\n\t\t</a>\n"},7:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t<a href="#" class="spare-link monster-link pull-left'+(null!=(i=n.unless.call(null!=e?e:{},null!=e?e.spareLinkEnabled:e,{name:"unless",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+'"><i class="fa fa-file-text-o monster-orange fa-lg"></i>'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.spare:i,e))+'</a>\n\t\t<ul class="nav pull-left">\n\t\t\t<li class="dropdown">\n\t\t\t\t<a href="#" class="dropdown-toggle buy-dropdown monster-link" data-toggle="dropdown" data-target="#"><i class="fa fa-shopping-cart monster-green fa-lg"></i>'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.link:i,e))+'</a>\n\t\t\t\t<ul class="dropdown-menu" role="menu">\n\t\t\t\t\t<li><a class="buy-link" data-type="regular" href="#">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.regular:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="buy-link" data-type="tollfree" href="#">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.tollfree:i,e))+'</a></li>\n\t\t\t\t\t<!-- <li><a class="buy-link" data-type="vanity" href="#">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.vanity:i,e))+"</a></li> -->\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n"},8:function(t,e,n,l,a){return" disabled"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=null!=e?e:{};return(null!=(i=n.each.call(s,null!=e?e.numbers:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.program(3,a,0),data:a}))?i:"")+'<div class="number-actions">\n\t<a href="#" class="monster-link blue cancel-link pull-right">'+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.close:i,e))+'</a>\n\t<div class="action-links nav-bar clearfix">\n'+(null!=(i=n.unless.call(s,null!=e?e.actionLinksEnabled:e,{name:"unless",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+(null!=(i=n.if.call(s,null!=e?e.actionLinksEnabled:e,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+"\t</div>\n</div>"},useData:!0}),this.monster.cache.templates.voip["strategy-holidayLine"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'data-id="'+t.escapeExpression((i=null!=(i=n.id||(null!=e?e.id:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"id",hash:{},data:a}):i))+'"'},3:function(t,e,n,l,a){return"set"},5:function(t,e,n,l,a){return"rule"},7:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression;return'\t\t\t\t<option value="'+c(o(null!=e?e.value:e,e))+'" '+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=e?e.value:e,"===",null!=s[1]?s[1].fromMonth:s[1],{name:"compare",hash:{},fn:t.program(8,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+c(o(null!=e?e.label:e,e))+"</option>\n"},8:function(t,e,n,l,a){return"selected"},10:function(t,e,n,l,a,i,s){var r,o=null!=e?e:{};return'\t\t\t<select class="ordinal">\n'+(null!=(r=n.each.call(o,null!=(r=null!=e?e.resources:e)?r.ordinals:r,{name:"each",hash:{},fn:t.program(11,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t</select>\n\t\t\t<select class="wday">\n'+(null!=(r=n.each.call(o,null!=(r=null!=e?e.resources:e)?r.wdays:r,{name:"each",hash:{},fn:t.program(13,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t</select>\n"},11:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression;return'\t\t\t\t\t<option value="'+c(o(null!=e?e.value:e,e))+'" '+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=e?e.value:e,"===",null!=s[1]?s[1].ordinal:s[1],{name:"compare",hash:{},fn:t.program(8,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+c(o(null!=e?e.label:e,e))+"</option>\n"},13:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression;return'\t\t\t\t\t<option value="'+c(o(null!=e?e.value:e,e))+'" '+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=e?e.value:e,"===",null!=s[1]?s[1].wday:s[1],{name:"compare",hash:{},fn:t.program(8,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+c(o(null!=e?e.label:e,e))+"</option>\n"},15:function(t,e,n,l,a,i,s){var r,o=null!=e?e:{};return'\t\t\t<select class="day from">\n'+(null!=(r=n.each.call(o,null!=(r=null!=e?e.resources:e)?r.days:r,{name:"each",hash:{},fn:t.program(16,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t</select>\n"+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(o,null!=e?e.holidayType:e,"===","range",{name:"compare",hash:{},fn:t.program(18,a,0,i,s),inverse:t.noop,data:a}))?r:"")},16:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression;return'\t\t\t\t\t<option value="'+c(o(null!=e?e.value:e,e))+'" '+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=e?e.value:e,"===",null!=s[1]?s[1].fromDay:s[1],{name:"compare",hash:{},fn:t.program(8,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+c(o(null!=e?e.value:e,e))+"</option>\n"},18:function(t,e,n,l,a,i,s){var r,o=null!=e?e:{};return'\t\t\t\t<span>to</span>\n\t\t\t\t<select class="month to">\n'+(null!=(r=n.each.call(o,null!=(r=null!=e?e.resources:e)?r.months:r,{name:"each",hash:{},fn:t.program(19,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t</select>\n\t\t\t\t<select class="day to">\n'+(null!=(r=n.each.call(o,null!=(r=null!=e?e.resources:e)?r.days:r,{name:"each",hash:{},fn:t.program(21,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t\t</select>\n"},19:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression;return'\t\t\t\t\t\t<option value="'+c(o(null!=e?e.value:e,e))+'" '+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=e?e.value:e,"===",null!=s[1]?s[1].toMonth:s[1],{name:"compare",hash:{},fn:t.program(8,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+c(o(null!=e?e.label:e,e))+"</option>\n"},21:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression;return'\t\t\t\t\t\t<option value="'+c(o(null!=e?e.value:e,e))+'" '+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=e?e.value:e,"===",null!=s[1]?s[1].toDay:s[1],{name:"compare",hash:{},fn:t.program(8,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+c(o(null!=e?e.value:e,e))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing;return'<div class="holidays-element" '+(null!=(r=n.if.call(c,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:"")+' data-type="'+(null!=(r=n.if.call(c,null!=e?e.set:e,{name:"if",hash:{},fn:t.program(3,a,0,i,s),inverse:t.program(5,a,0,i,s),data:a}))?r:"")+'">\n\t<div class="delete-holiday">\n\t\t<i class="fa fa-trash-o monster-red"></i>\n\t</div>\n\t<div class="holiday-inputs">\n\t\t<input type="text" class="name" value="'+t.escapeExpression((o=null!=(o=n.name||(null!=e?e.name:e))?o:u,"function"==typeof o?o.call(c,{name:"name",hash:{},data:a}):o))+'">\n\t\t<select class="month from">\n'+(null!=(r=n.each.call(c,null!=(r=null!=e?e.resources:e)?r.months:r,{name:"each",hash:{},fn:t.program(7,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t</select>\n"+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=e?e.holidayType:e,"===","advanced",{name:"compare",hash:{},fn:t.program(10,a,0,i,s),inverse:t.program(15,a,0,i,s),data:a}))?r:"")+"\t</div>\n</div>"},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["strategy-holidays"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t<input type="checkbox" name="holidays.enabled" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.enabled:e,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+">\n"},2:function(t,e,n,l,a){return"checked"},4:function(t,e,n,l,a){return'style="display:block;"'},6:function(t,e,n,l,a){var i;return"\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.holidays:i)?i.helpHolidays:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=null!=e?e:{},c=n.helperMissing,u=t.lambda,d=t.escapeExpression,p='<div class="holidays-toggler">\n\t<label>\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||c).call(o,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.holidays:i)?i.enableTitle:i,{name:"monsterCheckbox",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'\t</label>\n</div>\n\n<div class="holidays-div" '+(null!=(i=n.if.call(o,null!=e?e.enabled:e,{name:"if",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'>\n\t<div class="holidays-add navbar clearfix">\n\t\t<ul class="nav pull-right">\n\t\t\t<li class="dropdown">\n\t\t\t\t<a class="dropdown-toggle" data-toggle="dropdown" data-target="#" href="#">'+d(u(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.holidays:i)?i.addLink:i,e))+'</a>\n\t\t\t\t<ul class="dropdown-menu" role="menu">\n\t\t\t\t\t<li><a class="add-holidays-link" data-type="single" href="#">'+d(u(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.holidays:i)?i.singleLink:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="add-holidays-link" data-type="range" href="#">'+d(u(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.holidays:i)?i.rangeLink:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="add-holidays-link" data-type="advanced" href="#">'+d(u(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.holidays:i)?i.advancedLink:i,e))+'</a></li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<div class="holidays-list"></div>\n\n';return s=null!=(s=n.monsterText||(null!=e?e.monsterText:e))?s:c,r={name:"monsterText",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a},i="function"==typeof s?s.call(o,r):s,n.monsterText||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(p+=i),p+'</div>\n\n<div class="holidays-actions basic-actions">\n\t<a href="#" class="cancel-link monster-link blue">'+d(u(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t<button class="monster-button monster-button-success save-button">'+d(u(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n</div>"},useData:!0}),this.monster.cache.templates.voip["strategy-hours"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'<input type="radio" name="enabled" value="false" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.alwaysOpen:e,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+">"},2:function(t,e,n,l,a){return"checked"},4:function(t,e,n,l,a){var i;return'<input type="radio" name="enabled" value="true" '+(null!=(i=n.unless.call(null!=e?e:{},null!=e?e.alwaysOpen:e,{name:"unless",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+">"},6:function(t,e,n,l,a){return'style="display: block;"'},8:function(t,e,n,l,a){var i,s=null!=e?e:{},r=t.lambda,o=t.escapeExpression;return'\t\t\t\t<div class="custom-day">\n\t\t\t\t\t<span class="status pull-right">'+(null!=(i=n.if.call(s,null!=e?e.open:e,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.program(11,a,0),data:a}))?i:"")+'</span>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label class="custom-day-label">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||n.helperMissing).call(s,null!=e?e.label:e,{name:"monsterCheckbox",hash:{},fn:t.program(13,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<span class="timepickers" '+(null!=(i=n.unless.call(s,null!=e?e.open:e,{name:"unless",hash:{},fn:t.program(15,a,0),inverse:t.noop,data:a}))?i:"")+'>\n\t\t\t\t\t\t\t<input required class="from-hour timepicker" type="text" name="weekdays.'+o(r(null!=e?e.name:e,e))+'.from" value="'+o(r(null!=e?e.from:e,e))+'">\n\t\t\t\t\t\t\t'+o(r((i=(i=(i=(i=a&&a.root)&&i.i18n)&&i.strategy)&&i.hours)&&i.to,e))+'\n\t\t\t\t\t\t\t<input required class="to-hour timepicker" type="text" name="weekdays.'+o(r(null!=e?e.name:e,e))+'.to" value="'+o(r(null!=e?e.to:e,e))+'">\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n'},9:function(t,e,n,l,a){var i;return t.escapeExpression(t.lambda((i=(i=(i=a&&a.root)&&i.i18n)&&i.strategy)&&i.open,e))},11:function(t,e,n,l,a){var i;return t.escapeExpression(t.lambda((i=(i=(i=a&&a.root)&&i.i18n)&&i.strategy)&&i.closed,e))},13:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input type="checkbox" name="opendays[]" value="'+t.escapeExpression(t.lambda(null!=e?e.name:e,e))+'" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.open:e,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+">\n"},15:function(t,e,n,l,a){return'style="display:none;"'},17:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t<input type="checkbox" name="lunchbreak.enabled" '+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.lunchbreak:e)?i.enabled:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+">\n"},19:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return"\t\t\t\t<p>"+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.hours:i)?i.helpAfterHours:i,e))+"</p>\n\t\t\t\t<p>"+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.hours:i)?i.helpLunchHours:i,e))+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=null!=e?e:{},c=n.helperMissing,u=t.lambda,d=t.escapeExpression,p="function",m='<div>\n\t<form id="strategy_custom_hours_form">\n\t\t<div class="custom-hours-toggler">\n\t\t\t<label>\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+(null!=(i=(n.monsterRadio||e&&e.monsterRadio||c).call(o,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.hours:i)?i.alwaysOpenTitle:i,{name:"monsterRadio",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t\t\t</div>\n\t\t\t\t<div class="description">\n\t\t\t\t\t'+d(u(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.hours:i)?i.alwaysOpenDescription:i,e))+'\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t\t<label>\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+(null!=(i=(n.monsterRadio||e&&e.monsterRadio||c).call(o,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.hours:i)?i.customHoursTitle:i,{name:"monsterRadio",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t\t\t</div>\n\t\t\t\t<div class="description">\n\t\t\t\t\t'+d(u(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.hours:i)?i.customHoursDescription:i,e))+'\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t</div>\n\n\t\t<div class="custom-hours-div" '+(null!=(i=n.unless.call(o,null!=e?e.alwaysOpen:e,{name:"unless",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+'>\n\t\t\t<div class="custom-hours-header">\n\t\t\t\t<div class="pull-right timezone-container">\n\t\t\t\t\t'+d(u(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.hours:i)?i.timezone:i,e))+'\n\t\t\t\t\t<span id="strategy_custom_hours_timezone" class="timezone">'+d((s=null!=(s=n.companyTimezone||(null!=e?e.companyTimezone:e))?s:c,typeof s===p?s.call(o,{name:"companyTimezone",hash:{},data:a}):s))+'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="title">'+d(u(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.hours:i)?i.listTitle:i,e))+'</div>\n\t\t\t</div>\n\t\t\t<div class="custom-days">\n'+(null!=(i=n.each.call(o,null!=e?e.days:e,{name:"each",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t</div>\n\t\t\t<div class="custom-hours-lunchbreak">\n\t\t\t\t<label>\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||c).call(o,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.hours:i)?i.lunchbreakTitle:i,{name:"monsterCheckbox",hash:{},fn:t.program(17,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t</label>\n\t\t\t\t<span class="timepickers" '+(null!=(i=n.unless.call(o,null!=(i=null!=e?e.lunchbreak:e)?i.enabled:i,{name:"unless",hash:{},fn:t.program(15,a,0),inverse:t.noop,data:a}))?i:"")+'>\n\t\t\t\t\t<input required class="from-hour timepicker" type="text" name="lunchbreak.from" value="'+d(u(null!=(i=null!=e?e.lunchbreak:e)?i.from:i,e))+'">\n\t\t\t\t\t'+d(u(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.hours:i)?i.to:i,e))+'\n\t\t\t\t\t<input required class="to-hour timepicker" type="text" name="lunchbreak.to" value="'+d(u(null!=(i=null!=e?e.lunchbreak:e)?i.to:i,e))+'">\n\t\t\t\t</span>\n\t\t\t</div>\n\n';return s=null!=(s=n.monsterText||(null!=e?e.monsterText:e))?s:c,r={name:"monsterText",hash:{},fn:t.program(19,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(o,r):s,n.monsterText||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(m+=i),m+'\t\t</div>\n\t\t<div class="custom-hours-actions basic-actions">\n\t\t\t<a href="#" class="monster-link blue cancel-link">'+d(u(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button class="monster-button monster-button-success save-button">'+d(u(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</form>\n</div>"},useData:!0}),this.monster.cache.templates.voip["strategy-layout"]=Handlebars.template({1:function(t,e,n,l,a){var i;return null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.mainNumbers:e)?i[2]:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.program(4,a,0),data:a}))?i:""},2:function(t,e,n,l,a){return'\t\t\t\t\t\t\t\t<i class="icon-telicon-multiple-items icon-small"></i>\n'},4:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t\t, "+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=(i=null!=e?e.mainNumbers:e)?i[1]:i,{name:"formatPhoneNumber",hash:{},data:a}))+"\n"},6:function(t,e,n,l,a){var i;return null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.confNumbers:e)?i[2]:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.program(7,a,0),data:a}))?i:""},7:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t\t, "+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=(i=null!=e?e.confNumbers:e)?i[1]:i,{name:"formatPhoneNumber",hash:{},data:a}))+"\n"},9:function(t,e,n,l,a){return'style="display:none"'},11:function(t,e,n,l,a){var i;return null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.faxingNumbers:e)?i[2]:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.program(12,a,0),data:a}))?i:""},12:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t\t, "+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},null!=(i=null!=e?e.faxingNumbers:e)?i[1]:i,{name:"formatPhoneNumber",hash:{},data:a}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression,o=null!=e?e:{},c=n.helperMissing;return'<div id="strategy_container">\n\t<div class="element-container helper">\n\t\t<i class="fa fa-info-circle"></i>\n\t\t<p>'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.noNumberHelp:i,e))+'</p>\n\t</div>\n\t<div class="element-container main-number" data-template="numbers">\n\t\t<div class="element-header-outer clearfix">\n\t\t\t<div class="element-header-inner">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="fa fa-phone"></i>\n\t\t\t\t\t<span>'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.sectionTitles:i)?i.numbers:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="summary">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t'+r((n.formatPhoneNumber||e&&e.formatPhoneNumber||c).call(o,null!=(i=null!=e?e.mainNumbers:e)?i[0]:i,{name:"formatPhoneNumber",hash:{},data:a}))+"\n"+(null!=(i=n.if.call(o,null!=(i=null!=e?e.mainNumbers:e)?i[1]:i,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</span>\n\t\t\t\t\t<i class="fa fa-play"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="element-content"></div>\n\t</div>\n\t<div class="element-container strategy-hours" data-template="hours">\n\t\t<div class="element-header-outer clearfix">\n\t\t\t<div class="element-header-inner">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="fa fa-phone"></i>\n\t\t\t\t\t<span>'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.sectionTitles:i)?i.hours:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="summary">\n\t\t\t\t\t<span></span>\n\t\t\t\t\t<i class="fa fa-play"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="element-content"></div>\n\t</div>\n\t<div class="element-container strategy-holidays" data-template="holidays">\n\t\t<div class="element-header-outer clearfix">\n\t\t\t<div class="element-header-inner">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="fa fa-phone"></i>\n\t\t\t\t\t<span>'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.sectionTitles:i)?i.holidays:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="summary">\n\t\t\t\t\t<span></span>\n\t\t\t\t\t<i class="fa fa-play"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="element-content"></div>\n\t</div>\n\t<div class="element-container strategy-calls" data-template="calls">\n\t\t<div class="element-header-outer clearfix">\n\t\t\t<div class="element-header-inner">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="fa fa-phone"></i>\n\t\t\t\t\t<span>'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.sectionTitles:i)?i.calls:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="summary">\n\t\t\t\t\t<span></span>\n\t\t\t\t\t<i class="fa fa-play"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="element-content"></div>\n\t</div>\n\t<div class="element-container strategy-confnum" data-template="confnum">\n\t\t<div class="element-header-outer clearfix">\n\t\t\t<div class="element-header-inner">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="fa fa-comments"></i>\n\t\t\t\t\t<span>'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.sectionTitles:i)?i.confnum:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="summary">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t'+r((n.formatPhoneNumber||e&&e.formatPhoneNumber||c).call(o,null!=(i=null!=e?e.confNumbers:e)?i[0]:i,{name:"formatPhoneNumber",hash:{},data:a}))+"\n"+(null!=(i=n.if.call(o,null!=(i=null!=e?e.confNumbers:e)?i[1]:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</span>\n\t\t\t\t\t<i class="fa fa-play"></i>\n\t\t\t\t</div>\n\t\t\t\t<i class="fa fa-volume-up monster-primary-color custom-greeting-icon" data-original-title="'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.customConferenceGreeting:i)?i.tooltip:i,e))+'" data-placement="top" data-toggle="tooltip" '+(null!=(i=n.unless.call(o,null!=e?e.customConfGreeting:e,{name:"unless",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a}))?i:"")+'></i>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="element-content"></div>\n\t</div>\n\t<div class="element-container strategy-faxingnum" data-template="faxingnum">\n\t\t<div class="element-header-outer clearfix">\n\t\t\t<div class="element-header-inner">\n\t\t\t\t<div class="title">\n\t\t\t\t\t<i class="fa fa-fax"></i>\n\t\t\t\t\t<span>'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.sectionTitles:i)?i.faxingnum:i,e))+'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="summary">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t'+r((n.formatPhoneNumber||e&&e.formatPhoneNumber||c).call(o,null!=(i=null!=e?e.faxingNumbers:e)?i[0]:i,{name:"formatPhoneNumber",hash:{},data:a}))+"\n"+(null!=(i=n.if.call(o,null!=(i=null!=e?e.faxingNumbers:e)?i[1]:i,{name:"if",hash:{},fn:t.program(11,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</span>\n\t\t\t\t\t<i class="fa fa-play"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="element-content"></div>\n\t</div>\n</div>\n'},useData:!0}),this.monster.cache.templates.voip["strategy-menuLine"]=Handlebars.template({1:function(t,e,n,l,a){return"editing"},3:function(t,e,n,l,a){return'\t\t<option value="_">Default action</option>\n\t\t<option value="0">0</option>\n\t\t<option value="1">1</option>\n\t\t<option value="2">2</option>\n\t\t<option value="3">3</option>\n\t\t<option value="4">4</option>\n\t\t<option value="5">5</option>\n\t\t<option value="6">6</option>\n\t\t<option value="7">7</option>\n\t\t<option value="8">8</option>\n\t\t<option value="9">9</option>\n\t\t<option value="*">*</option>\n'},5:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d="function",p=t.escapeExpression;return'\t\t\t\t<optgroup label="'+p((o=null!=(o=n.groupName||(null!=e?e.groupName:e))?o:u,typeof o===d?o.call(c,{name:"groupName",hash:{},data:a}):o))+'" data-icon="'+p((o=null!=(o=n.groupIcon||(null!=e?e.groupIcon:e))?o:u,typeof o===d?o.call(c,{name:"groupIcon",hash:{},data:a}):o))+'">\n'+(null!=(r=n.each.call(c,null!=e?e.entities:e,{name:"each",hash:{},fn:t.program(6,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t\t\t</optgroup>\n"},6:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d="function",p=t.escapeExpression;return'\t\t\t\t\t\t<option value="'+p((o=null!=(o=n.id||(null!=e?e.id:e))?o:u,typeof o===d?o.call(c,{name:"id",hash:{},data:a}):o))+'" data-type="'+p((o=null!=(o=n.module||(null!=e?e.module:e))?o:u,typeof o===d?o.call(c,{name:"module",hash:{},data:a}):o))+'" '+(null!=(r=(n.compare||e&&e.compare||u).call(c,null!=e?e.id:e,"===",null!=s[2]?s[2].selectedId:s[2],{name:"compare",hash:{},fn:t.program(7,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+p((o=null!=(o=n.name||(null!=e?e.name:e))?o:u,typeof o===d?o.call(c,{name:"name",hash:{},data:a}):o))+"</option>\n"},7:function(t,e,n,l,a){return"selected"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o=null!=e?e:{},c=t.lambda,u=t.escapeExpression;return'<div class="menu-line '+(null!=(r=n.unless.call(o,null!=e?e.number:e,{name:"unless",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">\n\t<div class="text">'+u(c(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.popup:r)?r.pressKey:r,e))+'</div>\n\t<select class="number-input span1">\n'+(null!=(r=(n.select||e&&e.select||n.helperMissing).call(o,null!=e?e.number:e,{name:"select",hash:{},fn:t.program(3,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t</select>\n\t<div class="text">'+u(c(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.strategy:r)?r.popup:r)?r.for:r,e))+'</div>\n\t<div class="input-prepend target-input">\n\t\t<span class="add-on"><i class="target-icon"></i></span>\n\t\t<select class="target-select">\n'+(null!=(r=n.each.call(o,null!=e?e.callEntities:e,{name:"each",hash:{},fn:t.program(5,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t</select>\n\t</div>\n\t<i class="remove-btn fa fa-times monster-lightgrey"></i>\n</div>'},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["strategy-menuPopup"]=Handlebars.template({1:function(t,e,n,l,a){return"active"},3:function(t,e,n,l,a){var i;return"\t\t\t\t\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.greetingsHelp:i,e))+"\n"},5:function(t,e,n,l,a){var i;return t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.greeting:e)?i.tts:i)?i.text:i,e))},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d=n.helperMissing,p="function",m=n.blockHelperMissing,f='<div id="strategy_menu_popup">\n\t<div class="info-block">\n\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.infoBlock:i,e))+'\n\t</div>\n\t<div class="menu-block clearfix">\n\t\t<div class="left">\n\t\t\t<div class="title">'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.menuTitle:i,e))+'</div>\n\t\t\t<div class="content">\n\t\t\t</div>\n\t\t\t<div class="add-menu-line">\n\t\t\t\t<a class="monster-link blue" href="#">'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.addRouteLink:i,e))+'</a>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="right">\n\t\t\t<div class="title">'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.greetingsTitle:i,e))+'</div>\n\t\t\t<div class="content">\n\t\t\t\t<div id="strategy_menu_popup_accordion">\n\t\t\t\t\t<div class="greeting-option accordion-group '+(null!=(i=(n.compare||e&&e.compare||d).call(u,null!=(i=null!=e?e.greeting:e)?i.media_source:i,"===","tts",{name:"compare",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t\t\t<div class="greeting-option-header" data-toggle="collapse" \n\t\t\t\t\t\t\t data-parent="#strategy_menu_popup_accordion" \n\t\t\t\t\t\t\t data-target="#strategy_menu_popup_tts_greeting">\n\t\t\t\t\t\t\t<div class="pull-right"><i class="fa fa-comment"></i></div>\n\t\t\t\t\t\t\t<div>'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.ttsGreetingTitle:i,e))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="collapse" id="strategy_menu_popup_tts_greeting">\n\t\t\t\t\t\t\t<div class="greeting-option-content">\n';return s=null!=(s=n.monsterText||(null!=e?e.monsterText:e))?s:d,r={name:"monsterText",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterText||(i=m.call(e,i,r)),null!=i&&(f+=i),f+='\t\t\t\t\t\t\t\t<textarea placeholder="'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.ttsGreetingPlaceholder:i,e))+'">\n\t\t\t\t\t\t\t\t\t'+(null!=(i=(n.compare||e&&e.compare||d).call(u,null!=(i=null!=e?e.greeting:e)?i.media_source:i,"===","tts",{name:"compare",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t\t<div class="greeting-option-actions clearfix">\n\t\t\t\t\t\t\t\t\t<button class="update-greeting pull-right monster-button-mini monster-button-primary">'+c(o(null!=(i=null!=e?e.i18n:e)?i.update:i,e))+'</button>\n\t\t\t\t\t\t\t\t\t<button class="cancel-greeting pull-right monster-button-mini">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="greeting-option accordion-group '+(null!=(i=(n.compare||e&&e.compare||d).call(u,null!=(i=null!=e?e.greeting:e)?i.media_source:i,"===","upload",{name:"compare",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t\t\t<div class="greeting-option-header" data-toggle="collapse" \n\t\t\t\t\t\t\t data-parent="#strategy_menu_popup_accordion" \n\t\t\t\t\t\t\t data-target="#strategy_menu_popup_upload_greeting">\n\t\t\t\t\t\t\t<div class="pull-right"><i class="fa fa-upload"></i></div>\n\t\t\t\t\t\t\t<div>'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.uploadGreetingTitle:i,e))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="collapse" id="strategy_menu_popup_upload_greeting">\n\t\t\t\t\t\t\t<div class="greeting-option-content">\n',
s=null!=(s=n.monsterText||(null!=e?e.monsterText:e))?s:d,r={name:"monsterText",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterText||(i=m.call(e,i,r)),null!=i&&(f+=i),f+'\t\t\t\t\t\t\t\t<input type="file" class="upload-input" accept="audio/*">\n\t\t\t\t\t\t\t\t<div class="greeting-option-actions clearfix">\n\t\t\t\t\t\t\t\t\t<button class="update-greeting pull-right monster-button-mini monster-button-primary">'+c(o(null!=(i=null!=e?e.i18n:e)?i.update:i,e))+'</button>\n\t\t\t\t\t\t\t\t\t<button class="cancel-greeting pull-right monster-button-mini">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="greeting-option accordion-group '+(null!=(i=(n.compare||e&&e.compare||d).call(u,null!=(i=null!=e?e.greeting:e)?i.media_source:i,"===","recording",{name:"compare",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t\t\t<div class="greeting-option-header" data-toggle="collapse" \n\t\t\t\t\t\t\t data-parent="#strategy_menu_popup_accordion" \n\t\t\t\t\t\t\t data-target="#strategy_menu_popup_record_greeting">\n\t\t\t\t\t\t\t<div class="pull-right"><i class="fa fa-info-circle"></i></div>\n\t\t\t\t\t\t\t<div>'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.recordGreetingTitle:i,e))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="collapse" id="strategy_menu_popup_record_greeting">\n\t\t\t\t\t\t\t<div class="greeting-option-content">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.recordGreetingInfo:i,e))+'\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<ol style=" margin-top: 15px; margin-bottom: 0; ">\n\t\t\t\t\t\t\t\t\t<li>'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.recordGreetingLines:i)?i.line1:i,e))+"</li>\n\t\t\t\t\t\t\t\t\t<li>"+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.recordGreetingLines:i)?i.line2:i,e))+"</li>\n\t\t\t\t\t\t\t\t\t<li>"+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.recordGreetingLines:i)?i.line3:i,e))+' <span class="record-pin">'+c(o(null!=(i=null!=e?e.menu:e)?i.record_pin:i,e))+"</span></li>\n\t\t\t\t\t\t\t\t\t<li>"+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popup:i)?i.recordGreetingLines:i)?i.line4:i,e))+'</li>\n\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="action-block clearfix">\n\t\t<button class="save-button monster-button monster-button-success pull-right">'+c(o(null!=(i=null!=e?e.i18n:e)?i.save:i,e))+'</button>\n\t\t<a href="#" class="monster-link blue cancel-link pull-right">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+"</a>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates.voip["strategy-numbers"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression,o=null!=e?e:{},c=n.helperMissing;return'\t\t<div class="number-element" data-phoneNumber="'+r(s(null!=(i=null!=e?e.number:e)?i.id:i,e))+'">\n\t\t\t<div class="number">\n\t\t\t\t<button type="button" class="monster-button monster-button-danger remove-number" data-number="'+r(s(null!=(i=null!=e?e.number:e)?i.id:i,e))+'" data-e911="'+(null!=(i=(n.ifInArray||e&&e.ifInArray||c).call(o,"e911",null!=(i=null!=e?e.number:e)?i.features:i,{name:"ifInArray",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t\t'+r(s((i=(i=a&&a.root)&&i.i18n)&&i.unassign,e))+"\n\t\t\t\t</button>\n\t\t\t\t<span>"+r((n.formatPhoneNumber||e&&e.formatPhoneNumber||c).call(o,null!=(i=null!=e?e.number:e)?i.id:i,{name:"formatPhoneNumber",hash:{},data:a}))+'</span>\n\t\t\t</div>\n\t\t\t<div class="features-block pull-right">\n\t\t\t\t<div class="edit-features"></div>\n\t\t\t\t<div class="features">\n\t\t\t\t\t'+(null!=(i=(n.numberFeatures||e&&e.numberFeatures||c).call(o,null!=(i=null!=e?e.number:e)?i.features:i,{name:"numberFeatures",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n"},2:function(t,e,n,l,a){return"active"},4:function(t,e,n,l,a){return""},6:function(t,e,n,l,a){var i;return'\t\t<div class="number-element">\n\t\t\t<div class="no-number-error">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.noNumberMessage:i,e))+"</div>\n\t\t</div>\n"},8:function(t,e,n,l,a){return" disabled"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=null!=e?e:{},r=t.lambda,o=t.escapeExpression;return'<div class="strategy-numbers-wrapper">\n'+(null!=(i=n.each.call(s,null!=e?e.numbers:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.program(6,a,0),data:a}))?i:"")+'\n\t<div class="number-actions">\n\t\t<a href="#" class="cancel-link pull-right monster-link blue">'+o(r(null!=(i=null!=e?e.i18n:e)?i.close:i,e))+'</a>\n\t\t<div class="action-links nav-bar clearfix">\n\t\t\t<a href="#" class="spare-link monster-link pull-left'+(null!=(i=n.unless.call(s,null!=e?e.spareLinkEnabled:e,{name:"unless",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+'"><i class="fa fa-file-text-o monster-orange fa-lg"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.spare:i,e))+'</a>\n\t\t\t<ul class="nav pull-left">\n\t\t\t\t<li class="dropdown">\n\t\t\t\t\t<a href="#" class="dropdown-toggle buy-dropdown monster-link" data-toggle="dropdown" data-target="#"><i class="fa fa-shopping-cart monster-green fa-lg"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.link:i,e))+'</a>\n\t\t\t\t\t<ul class="dropdown-menu" role="menu">\n\t\t\t\t\t\t<li><a class="buy-link" data-type="regular" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.regular:i,e))+'</a></li>\n\t\t\t\t\t\t<li><a class="buy-link" data-type="tollfree" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.tollfree:i,e))+'</a></li>\n\t\t\t\t\t\t<!-- <li><a class="buy-link" data-type="vanity" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.vanity:i,e))+"</a></li> -->\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["strategy-popupEditFaxbox"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=t.lambda,o=t.escapeExpression,c=null!=e?e:{};return'<div class="monster-feature-popup-container" data-feature="faxing">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="icon-telicon-fax"></i>\n\t\t</div>\n\t\t'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popupEditFaxbox:i)?i.text:i,e))+'\n\t</div>\n\n\t<div class="content">\n\t\t<form class="form-horizontal" id="faxbox_form">\n\t\t\t<div class="contorl-group">\n\t\t\t\t<label for="email" class="control-label">\n\t\t\t\t\t'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popupEditFaxbox:i)?i.labels:i)?i.inbound:i,e))+'\n\t\t\t\t</label>\n\t\t\t\t<div class="controls">\n\t\t\t\t\t<input type="text" id="email" name="email" value="'+o((s=null!=(s=n.email||(null!=e?e.email:e))?s:n.helperMissing,"function"==typeof s?s.call(c,{name:"email",hash:{},data:a}):s))+'">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n'+(null!=(i=n.if.call(c,null!=e?e.email:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t<button type="button" class="monster-button monster-button-success save">'+o(r(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["strategy-popupRemoveFeatures"]=Handlebars.template({1:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression;return'\t\t\t<tr>\n\t\t\t\t<td data-name="'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'">\n\t\t\t\t\t<label class="checkbox" for="'+u((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===c?s.call(r,{name:"name",hash:{},data:a}):s))+'">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=e?e.friendlyName:e,{name:"monsterCheckbox",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"\t\t\t\t\t</label>\n\t\t\t\t</td>\n\t\t\t</tr>\n"},2:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t<input type="checkbox" id="'+t.escapeExpression((i=null!=(i=n.name||(null!=e?e.name:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"name",hash:{},data:a}):i))+'">\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression,o=null!=e?e:{};return'<div id="action_confirmation">\n\t<h4>'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popupRemoveFeatures:i)?i.questionPartOne:i,e))+' <span class="monster-primary-color">'+r((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(o,null!=e?e.phoneNumber:e,{name:"formatPhoneNumber",hash:{},data:a}))+"</span> "+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popupRemoveFeatures:i)?i.questionPartTwo:i,e))+'</h4>\n\t<div class="table-wrapper">\n\t\t<table class="table">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th>'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.popupRemoveFeatures:i)?i.featuresToRemove:i,e))+"</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n"+(null!=(i=n.each.call(o,null!=e?e.featureList:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t</tbody>\n\t\t</table>\n\t</div>\n\t<div class="actions pull-right">\n\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+r(s(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t<button class="monster-button monster-button-danger" id="remove_features">'+r(s(null!=(i=null!=e?e.i18n:e)?i.remove:i,e))+"</button>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates.voip["users-changePassword"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return"\t\t\t"+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogChangePassword:i)?i.help:i,e))+"\n\t\t\t<br/><br/>\n\t\t\t"+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogChangePassword:i)?i.resetPassword:i)?i.text:i,e))+'\n\t\t\t<a class="monster-link blue reset-password" href="javascript:void(0)">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogChangePassword:i)?i.resetPassword:i)?i.linkTitle:i,e))+"</a>.\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d=n.helperMissing,p="function",m='<div class="change-password-popup smart-edit-popup">\n\t<div class="content">\n\t\t<form id="form_new_username" class="form-horizontal">\n\t\t\t<div class="control-group">\n\t\t\t\t<label class="control-label" for="inputEmail">'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogChangePassword:i)?i.username:i,e))+'</label>\n\t\t\t\t<div class="controls">\n\t\t\t\t\t<input required name="username" type="email" id="inputEmail" placeholder="Email" value="'+c((s=null!=(s=n.username||(null!=e?e.username:e))?s:d,typeof s===p?s.call(u,{name:"username",hash:{},data:a}):s))+'">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="control-group">\n\t\t\t\t<label class="control-label" for="inputPassword">'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogChangePassword:i)?i.password:i,e))+'</label>\n\t\t\t\t<div class="controls">\n\t\t\t\t\t<input required name="password" type="password" id="inputPassword" placeholder="'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogChangePassword:i)?i.passwordPlaceholder:i,e))+'">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n';return s=null!=(s=n.monsterText||(null!=e?e.monsterText:e))?s:d,r={name:"monsterText",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterText||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(m+=i),m+'\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save-new-username">'+c(o(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-changePin"]=Handlebars.template({1:function(t,e,n,l,a){var i;return"\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogChangePin:i)?i.help:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u='<div class="change-pin-popup smart-edit-popup">\n\t<div class="content">\n\t\t<form id="form_new_pin" class="form-horizontal">\n\t\t\t<div class="control-group">\n\t\t\t\t<label class="control-label" for="inputPin">'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogChangePin:i)?i.pin:i,e))+'</label>\n\t\t\t\t<div class="controls">\n\t\t\t\t\t<input required name="pin" type="text" id="inputPin" placeholder="'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogChangePin:i)?i.pinPlaceholder:i,e))+'" value="">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\n';return s=null!=(s=n.monsterText||(null!=e?e.monsterText:e))?s:n.helperMissing,r={name:"monsterText",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i="function"==typeof s?s.call(null!=e?e:{},r):s,n.monsterText||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(u+=i),u+'\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save-new-pin">'+c(o(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-changePresenceIDPopup"]=Handlebars.template({1:function(t,e,n,l,a){var i=t.escapeExpression;return'\t\t\t<div class="presence-id-option" data-number="'+i(t.lambda(e,e))+'">'+i((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},e,{name:"formatPhoneNumber",hash:{},data:a}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'<div class="presence-id-change-wrapper">\n\t<div class="header">\n\t\t'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.presenceIDPopup:i)?i.header:i,e))+'\n\t</div>\n\n\t<div class="list-choices">\n'+(null!=(i=n.each.call(null!=e?e:{},null!=e?e.numbers:e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t<div class="presence-id-option" data-number="none"> \n\t\t\t'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.presenceIDPopup:i)?i.none:i,e))+'\n\t\t</div>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+r(s(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save-presence-id">'+r(s(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates.voip["users-creation"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t\t\t<input id="include_directory" type="checkbox" name="extra.includeInDirectory"'+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.includeInDirectory:e,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){var i;return'\t\t\t\t\t<input id="notification_email" type="checkbox" name="extra.differentEmail"'+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.sendToDifferentEmail:e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},5:function(t,e,n,l,a){return" checked"},7:function(t,e,n,l,a){return" hidden"},9:function(t,e,n,l,a){return'\t\t\t\t\t<input id="send_email_on_creation" type="checkbox" name="user.send_email_on_creation"></input>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=t.lambda,o=t.escapeExpression,c=null!=e?e:{},u=n.helperMissing;return'<div id="creation_user_dialog">\n\t<form class="form-horizontal small-labels" id="form_user_creation">\n\t<div>\n\t\t<div class="control-group">\n\t\t\t<label class="control-label" for="first_name"><i class="fa fa-user"></i></label>\n\t\t\t<div class="controls">\n\t\t\t\t<input required class="input-small" type="text" id="first_name" name="user.first_name" placeholder="'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogCreationUser:i)?i.firstName:i,e))+'"></input>\n\t\t\t\t<input required class="same-line input-small" type="text" name="user.last_name" placeholder="'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogCreationUser:i)?i.lastName:i,e))+'"></input>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="control-group">\n\t\t\t<label class="control-label" for="email"><i class="fa fa-key"></i></label>\n\t\t\t<div class="controls">\n\t\t\t\t<input required type="email" name="user.username" id="username" placeholder="'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogCreationUser:i)?i.loginEmail:i,e))+'"/>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="control-group">\n\t\t\t<label class="control-label" for="password"><i class="fa fa-unlock"></i></label>\n\t\t\t<div class="controls">\n\t\t\t\t<input required type="password" name="user.password" id="password" placeholder="'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogCreationUser:i)?i.password:i,e))+'"/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div>\n\t\t<div class="control-group">\n\t\t\t<label class="control-label" for="extension"><i class="icon-telicon-extensions"></i></label>\n\t\t\t<div class="controls">\n\t\t\t\t<span class="extension-label">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogCreationUser:i)?i.extension:i,e))+'</span>\n\t\t\t\t<input required maxlength="6" type="text" name="callflow.extension" id="extension" value="'+o((s=null!=(s=n.nextExtension||(null!=e?e.nextExtension:e))?s:u,"function"==typeof s?s.call(c,{name:"nextExtension",hash:{},data:a}):s))+'"/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div>\n\t\t<div class="control-group hack-left">\n\t\t\t<label class="control-label" for="include_directory"></label>\n\t\t\t<div class="controls">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.includeInDirectory:i,{name:"monsterCheckbox",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t</div>\n\t\t</div>\n\t\t<div class="control-group hack-left">\n\t\t\t<label class="control-label" for="notification_email"></label>\n\t\t\t<div class="controls">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogCreationUser:i)?i.sendToDifferentEmail:i,{name:"monsterCheckbox",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t</div>\n\t\t</div>\n\t\t<div class="control-group email-group'+(null!=(i=n.unless.call(c,null!=e?e.sendToDifferentEmail:e,{name:"unless",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t<label class="control-label" for="email"><i class="fa fa-envelope"></i></label>\n\t\t\t<div class="controls">\n\t\t\t\t<input type="email" name="extra.email" id="email" placeholder="'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogCreationUser:i)?i.notificationEmail:i,e))+'">\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="control-group hack-left">\n\t\t\t<label class="control-label" for="send_email_on_creation"></label>\n\t\t\t<div class="controls">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogCreationUser:i)?i.sendWelcomeEmail:i,{name:"monsterCheckbox",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t</div>\n\t\t</div>\n\t</div>\n\t</form>\n\t<div class="dialog-buttons-wrapper">\n\t\t<button id="create_user" class="monster-button monster-button-success">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogCreationUser:i)?i.createUser:i,e))+"</button>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-deleteDialog"]=Handlebars.template({1:function(t,e,n,l,a){return'\t\t\t\t\t<input id="delete_devices" type="checkbox"></input>\n'},3:function(t,e,n,l,a){return'\t\t\t\t\t<input id="delete_conferences" type="checkbox"></input>\n'},5:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.deleteDialog:i)?i.headerAdmin:i,e))+"\n"},7:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.deleteDialog:i)?i.headerUser:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=null!=e?e:{},r=n.helperMissing,o=t.escapeExpression,c=t.lambda;return'<div class="delete-user-wrapper">\n\t<div class="alert-dialog">\n\t\t<div class="dialog-content">\n\t\t\t<div class="dialog-header">'+o((n.replaceVar||e&&e.replaceVar||r).call(s,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.deleteDialog:i)?i.deleteUserName:i,null!=(i=null!=e?e.user:e)?i.name:i,{name:"replaceVar",hash:{},data:a}))+"</div>\n\n\t\t\t<div>\n"+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||r).call(s,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.deleteDialog:i)?i.deleteDevices:i,{name:"monsterCheckbox",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+o(c(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.deleteDialog:i)?i.deleteDevicesHelp:i,e))+'" data-placement="left" data-toggle="tooltip"></i>\n\t\t\t</div>\n\n\t\t\t<div>\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||r).call(s,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.deleteDialog:i)?i.deleteConferences:i,{name:"monsterCheckbox",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t<i class="help-popover fa fa-question-circle fa-lg" data-original-title="'+o(c(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.deleteDialog:i)?i.deleteConferencesHelp:i,e))+'" data-placement="left" data-toggle="tooltip"></i>\n\t\t\t</div>\n\n\t\t\t<div class="dialog-text">\n'+(null!=(i=(n.compare||e&&e.compare||r).call(s,null!=(i=null!=e?e.user:e)?i.priv_level:i,"===","admin",{name:"compare",hash:{},fn:t.program(5,a,0),inverse:t.program(7,a,0),data:a}))?i:"")+'\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="alert-buttons-wrapper clearfix">\n\t\t\t<button class="monster-button" id="cancel_button">'+o(c(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</button>\n\t\t\t<button class="monster-button-success" id="confirm_button">'+o(c(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.deleteDialog:i)?i.proceed:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates.voip["users-devices"]=Handlebars.template({1:function(t,e,n,l,a){return" visible"},3:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t<div class="item-row assigned" data-id="'+r(s(null!=e?e.id:e,e))+'">\n\t\t\t\t\t<div class="device">\n\t\t\t\t\t\t<button type="button" class="monster-button monster-button-danger remove-device">'+r(s((i=(i=a&&a.root)&&i.i18n)&&i.unassign,e))+'</button>\n\t\t\t\t\t\t<a href="javascript:void(0);" class="edit-device-link monster-link">'+r(s(null!=e?e.name:e,e))+"</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n"},5:function(t,e,n,l,a){return"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=null!=e?e:{},r=t.lambda,o=t.escapeExpression;return'<div class="detail-devices">\n\t<div class="list-wrapper">\n\t\t<div class="list-assigned-items device-list">\n\t\t\t<div class="empty-row'+(null!=(i=n.if.call(s,null!=e?e.emptyAssigned:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.noAssignedDevices:i,e))+"\n\t\t\t</div>\n"+(null!=(i=n.each.call(s,null!=e?e.assignedDevices:e,{name:"each",hash:{},fn:t.program(3,a,0),inverse:t.program(5,a,0),data:a}))?i:"")+'\t\t</div>\n\t</div>\n\n\t<div class="actions">\n\t\t<a class="spare-devices monster-link pull-left" href="javascript:void(0);"><i class="fa fa-list monster-green"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.devices:i)?i.spareDevice:i,e))+'</a>\n\t\t<div class="dropdown pull-left">\n\t\t\t<a href="#" class="add-device monster-link dropdown-toggle" data-toggle="dropdown"><i class="fa fa-plus monster-green"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.devices:i)?i.newDevice:i,e))+'</a>\n\t\t\t<ul class="dropdown-menu">\n\t\t\t\t<li><a class="create-device" data-type="sip_device"><i class="icon-telicon-voip-phone"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.sip_device:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="cellphone"><i class="fa fa-phone"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.cellphone:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="smartphone"><i class="icon-telicon-mobile-phone"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.smartphone:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="softphone"><i class="icon-telicon-soft-phone"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.softphone:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="landline"><i class="icon-telicon-home"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.landline:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="fax"><i class="icon-telicon-fax"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.fax:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="ata"><i class="icon-telicon-ata"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.ata:i,e))+'</a></li>\n\t\t\t\t<li><a class="create-device" data-type="sip_uri"><i class="icon-telicon-voip-phone"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.types:i)?i.sip_uri:i,e))+'</a></li>\n\t\t\t</ul>\n\t\t</div>\n\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+o(r(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save-devices">'+o(r(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-extensions"]=Handlebars.template({1:function(t,e,n,l,a){return" visible"},3:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t<div class="item-row" data-id="'+r(s(e,e))+'" data-search="'+r(s(e,e))+'">\n\t\t\t\t\t<div class="number">\n\t\t\t\t\t\t<button type="button" class="monster-button monster-button-danger remove-extension">'+r(s((i=(i=a&&a.root)&&i.i18n)&&i.unassign,e))+"</button>\n\t\t\t\t\t\t"+r(s(e,e))+"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=null!=e?e:{},r=t.lambda,o=t.escapeExpression;return'<div class="detail-numbers extensions">\n\t<div class="list-wrapper">\n\t\t<div class="list-assigned-items number-list">\n\t\t\t<div class="empty-row'+(null!=(i=n.if.call(s,null!=e?e.emptyExtensions:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.noAssignedExtensions:i,e))+"\n\t\t\t</div>\n"+(null!=(i=n.each.call(s,null!=e?e.extensions:e,{name:"each",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t</div>\n\t</div>\n\n\t<div class="actions">\n\t\t<a id="add_extensions" class="monster-link" href="javascript:void(0);"><i class="fa fa-plus monster-green"></i>'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.addExtension:i,e))+'</a>\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+o(r(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save-extensions">'+o(r(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-feature-call_forward"]=Handlebars.template({1:function(t,e,n,l,a){return" monster-button-primary selected"},3:function(t,e,n,l,a){return" disabled"},5:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.failoverWarning:i,e))+"\n"},7:function(t,e,n,l,a){var i;return'\t\t\t\t\t<input type="checkbox" name="require_keypress"'+(null!=(i=n.unless.call(null!=e?e:{},null!=(i=null!=e?e.call_forward:e)?i.require_keypress:i,{name:"unless",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},8:function(t,e,n,l,a){return" checked"},10:function(t,e,n,l,a){var i;return'\t\t\t\t\t<input type="checkbox" name="direct_calls_only"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.call_forward:e)?i.direct_calls_only:i,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},12:function(t,e,n,l,a){var i;return'\t\t\t\t\t<input type="checkbox" name="keep_caller_id"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.call_forward:e)?i.keep_caller_id:i,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},14:function(t,e,n,l,a){var i;return null!=(i=(n.monsterText||e&&e.monsterText||n.helperMissing).call(null!=e?e:{},"error",{name:"monsterText",hash:{},fn:t.program(15,a,0),inverse:t.noop,data:a}))?i:""},15:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.timeoutWarning:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression,o=null!=e?e:{},c=n.helperMissing;return'<div class="monster-feature-popup-container" data-feature="call_forward">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.extra:e)?i.mapFeatures:i)?i.call_forward:i)?i.icon:i,e))+'"></i>\n\t\t</div>\n\t\t'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.headline:i,e))+'\n\n\t\t<div class="btn-group feature-select-mode">\n\t\t\t<button data-value="on" class="monster-button monster-button-fit'+(null!=(i=(n.compare||e&&e.compare||c).call(o,null!=(i=null!=e?e.extra:e)?i.callForwardMode:i,"===","on",{name:"compare",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">On</button>\n\t\t\t<button data-value="failover" class="monster-button monster-button-fit'+(null!=(i=(n.compare||e&&e.compare||c).call(o,null!=(i=null!=e?e.extra:e)?i.callForwardMode:i,"===","failover",{name:"compare",hash:{},fn:t.program(1,a,0),
inverse:t.noop,data:a}))?i:"")+'">Failover Mode</button>\n\t\t\t<button data-value="off" class="monster-button monster-button-fit'+(null!=(i=(n.compare||e&&e.compare||c).call(o,null!=(i=null!=e?e.extra:e)?i.callForwardMode:i,"===","off",{name:"compare",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">Off</button>\n\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(i=(n.compare||e&&e.compare||c).call(o,null!=(i=null!=e?e.extra:e)?i.callForwardMode:i,"===","off",{name:"compare",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t<div class="failover-info'+(null!=(i=(n.compare||e&&e.compare||c).call(o,null!=(i=null!=e?e.extra:e)?i.callForwardMode:i,"!==","failover",{name:"compare",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'">\n'+(null!=(i=(n.monsterText||e&&e.monsterText||c).call(o,"info",{name:"monsterText",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t</div>\n\t\t<form id="call_forward_form" class="form form-horizontal">\n\t\t\t<div class="control-group">\n\t\t\t\t<label class="control-label" for="phoneType">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.label:i,e))+'</label>\n\t\t\t\t<div class="controls">\n\t\t\t\t\t<select class="span2" id="phoneType" name="phoneType">\n\t\t\t\t\t\t<option value="mobile" selected>'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.mobile:i,e))+'</option>\n\t\t\t\t\t\t<option value="deskphone">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.deskphone:i,e))+'</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="control-group">\n\t\t\t\t<label for="number" class="control-label">'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.number:i,e))+'</label>\n\t\t\t\t<div class="controls">\n\t\t\t\t\t<input required id="number" type="text" name="number" class="span2" placeholder="'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.placeholder:i,e))+'" value="'+r(s(null!=(i=null!=e?e.call_forward:e)?i.number:i,e))+'">\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- <div class="main-line">\n\t\t\t\t'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.label:i,e))+'\n\t\t\t\t<input required id="number_field" type="text" name="number" class="input-medium" placeholder="'+r(s(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.placeholder:i,e))+'" value="'+r(s(null!=(i=null!=e?e.call_forward:e)?i.number:i,e))+'"></input>\n\t\t\t</div> -->\n\n\t\t\t<label class="fix-left">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||c).call(o,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.requireKeyPress:i,{name:"monsterCheckbox",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t</label>\n\t\t\t<label class="fix-left">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||c).call(o,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.directCallsOnly:i,{name:"monsterCheckbox",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t</label>\n\t\t\t<label class="fix-left">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||c).call(o,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.call_forward:i)?i.keepCallerId:i,{name:"monsterCheckbox",hash:{},fn:t.program(12,a,0),inverse:t.noop,data:a}))?i:"")+"\t\t\t</label>\n\t\t</form>\n\n"+(null!=(i=n.if.call(o,null!=(i=null!=e?e.extra:e)?i.timeoutTooShort:i,{name:"if",hash:{},fn:t.program(14,a,0),inverse:t.noop,data:a}))?i:"")+'\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+r(s(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+r(s(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-feature-call_recording"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.user:e)?i.extra:i)?i.mapFeatures:i)?i.call_recording:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},6:function(t,e,n,l,a){return'\t\t\t\t\t\t<option value="mp3">mp3</option>\n\t\t\t\t\t\t<option value="wav">wav</option>\n'},8:function(t,e,n,l,a){var i;return t.escapeExpression((i=null!=(i=n.timeLimit||(null!=e?e.timeLimit:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"timeLimit",hash:{},data:a}):i))},10:function(t,e,n,l,a){return"600"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d=n.helperMissing,p="function",m='<div class="monster-feature-popup-container" data-feature="call_recording">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.user:e)?i.extra:i)?i.mapFeatures:i)?i.call_recording:i)?i.icon:i,e))+'"></i>\n\t\t</div>\n\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.callRecording:i)?i.headline:i,e))+'\n\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:d,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(m+=i),m+'\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(i=n.unless.call(u,null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.user:e)?i.extra:i)?i.mapFeatures:i)?i.call_recording:i)?i.active:i,{name:"unless",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t<form id="call_recording_form">\n\t\t\t<div>\n\t\t\t\t<span>'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.callRecording:i)?i.urlLabel:i,e))+'</span>\n\t\t\t\t<input required name="url" type="url" placeholder="'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.callRecording:i)?i.urlPlaceholder:i,e))+'" value="'+c((s=null!=(s=n.url||(null!=e?e.url:e))?s:d,typeof s===p?s.call(u,{name:"url",hash:{},data:a}):s))+'">\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span>'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.callRecording:i)?i.formatLabel:i,e))+'</span>\n\t\t\t\t<select name="format" class="input-medium">\n'+(null!=(i=(n.select||e&&e.select||d).call(u,null!=e?e.format:e,{name:"select",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span>"+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.callRecording:i)?i.timeLimitLabel:i,e))+'</span>\n\t\t\t\t<input required name="time_limit" type="text" class="input-small" value="'+(null!=(i=n.if.call(u,null!=e?e.timeLimit:e,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.program(10,a,0),data:a}))?i:"")+'">\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+c(o(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-feature-caller_id"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" data-on-label="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off-label="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=e?e.extra:e)?i.mapFeatures:i)?i.caller_id:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},6:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression;return"\t\t\t\t<option"+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=(r=null!=(r=null!=s[1]?s[1].caller_id:s[1])?r.external:r)?r.number:r,"===",e,{name:"compare",hash:{},fn:t.program(7,a,0,i,s),inverse:t.noop,data:a}))?r:"")+' value="'+c(o(e,e))+'">'+c(o(e,e))+"</option>\n"},7:function(t,e,n,l,a){return" selected"},9:function(t,e,n,l,a){var i;return"\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.caller_id:i)?i.help:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o,c,u=t.lambda,d=t.escapeExpression,p=null!=e?e:{},m=n.helperMissing,f="function",v=n.blockHelperMissing,h='<div class="monster-feature-popup-container" data-feature="caller_id">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.extra:e)?r.mapFeatures:r)?r.caller_id:r)?r.icon:r,e))+'"></i>\n\t\t</div>\n\t\t'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.users:r)?r.caller_id:r)?r.headline:r,e))+'\n\t\t<div class="switch">\n';return o=null!=(o=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?o:m,c={name:"monsterSwitch",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a},r=typeof o===f?o.call(p,c):o,n.monsterSwitch||(r=v.call(e,r,c)),null!=r&&(h+=r),h+='\t\t</div>\n\t</div>\n\t<div class="content'+(null!=(r=n.unless.call(p,null!=(r=null!=(r=null!=(r=null!=e?e.extra:e)?r.mapFeatures:r)?r.caller_id:r)?r.active:r,{name:"unless",hash:{},fn:t.program(4,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">\n\t\t'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.users:r)?r.caller_id:r)?r.dropdownLabel:r,e))+'\n\t\t<select class="caller-id-select">\n'+(null!=(r=n.each.call(p,null!=(r=null!=e?e.extra:e)?r.listCallerId:r,{name:"each",hash:{},fn:t.program(6,a,0,i,s),inverse:t.noop,data:a}))?r:"")+"\t\t</select>\n\n",o=null!=(o=n.monsterText||(null!=e?e.monsterText:e))?o:m,c={name:"monsterText",hash:{},fn:t.program(9,a,0,i,s),inverse:t.noop,data:a},r=typeof o===f?o.call(p,c):o,n.monsterText||(r=v.call(e,r,c)),null!=r&&(h+=r),h+'\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+d(u(null!=(r=null!=e?e.i18n:e)?r.cancel:r,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+d(u(null!=(r=null!=e?e.i18n:e)?r.saveChanges:r,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["users-feature-conferencing"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.user:e)?i.extra:i)?i.mapFeatures:i)?i.conferencing:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},6:function(t,e,n,l,a){return'\t\t\t\t\t\t<div class="conference-number">'+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},e,{name:"formatPhoneNumber",hash:{},data:a}))+"</div>\n"},8:function(t,e,n,l,a){var i;return"\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.conferencing:i)?i.help:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d=n.helperMissing,p="function",m=n.blockHelperMissing,f='<div class="monster-feature-popup-container" data-feature="conferencing">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.user:e)?i.extra:i)?i.mapFeatures:i)?i.conferencing:i)?i.icon:i,e))+'"></i>\n\t\t</div>\n\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.conferencing:i)?i.headline:i,e))+'\n\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:d,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterSwitch||(i=m.call(e,i,r)),null!=i&&(f+=i),f+='\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(i=n.unless.call(u,null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.user:e)?i.extra:i)?i.mapFeatures:i)?i.conferencing:i)?i.active:i,{name:"unless",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t<form id="conferencing_form">\n\t\t\t<div class="main-line">\n\t\t\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.conferencing:i)?i.number:i,e))+'\n\t\t\t\t<div class="list-numbers" data-count="'+c(o(null!=(i=null!=e?e.listConferences:e)?i.length:i,e))+'">\n'+(null!=(i=n.each.call(u,null!=e?e.listConferences:e,{name:"each",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="main-line">\n\t\t\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.conferencing:i)?i.pinLabel:i,e))+'\n\t\t\t\t<input required id="pin" type="text" name="conference_numbers[]" class="input-small" value="'+c(o(null!=(i=null!=(i=null!=e?e.conference:e)?i.conference_numbers:i)?i[0]:i,e))+'"></input>\n\t\t\t</div>\n\t\t</form>\n\n',s=null!=(s=n.monsterText||(null!=e?e.monsterText:e))?s:d,r={name:"monsterText",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterText||(i=m.call(e,i,r)),null!=i&&(f+=i),f+'\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+c(o(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-feature-faxing"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.user:e)?i.extra:i)?i.mapFeatures:i)?i.faxing:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},6:function(t,e,n,l,a){var i;return t.escapeExpression(t.lambda(null!=(i=null!=e?e.faxbox:e)?i.caller_id:i,e))},8:function(t,e,n,l,a){var i;return t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.emailToFax:i)?i.default:i,e))},10:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return"\t\t\t\t<legend>"+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.googlePrinter:i)?i.title:i,e))+"</legend>\n\t\t\t\t<p>\n\t\t\t\t\t"+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.googlePrinter:i)?i.text1:i,e))+'\n\t\t\t\t\t<a href="'+r(s(null!=(i=null!=e?e.faxbox:e)?i.cloud_connector_claim_url:i,e))+'" target="_blank">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.googlePrinter:i)?i.link:i,e))+"</a>\n\t\t\t\t\t"+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.googlePrinter:i)?i.text2:i,e))+'\n\t\t\t\t\t<a href="https://tools.google.com/dlpage/cloudprintdriver" target="_blank">'+r(s(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.googlePrinter:i)?i.link:i,e))+"</a>.\n\t\t\t\t</p>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d=n.helperMissing,p='<div class="monster-feature-popup-container" data-feature="faxing">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.user:e)?i.extra:i)?i.mapFeatures:i)?i.faxing:i)?i.icon:i,e))+'"></i>\n\t\t</div>\n\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.headline:i,e))+'\n\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:d,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i="function"==typeof s?s.call(u,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(p+=i),p+'\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(i=n.unless.call(u,null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.user:e)?i.extra:i)?i.mapFeatures:i)?i.faxing:i)?i.active:i,{name:"unless",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t<form class="form-horizontal" id="faxbox_form">\n\t\t\t<fieldset>\n\t\t\t\t<legend>'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.faxToEmail:i)?i.title:i,e))+"</legend>\n\t\t\t\t<p>\n\t\t\t\t\t"+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.faxToEmail:i)?i.text1:i,e))+'\n\t\t\t\t\t<span class="number-select"></span>\n\t\t\t\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.faxToEmail:i)?i.text2:i,e))+' <strong class="monster-primary-color">'+c(o(null!=(i=null!=e?e.user:e)?i.email:i,e))+"</strong>.\n\t\t\t\t</p>\n\t\t\t</fieldset>\n\t\t\t<fieldset>\n\t\t\t\t<legend>"+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.emailToFax:i)?i.title:i,e))+"</legend>\n\t\t\t\t<p>\n\t\t\t\t\t"+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.emailToFax:i)?i.text1:i,e))+'\n\t\t\t\t\t<strong><em><span class="number-mirror">'+(null!=(i=n.if.call(u,null!=e?e.faxbox:e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.program(8,a,0),data:a}))?i:"")+'</span></em></strong>\n\t\t\t\t\t<strong class="monster-primary-color">@'+c(o(null!=(i=null!=e?e.account:e)?i.realm:i,e))+"</strong>\n\t\t\t\t\t"+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.emailToFax:i)?i.text2:i,e))+'\n\t\t\t\t\t<strong><em><span class="number-mirror">'+(null!=(i=n.if.call(u,null!=e?e.faxbox:e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.program(8,a,0),data:a}))?i:"")+"</span></em></strong>.\n\t\t\t\t\t<br>\n\t\t\t\t\t"+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.emailToFax:i)?i.text3:i,e))+'\n\t\t\t\t\t<strong class="monster-primary-color">'+c(o(null!=(i=null!=e?e.user:e)?i.email:i,e))+'</strong>.\n\t\t\t\t</p>\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<a href="javascript:void(0);" id="helper_link" data-toggle="collapse" data-target="#helper_content">\n\t\t\t\t\t\t<span class="text">'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.emailToFax:i)?i.help:i)?i.showHelp:i,e))+'</span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<div id="helper_content" class="collapse">\n\t\t\t\t\t\t<div class="control-group">\n\t\t\t\t\t\t\t<label for="destination_number" class="control-label">'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.emailToFax:i)?i.help:i)?i.question:i,e))+'</label>\n\t\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t\t<input type="text" id="destination_number" maxlength="16" placeholder="'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.faxing:i)?i.emailToFax:i)?i.help:i)?i.placeholder:i,e))+'">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t</fieldset>\n\t\t\t<fieldset>\n'+(null!=(i=(n.compare||e&&e.compare||d).call(u,null!=(i=null!=e?e.faxbox:e)?i.cloud_state:i,"===","registered",{name:"compare",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t</fieldset>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+c(o(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-feature-find_me_follow_me"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" id="checkbox_find_me_follow_me" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.currentUser:e)?i.extra:i)?i.mapFeatures:i)?i.find_me_follow_me:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d='<div class="monster-feature-popup-container" data-feature="find_me_follow_me">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+c(o(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.currentUser:e)?i.extra:i)?i.mapFeatures:i)?i.find_me_follow_me:i)?i.icon:i,e))+'"></i>\n\t\t</div>\n\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.find_me_follow_me:i)?i.headline:i,e))+'\n\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:n.helperMissing,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i="function"==typeof s?s.call(u,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(d+=i),d+'\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(i=n.unless.call(u,null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.currentUser:e)?i.extra:i)?i.mapFeatures:i)?i.find_me_follow_me:i)?i.active:i,{name:"unless",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t<form id="find_me_follow_me_form">\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+c(o(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>"},useData:!0}),this.monster.cache.templates.voip["users-feature-hotdesk"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" name="enabled" id="checkbox_hotdesk" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=e?e.extra:e)?i.mapFeatures:i)?i.hotdesk:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},6:function(t,e,n,l,a){var i;return'\t\t\t\t\t<input type="checkbox" name="require_pin"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.hotdesk:e)?i.require_pin:i,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},7:function(t,e,n,l,a){return" checked"},9:function(t,e,n,l,a){return"disabled"},11:function(t,e,n,l,a){var i;return'\t\t\t\t\t<input type="checkbox" name="keep_logged_in_elsewhere"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.hotdesk:e)?i.keep_logged_in_elsewhere:i,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d=n.helperMissing,p='<div class="monster-feature-popup-container" data-feature="hotdesk">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.extra:e)?i.mapFeatures:i)?i.hotdesk:i)?i.icon:i,e))+'"></i>\n\t\t</div>\n\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.hotdesk:i)?i.headline:i,e))+'\n\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:d,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i="function"==typeof s?s.call(u,r):s,n.monsterSwitch||(i=n.blockHelperMissing.call(e,i,r)),null!=i&&(p+=i),p+'\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(i=n.unless.call(u,null!=(i=null!=(i=null!=(i=null!=e?e.extra:e)?i.mapFeatures:i)?i.hotdesk:i)?i.active:i,{name:"unless",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t<form id="hotdesk_form">\n\t\t\t<div>\n\t\t\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.hotdesk:i)?i.id:i,e))+'\n\t\t\t\t<input required minlength="4" class="input-small" type="text" name="id" value="'+c(o(null!=(i=null!=e?e.hotdesk:e)?i.id:i,e))+'"></input>\n\t\t\t</div>\n\n\t\t\t<div class="main-line">\n\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||d).call(u,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.hotdesk:i)?i.label:i,{name:"monsterCheckbox",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t\t\t<input required minlength="4" id="pin" type="text" name="pin" class="input-small" placeholder="'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.hotdesk:i)?i.placeholder:i,e))+'" value="'+c(o(null!=(i=null!=e?e.hotdesk:e)?i.pin:i,e))+'"'+(null!=(i=n.unless.call(u,null!=(i=null!=e?e.hotdesk:e)?i.require_pin:i,{name:"unless",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a}))?i:"")+'></input>\n\t\t\t</div>\n\n\t\t\t<label class="fix-left">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||d).call(u,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.hotdesk:i)?i.keep_logged_in_elsewhere:i,{name:"monsterCheckbox",hash:{},fn:t.program(11,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t</label>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+c(o(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-feature-music_on_hold"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.user:e)?i.extra:i)?i.mapFeatures:i)?i.music_on_hold:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},6:function(t,e,n,l,a){return"selected"},8:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression;return'\t\t\t\t\t<option value="'+c(o(null!=e?e.id:e,e))+'" '+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=s[1]?s[1].media:s[1],"===",null!=e?e.id:e,{name:"compare",hash:{},fn:t.program(6,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+c(o(null!=e?e.name:e,e))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o,c,u=t.lambda,d=t.escapeExpression,p=null!=e?e:{},m=n.helperMissing,f="function",v='<div class="monster-feature-popup-container" data-feature="music_on_hold">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+d(u(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.user:e)?r.extra:r)?r.mapFeatures:r)?r.music_on_hold:r)?r.icon:r,e))+'"></i>\n\t\t</div>\n\t\t'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.users:r)?r.music_on_hold:r)?r.headline:r,e))+'\n\t\t<div class="switch">\n';return o=null!=(o=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?o:m,c={name:"monsterSwitch",hash:{},fn:t.program(1,a,0,i,s),inverse:t.noop,data:a},r=typeof o===f?o.call(p,c):o,n.monsterSwitch||(r=n.blockHelperMissing.call(e,r,c)),null!=r&&(v+=r),v+'\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(r=n.unless.call(p,null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.user:e)?r.extra:r)?r.mapFeatures:r)?r.music_on_hold:r)?r.active:r,{name:"unless",hash:{},fn:t.program(4,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'">\n\t\t<div>\n\t\t\t<span>'+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.users:r)?r.music_on_hold:r)?r.dropdownLabel:r,e))+'</span>\n\t\t\t<select name="format" class="media-dropdown">\n\t\t\t\t<option value="'+d((o=null!=(o=n.silenceMedia||(null!=e?e.silenceMedia:e))?o:m,typeof o===f?o.call(p,{name:"silenceMedia",hash:{},data:a}):o))+'" '+(null!=(r=(n.compare||e&&e.compare||m).call(p,null!=e?e.media:e,"===",null!=e?e.silenceMedia:e,{name:"compare",hash:{},fn:t.program(6,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+d(u(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.users:r)?r.music_on_hold:r)?r.silence:r,e))+"</option>\n"+(null!=(r=n.each.call(p,null!=e?e.mediaList:e,{name:"each",hash:{},fn:t.program(8,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t</select>\n\t\t\t<button type="button" class="monster-button monster-button-primary non-fixed upload-toggle" data-toggle="button">\n\t\t\t\t'+d(u(null!=(r=null!=e?e.i18n:e)?r.upload:r,e))+'\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="upload-div">\n\t\t\t<input type="file" class="upload-input" accept="audio/*">\n\t\t\t<button type="button" class="monster-button monster-button-success non-fixed upload-action upload-submit"><i class="fa fa-upload"></i></button>\n\t\t\t<button type="button" class="monster-button monster-button-danger non-fixed upload-action upload-cancel"><i class="fa fa-times"></i></button>\n\t\t</div>\n\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+d(u(null!=(r=null!=e?e.i18n:e)?r.cancel:r,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+d(u(null!=(r=null!=e?e.i18n:e)?r.saveChanges:r,e))+"</button>\n\t\t</div>\n\t</div>\n</div>"},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["users-feature-vm_to_email"]=Handlebars.template({1:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t<input class="switch-state" type="checkbox" id="checkbox_vm_to_email" data-on="'+r(s(null!=(i=null!=e?e.i18n:e)?i.enabled:i,e))+'" data-off="'+r(s(null!=(i=null!=e?e.i18n:e)?i.disabled:i,e))+'"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=(i=null!=(i=null!=e?e.extra:e)?i.mapFeatures:i)?i.vm_to_email:i)?i.active:i,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},2:function(t,e,n,l,a){return' checked="checked"'},4:function(t,e,n,l,a){return" disabled"},6:function(t,e,n,l,a){var i;return'\t\t\t\t\t<input type="checkbox" name="delete_after_notify"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.deleteAfterNotify:i,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},7:function(t,e,n,l,a){
return" checked"},9:function(t,e,n,l,a){var i;return"\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.vm_to_email:i)?i.help:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r,o=t.lambda,c=t.escapeExpression,u=null!=e?e:{},d=n.helperMissing,p="function",m=n.blockHelperMissing,f='<div class="monster-feature-popup-container" data-feature="vm_to_email">\n\t<div class="feature-popup-title">\n\t\t<div class="feature-fa-wrapper">\n\t\t\t<i class="'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.extra:e)?i.mapFeatures:i)?i.vm_to_email:i)?i.icon:i,e))+'"></i>\n\t\t</div>\n\t\t'+c(o(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.vm_to_email:i)?i.headline:i,e))+'\n\t\t<div class="switch">\n';return s=null!=(s=n.monsterSwitch||(null!=e?e.monsterSwitch:e))?s:d,r={name:"monsterSwitch",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterSwitch||(i=m.call(e,i,r)),null!=i&&(f+=i),f+='\t\t</div>\n\t</div>\n\n\t<div class="content'+(null!=(i=n.unless.call(u,null!=(i=null!=(i=null!=(i=null!=e?e.extra:e)?i.mapFeatures:i)?i.vm_to_email:i)?i.active:i,{name:"unless",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t<form id="vm_to_email_form">\n\t\t\t<div class="main-line">\n\t\t\t\t'+c((n.replaceVar||e&&e.replaceVar||d).call(u,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.vm_to_email:i)?i.label:i,null!=e?e.email:e,{name:"replaceVar",hash:{},data:a}))+'\n\t\t\t</div>\n\n\t\t\t<label class="fix-left">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||d).call(u,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.vm_to_email:i)?i.deleteAfterNotify:i,{name:"monsterCheckbox",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+"\t\t\t</label>\n\t\t</form>\n\n",s=null!=(s=n.monsterText||(null!=e?e.monsterText:e))?s:d,r={name:"monsterText",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a},i=typeof s===p?s.call(u,r):s,n.monsterText||(i=m.call(e,i,r)),null!=i&&(f+=i),f+'\t</div>\n\n\t<div class="actions clearfix">\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+c(o(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">'+c(o(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-features"]=Handlebars.template({1:function(t,e,n,l,a){var i;return null!=(i=n.unless.call(null!=e?e:{},null!=e?e.hidden:e,{name:"unless",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?i:""},2:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression;return'\t\t\t\t<div data-feature="'+u((s=null!=(s=n.key||a&&a.key)?s:o,typeof s===c?s.call(r,{name:"key",hash:{},data:a}):s))+'" class="feature">\n\t\t\t\t\t<div class="fa fa-wrapper'+(null!=(i=n.if.call(r,null!=e?e.active:e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t\t\t<i class="'+u((s=null!=(s=n.icon||(null!=e?e.icon:e))?s:o,typeof s===c?s.call(r,{name:"icon",hash:{},data:a}):s))+'"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="feature-title">\n\t\t\t\t\t\t'+u((s=null!=(s=n.title||(null!=e?e.title:e))?s:o,typeof s===c?s.call(r,{name:"title",hash:{},data:a}):s))+"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n"},3:function(t,e,n,l,a){return" active"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i;return'<div class="detail-features">\n\t<div class="features-grid">\n'+(null!=(i=n.each.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.mapFeatures:i,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+"\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-layout"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=t.lambda,o=t.escapeExpression;return'<div id="users_container">\n\t<div class="users-header">\n\t\t<div class="title">\n\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.title:i,e))+'\n\t\t\t<span class="count-users">'+o((s=null!=(s=n.countUsers||(null!=e?e.countUsers:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"countUsers",hash:{},data:a}):s))+'</span>\n\t\t</div>\n\n\t\t<a class="monster-link add-user">\n\t\t\t<i class="icon-telicon-add-user"></i>\n\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.add:i,e))+'\n\t\t</a>\n\n\t\t<span class="search-box pull-right">\n\t\t\t<i class="fa fa-search"></i>\n\t\t\t<input type="text" class="search-query" placeholder="'+o(r(null!=(i=null!=e?e.i18n:e)?i.search:i,e))+'..."></input>\n\t\t</span>\n\t</div>\n\n\t<div class="users-grid">\n\t\t<div class="grid-row title">\n\t\t\t<div class="grid-cell name">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.titleGrid:i)?i.users:i,e))+'</div>\n\t\t\t<div class="grid-cell extension">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.titleGrid:i)?i.extensions:i,e))+'</div>\n\t\t\t<div class="grid-cell phone-number">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.titleGrid:i)?i.phoneNumbers:i,e))+'</div>\n\t\t\t<div class="grid-cell devices">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.titleGrid:i)?i.devices:i,e))+'</div>\n\t\t\t<div class="grid-cell features">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.titleGrid:i)?i.features:i,e))+'</div>\n\t\t</div>\n\t\t<div class="user-rows">\n\t\t\t<div class="empty-search-row">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.noMatchingUser:i,e))+'\n\t\t\t</div>\n\t\t\t<div class="no-users-row">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.noUsersConfigured:i,e))+"\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-name"]=Handlebars.template({1:function(t,e,n,l,a){return" open"},3:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t<input id="notification_email" type="checkbox" name="extra.differentEmail"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.differentEmail:i,{name:"if",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},4:function(t,e,n,l,a){return" checked"},6:function(t,e,n,l,a){var i;return' value="'+t.escapeExpression((i=null!=(i=n.email||(null!=e?e.email:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"email",hash:{},data:a}):i))+'"'},8:function(t,e,n,l,a){var i;return'\t\t\t<div class="row-fields">\n\t\t\t\t<label class="fix-left">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||n.helperMissing).call(null!=e?e:{},null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.includeInDirectory:i,{name:"monsterCheckbox",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a}))?i:"")+"\t\t\t\t</label>\n\t\t\t</div>\n"},9:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t<input id="include_directory" type="checkbox" name="extra.includeInDirectory"'+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.includeInDirectory:i,{name:"if",hash:{},fn:t.program(10,a,0),inverse:t.noop,data:a}))?i:"")+"></input>\n"},10:function(t,e,n,l,a){return' checked="checked"'},12:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t\t<option value="admin" selected>'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.admin:i,e))+'</option>\n\t\t\t\t\t\t<option value="user">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.user:i,e))+"</option>\n"},14:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t\t<option value="admin">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.admin:i,e))+'</option>\n\t\t\t\t\t\t<option value="user" selected>'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.user:i,e))+"</option>\n"},16:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t\t<option value="auto">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.languages:i)?i.auto:i,e))+'</option>\n\t\t\t\t\t\t<option value="en-US">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.languages:i)?i.americanEnglish:i,e))+'</option>\n\t\t\t\t\t\t<option value="fr-FR">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.languages:i)?i.frenchFrench:i,e))+'</option>\n\t\t\t\t\t\t<option value="ru-RU">'+r(s(null!=(i=null!=(i=null!=e?e.i18n:e)?i.languages:i)?i.russianRussian:i,e))+"</option>\n"},18:function(t,e,n,l,a){var i;return'\t\t\t\t\t<div class="ringing-timeout disabled" data-original-title="'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.disabledTimeoutHint:i,e))+'" data-placement="top" data-toggle="tooltip">\n'},20:function(t,e,n,l,a){var i;return null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.groupTimeout:i,{name:"if",hash:{},fn:t.program(21,a,0),inverse:t.program(23,a,0),data:a}))?i:""},21:function(t,e,n,l,a){var i;return'\t\t\t\t\t<div class="ringing-timeout disabled" data-original-title="'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.timeoutEditHint:i,e))+'" data-placement="top" data-toggle="tooltip">\n'},23:function(t,e,n,l,a){return'\t\t\t\t\t<div class="ringing-timeout">\n'},25:function(t,e,n,l,a){var i;return'\t\t\t\t\t<div class="timeout-edit">\n\t\t\t\t\t\t<a id="open_fmfm_link" href="javascript:void(0);" class="monster-link blue">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.timeoutEdit:i,e))+"</a>\n\t\t\t\t\t</div>\n"},27:function(t,e,n,l,a){var i;return null!=(i=n.each.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.presenceIdOptions:i,{name:"each",hash:{},fn:t.program(28,a,0),inverse:t.noop,data:a}))?i:""},28:function(t,e,n,l,a){var i=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t\t\t<option value="'+s(i(null!=e?e.key:e,e))+'">'+s(i(null!=e?e.value:e,e))+"</option>\n"},30:function(t,e,n,l,a){var i;return'\t\t\t<a id="delete_user" class="monster-link" href="javascript:void(0);"><i class="fa fa-trash-o monster-red"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.delete:i,e))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression,d=t.lambda;return'<div class="detail-user">\n\t<form id="form-'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'" class="user-fields row-fluid">\n\t\t<div class="basic-fields span6">\n\n\t\t\t<div class="row-fields">\n\t\t\t\t<div class="fa fa-wrapper" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.nameHelp:i,e))+'" data-placement="top" data-toggle="tooltip"><i class="fa fa-user"></i></div>\n\t\t\t\t<input required type="text" class="input-small" name="first_name" value="'+u((s=null!=(s=n.first_name||(null!=e?e.first_name:e))?s:o,typeof s===c?s.call(r,{name:"first_name",hash:{},data:a}):s))+'" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.firstName:i,e))+'"></input><input required class="input-small fix-left" type="text" name="last_name" value="'+u((s=null!=(s=n.last_name||(null!=e?e.last_name:e))?s:o,typeof s===c?s.call(r,{name:"last_name",hash:{},data:a}):s))+'" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.lastName:i,e))+'"></input>\n\t\t\t</div>\n\n\t\t\t<div class="row-fields">\n\t\t\t\t<div class="fa fa-wrapper" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.loginHelp:i,e))+'" data-placement="top" data-toggle="tooltip"><i class="fa fa-key"></i></div>\n\t\t\t\t<span id="username">'+u((s=null!=(s=n.username||(null!=e?e.username:e))?s:o,typeof s===c?s.call(r,{name:"username",hash:{},data:a}):s))+'</span>\n\t\t\t\t<a href="javascript:void(0);" id="change_username" class="monster-link blue">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.changeUsername:i,e))+'</a>\n\t\t\t</div>\n\n\t\t\t<div class="row-fields vmbox">\n\t\t\t\t<div class="fa fa-wrapper" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.vmboxHelp:i,e))+'" data-placement="top" data-toggle="tooltip"><i class="icon-telicon-voicemail"></i></div>\n\t\t\t\t<label for="vmbox_number">\n\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.vmboxNumber:i,e))+"\n\t\t\t\t</label>\n\t\t\t\t"+u(d(null!=(i=null!=(i=null!=e?e.extra:e)?i.vmbox:i)?i.mailbox:i,e))+'\n\t\t\t\t<a href="javascript:void(0);" id="change_pin" class="monster-link blue">'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.changePIN:i,e))+'</a>\n\t\t\t</div>\n\n\t\t\t<div class="email-border'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.differentEmail:i,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t<div class="row-fields email-checkbox">\n\t\t\t\t\t<label class="fix-left">\n'+(null!=(i=(n.monsterCheckbox||e&&e.monsterCheckbox||o).call(r,null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogCreationUser:i)?i.sendToDifferentEmail:i,{name:"monsterCheckbox",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="row-fields email-group">\n\t\t\t\t\t<div class="fa fa-wrapper"><i class="fa fa-envelope"></i></div>\n\t\t\t\t\t<input type="email" name="extra.email" id="email" placeholder="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.dialogCreationUser:i)?i.notificationEmail:i,e))+'"'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.differentEmail:i,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+">\n\t\t\t\t</div>\n\t\t\t</div>\n\n"+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.mainCallflowId:i,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t</div>\n\t\t<div class="basic-fields span6">\n\t\t\t<div class="row-fields">\n\t\t\t\t<div class="fa fa-wrapper" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.roleHelp:i,e))+'" data-placement="top" data-toggle="tooltip"><i class="icon-telicon-moderator"></i></div>\n\t\t\t\t<select id="priv_level" name="priv_level">\n'+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=e?e.priv_level:e,"===","admin",{name:"compare",hash:{},fn:t.program(12,a,0),inverse:t.program(14,a,0),data:a}))?i:"")+'\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<div class="row-fields">\n\t\t\t\t<div class="fa fa-wrapper" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.timezoneHelp:i,e))+'" data-placement="top" data-toggle="tooltip"><i class="fa fa-clock-o"></i></div>\n\t\t\t\t<select id="user_timezone" name="timezone" data-original_value="'+u((s=null!=(s=n.timezone||(null!=e?e.timezone:e))?s:o,typeof s===c?s.call(r,{name:"timezone",hash:{},data:a}):s))+'"></select>\n\t\t\t</div>\n\n\t\t\t<div class="row-fields">\n            \t<div class="fa fa-wrapper" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.languageHelp:i,e))+'" data-placement="top" data-toggle="tooltip"><i class="fa fa-flag"></i></div>\n\t\t\t\t<select id="user_language" name="extra.language">\n'+(null!=(i=(n.select||e&&e.select||o).call(r,null!=e?e.language:e,{name:"select",hash:{},fn:t.program(16,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<div class="row-fields">\n\t\t\t\t<div class="fa fa-wrapper" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.ringingHelp:i,e))+'" data-placement="top" data-toggle="tooltip"><i class="fa fa-bell-o"></i></div>\n'+(null!=(i=n.unless.call(r,null!=(i=null!=e?e.extra:e)?i.ringingTimeout:i,{name:"unless",hash:{},fn:t.program(18,a,0),inverse:t.program(20,a,0),data:a}))?i:"")+'\t\t\t\t\t<label for="ringing_timeout">\n\t\t\t\t\t\t'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.timeout:i,e))+'\n\t\t\t\t\t</label>\n\t\t\t\t\t<input id="ringing_timeout" class="input-mini" type="text" name="extra.ringingTimeout" value="'+u(d(null!=(i=null!=e?e.extra:e)?i.ringingTimeout:i,e))+'"></input>\n\t\t\t\t\t<span>'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.timeoutSec:i,e))+"</span>\n\t\t\t\t</div>\n"+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.groupTimeout:i,{name:"if",hash:{},fn:t.program(25,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t</div>\n\n\t\t\t<div class="row-fields">\n\t\t\t\t<div class="fa fa-wrapper" data-original-title="'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.mainExtensionHelp:i,e))+'" data-placement="top" data-toggle="tooltip"><i class="icon-telicon-extensions"></i></div>\n\t\t\t\t<label>'+u(d(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.editionForm:i)?i.presenceId:i,e))+'</label>\n\t\t\t\t<select name="presence_id" class="presence-id-select">\n'+(null!=(i=(n.select||e&&e.select||o).call(r,null!=e?e.presence_id:e,{name:"select",hash:{},fn:t.program(27,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t\t<!--<div class="advanced-fields content-centered span3">\n\t\t\t<a id="resend_instructions" href="javascript:void(0)">'+u(d(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.resendInstructions:i,e))+'</a>\n\t\t\t<button type="button" id="reset_password" class="monster-button monster-button-primary">'+u(d(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.resetPassword:i,e))+'</button>\n\t\t</div>-->\n\t</form>\n\t<div class="actions">\n\t\t<!-- We forbid users to delete their own user -->\n'+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=e?e.id:e,"!==",null!=(i=null!=e?e.extra:e)?i.adminId:i,{name:"compare",hash:{},fn:t.program(30,a,0),inverse:t.noop,data:a}))?i:"")+'\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+u(d(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save-user">'+u(d(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-newExtension"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=t.escapeExpression;return'<div class="item-row larger">\n    <div class="number">\n\t\t'+r(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.addNewExtension:i,e))+'\n\t\t<input type="text" class="input-extension" value="'+r((s=null!=(s=n.recommendedExtension||(null!=e?e.recommendedExtension:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"recommendedExtension",hash:{},data:a}):s))+'"></input>\n\t\t<a class="cancel-extension-link monster-link"><i class="monster-red fa fa-times"></i></a>\n    </div>\n</div>\n'},useData:!0}),this.monster.cache.templates.voip["users-numbers"]=Handlebars.template({1:function(t,e,n,l,a){return" visible"},3:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression,o=null!=e?e:{},c=n.helperMissing;return'\t\t\t\t<div class="item-row" data-id="'+r(s(null!=e?e.phoneNumber:e,e))+'" data-type="'+r(s(null!=e?e.used_by:e,e))+'" data-search="'+r((n.formatPhoneNumber||e&&e.formatPhoneNumber||c).call(o,null!=e?e.phoneNumber:e,{name:"formatPhoneNumber",hash:{},data:a}))+" "+r(s(null!=e?e.phoneNumber:e,e))+" "+r(s(null!=(i=null!=e?e.locality:e)?i.city:i,e))+" "+r(s(null!=(i=null!=e?e.locality:e)?i.country:i,e))+'">\n\t\t\t\t\t<div class="features-block pull-right">\n\t\t\t\t\t\t<div class="edit-features"></div>\n\n\t\t\t\t\t\t<div class="features">\n\t\t\t\t\t\t\t'+(null!=(i=(n.numberFeatures||e&&e.numberFeatures||c).call(o,null!=e?e.features:e,{name:"numberFeatures",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?i:"")+"\n"+(null!=(i=(n.compare||e&&e.compare||c).call(o,null!=e?e.state:e,"===","port_in",{name:"compare",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="number-container">\n\t\t\t\t\t\t<button type="button" class="monster-button monster-button-danger remove-number'+(null!=(i=(n.compare||e&&e.compare||c).call(o,null!=e?e.used_by:e,"===","mobile",{name:"compare",hash:{},fn:t.program(8,a,0),inverse:t.program(10,a,0),data:a}))?i:"")+">"+r(s((i=(i=a&&a.root)&&i.i18n)&&i.unassign,e))+'</button>\n\t\t\t\t\t\t<span class="number">\n\t\t\t\t\t\t\t'+r((n.formatPhoneNumber||e&&e.formatPhoneNumber||c).call(o,null!=e?e.phoneNumber:e,{name:"formatPhoneNumber",hash:{},data:a}))+'\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!--<div class="locality">\n'+(null!=(i=n.if.call(o,null!=e?e.localityEnabled:e,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.program(14,a,0),data:a}))?i:"")+"\t\t\t\t\t</div>\n\t\t\t\t\t-->\n\t\t\t\t</div>\n"},4:function(t,e,n,l,a){return""},6:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<i class="fa fa-exclamation-triangle monster-red active help-popover" data-toggle="tooltip" data-placement="top" data-original-title="'+t.escapeExpression(t.lambda((i=(i=a&&a.root)&&i.i18n)&&i.portIconHelp,e))+'"></i>\n'},8:function(t,e,n,l,a){return' disabled" disabled'},10:function(t,e,n,l,a){return'"'},12:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t\t\t<span class="flag"><img src="css/assets/flags/32/'+r(s(null!=(i=null!=e?e.locality:e)?i.iso:i,e))+'.png" height="32" width="32"></img></span>\n\t\t\t\t\t\t\t<span class="city">'+r(s(null!=(i=null!=e?e.locality:e)?i.city:i,e))+", "+r(s(null!=(i=null!=e?e.locality:e)?i.country:i,e))+"</span>\n"},14:function(t,e,n,l,a){return"\t\t\t\t\t\t\tN/A\n"},16:function(t,e,n,l,a){return"\n"},18:function(t,e,n,l,a){return" disabled"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=null!=e?e:{},r=t.lambda,o=t.escapeExpression;return'<div class="detail-numbers">\n\t<div class="list-wrapper">\n\t\t<div class="list-assigned-items number-list">\n\t\t\t<div class="empty-row'+(null!=(i=n.if.call(s,null!=e?e.emptyAssigned:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.noAssignedNumbers:i,e))+"\n\t\t\t</div>\n"+(null!=(i=n.each.call(s,null!=e?e.assignedNumbers:e,{name:"each",hash:{},fn:t.program(3,a,0),inverse:t.program(16,a,0),data:a}))?i:"")+'\t\t</div>\n\t</div>\n\n\t<div class="actions">\n\t\t<a href="#" class="spare-link monster-link pull-left'+(null!=(i=n.if.call(s,null!=e?e.emptySpare:e,{name:"if",hash:{},fn:t.program(18,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t\t\t<i class="fa fa-list monster-green"></i>'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.addFromSpare:i,e))+'\n\t\t</a>\n\t\t<ul class="buy-dropdown nav pull-left">\n\t\t\t<li class="dropdown">\n\t\t\t\t<a href="#" class="dropdown-toggle buy-dropdown monster-link" data-toggle="dropdown" data-target="#"><i class="fa fa-shopping-cart monster-green"></i>'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.link:i,e))+'</a>\n\t\t\t\t<ul class="dropdown-menu" role="menu">\n\t\t\t\t\t<li><a class="buy-link" data-type="regular" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.regular:i,e))+'</a></li>\n\t\t\t\t\t<li><a class="buy-link" data-type="tollfree" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.tollfree:i,e))+'</a></li>\n\t\t\t\t\t<!-- <li><a class="buy-link" data-type="vanity" href="#">'+o(r(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.strategy:i)?i.numberLinks:i)?i.buy:i)?i.vanity:i,e))+'</a></li> -->\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+o(r(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save-numbers">'+o(r(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-numbersItemRow"]=Handlebars.template({1:function(t,e,n,l,a){return""},3:function(t,e,n,l,a){var i;return'\t\t\t\t<i class="fa fa-exclamation-triangle monster-red active help-popover" data-toggle="tooltip" data-placement="top" data-original-title="'+t.escapeExpression(t.lambda((i=(i=a&&a.root)&&i.i18n)&&i.portIconHelp,e))+'"></i>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression,o=null!=e?e:{},c=n.helperMissing;return'<div class="item-row" data-id="'+r(s(null!=(i=null!=e?e.number:e)?i.phoneNumber:i,e))+'">\n\t<div class="features-block pull-right">\n\t\t<div class="edit-features"></div>\n\n\t\t<div class="features">\n\t\t\t'+(null!=(i=(n.numberFeatures||e&&e.numberFeatures||c).call(o,null!=(i=null!=e?e.number:e)?i.features:i,{name:"numberFeatures",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+"\n"+(null!=(i=(n.compare||e&&e.compare||c).call(o,null!=(i=null!=e?e.number:e)?i.state:i,"===","port_in",{name:"compare",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t</div>\n\t</div>\n\t<div class="number">\n\t\t<button type="button" class="monster-button monster-button-danger remove-number">'+r(s(null!=(i=null!=e?e.i18n:e)?i.unassign:i,e))+"</button>\n\t\t"+r((n.formatPhoneNumber||e&&e.formatPhoneNumber||c).call(o,null!=(i=null!=e?e.number:e)?i.phoneNumber:i,{name:"formatPhoneNumber",hash:{},data:a}))+"\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["users-row"]=Handlebars.template({1:function(t,e,n,l,a){var i=t.escapeExpression;return" "+i((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(null!=e?e:{},e,{name:"formatPhoneNumber",hash:{},data:a}))+" "+i(t.lambda(e,e))},3:function(t,e,n,l,a){return"icon-telicon-moderator monster-primary-color"},5:function(t,e,n,l,a){return"icon-telicon-user monster-lightgrey"},7:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.extra:e)?i.extension:i,e))+"\n\n"+(null!=(i=n.if.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.additionalExtensions:i,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")},8:function(t,e,n,l,a){return'\t\t\t\t\t<i class="icon-telicon-multiple-items"></i>\n'},10:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.noExtension:i,e))+"\n"},12:function(t,e,n,l,a){var i,s=null!=e?e:{};return"\t\t\t\t"+t.escapeExpression((n.formatPhoneNumber||e&&e.formatPhoneNumber||n.helperMissing).call(s,null!=(i=null!=e?e.extra:e)?i.phoneNumber:i,{name:"formatPhoneNumber",hash:{},data:a}))+"\n\n"+(null!=(i=n.if.call(s,null!=(i=null!=e?e.extra:e)?i.additionalNumbers:i,{name:"if",hash:{},fn:t.program(8,a,0),inverse:t.noop,data:a}))?i:"")},14:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.noNumber:i,e))+"\n"},16:function(t,e,n,l,a){var i;return null!=(i=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},a&&a.index,"<",2,{name:"compare",hash:{},fn:t.program(17,a,0),inverse:t.noop,data:a}))?i:""},17:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t\t<i class="'+r(s(null!=e?e.icon:e,e))+" "+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.registered:e,{name:"if",hash:{},fn:t.program(18,a,0),inverse:t.program(20,a,0),data:a}))?i:"")+' help-popover" data-toggle="tooltip" data-placement="top" data-original-title="'+r(s(null!=e?e.name:e,e))+'"></i>\n'},18:function(t,e,n,l,a){return"monster-green"},20:function(t,e,n,l,a){return"monster-red"},22:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.noUserDevices:i,e))+"\n"},24:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'\t\t\t\t<span class="device-popover" data-trigger="hover" data-toggle="popover" data-html="true" data-placement="top" data-content="'+r(s(null!=(i=null!=(i=null!=e?e.extra:e)?i.additionalDevices:i)?i.tooltip:i,e))+'">(+'+r(s(null!=(i=null!=(i=null!=e?e.extra:e)?i.additionalDevices:i)?i.count:i,e))+")</span>\n"},26:function(t,e,n,l,a){return" smaller"},28:function(t,e,n,l,a){var i;return null!=(i=n.each.call(null!=e?e:{},null!=(i=null!=e?e.extra:e)?i.mapFeatures:i,{name:"each",hash:{},fn:t.program(29,a,0),inverse:t.noop,data:a}))?i:""},29:function(t,e,n,l,a){var i;return null!=(i=n.if.call(null!=e?e:{},null!=e?e.active:e,{name:"if",hash:{},fn:t.program(30,a,0),inverse:t.noop,data:a}))?i:""},30:function(t,e,n,l,a){var i=t.lambda,s=t.escapeExpression;return'\t\t\t\t\t\t<i class="'+s(i(null!=e?e.icon:e,e))+" "+s(i(null!=e?e.iconColor:e,e))+'" data-toggle="tooltip" data-placement="top" data-original-title="'+s(i(null!=e?e.title:e,e))+'"></i>\n'},32:function(t,e,n,l,a){var i;return"\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.users:i)?i.noUserFeatures:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=null!=e?e:{},o=n.helperMissing,c="function",u=t.escapeExpression;return'<div class="grid-row" data-id="'+u((s=null!=(s=n.id||(null!=e?e.id:e))?s:o,typeof s===c?s.call(r,{name:"id",hash:{},data:a}):s))+'" data-priv_level="'+u((s=null!=(s=n.priv_level||(null!=e?e.priv_level:e))?s:o,typeof s===c?s.call(r,{name:"priv_level",hash:{},data:a}):s))+'" data-name="'+u((s=null!=(s=n.first_name||(null!=e?e.first_name:e))?s:o,typeof s===c?s.call(r,{name:"first_name",hash:{},data:a}):s))+" "+u((s=null!=(s=n.last_name||(null!=e?e.last_name:e))?s:o,typeof s===c?s.call(r,{name:"last_name",hash:{},data:a}):s))+'" data-search="'+u((s=null!=(s=n.first_name||(null!=e?e.first_name:e))?s:o,typeof s===c?s.call(r,{name:"first_name",hash:{},data:a}):s))+" "+u((s=null!=(s=n.last_name||(null!=e?e.last_name:e))?s:o,typeof s===c?s.call(r,{name:"last_name",hash:{},data:a}):s))+(null!=(i=n.each.call(r,null!=(i=null!=e?e.extra:e)?i.listCallerId:i,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'">\n\t<div class="user-cells">\n\t\t<div class="name grid-cell" data-type="name"><i class="'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.isAdmin:i,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.program(5,a,0),data:a}))?i:"")+'"></i> '+u((s=null!=(s=n.first_name||(null!=e?e.first_name:e))?s:o,typeof s===c?s.call(r,{name:"first_name",hash:{},data:a}):s))+" "+u((s=null!=(s=n.last_name||(null!=e?e.last_name:e))?s:o,typeof s===c?s.call(r,{name:"last_name",hash:{},data:a}):s))+'</div>\n\t\t<div class="extension grid-cell" data-type="extensions">\n'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.extension:i,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.program(10,a,0),data:a}))?i:"")+'\t\t</div>\n\t\t<div class="phone-number grid-cell" data-type="numbers">\n'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.phoneNumber:i,{name:"if",hash:{},fn:t.program(12,a,0),inverse:t.program(14,a,0),data:a}))?i:"")+'\t\t</div>\n\t\t<div class="devices grid-cell" data-type="devices">\n'+(null!=(i=n.each.call(r,null!=(i=null!=e?e.extra:e)?i.devices:i,{name:"each",hash:{},fn:t.program(16,a,0),inverse:t.program(22,a,0),data:a}))?i:"")+"\n"+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.additionalDevices:i,{name:"if",hash:{},fn:t.program(24,a,0),inverse:t.noop,data:a}))?i:"")+'\t\t</div>\n\t\t<div class="features grid-cell right-aligned'+(null!=(i=(n.compare||e&&e.compare||o).call(r,null!=(i=null!=e?e.extra:e)?i.countFeatures:i,">",5,{name:"compare",hash:{},fn:t.program(26,a,0),inverse:t.noop,data:a}))?i:"")+'" data-type="features">\n'+(null!=(i=n.if.call(r,null!=(i=null!=e?e.extra:e)?i.hasFeatures:i,{name:"if",hash:{},fn:t.program(28,a,0),inverse:t.program(32,a,0),data:a}))?i:"")+'\t\t</div>\n\t</div>\n\n\t<div class="edit-user" style="display:none;">\n\n\t</div>\n</div>\n'},useData:!0}),
this.monster.cache.templates.voip["users-rowSpareDevice"]=Handlebars.template({1:function(t,e,n,l,a){return" assigned"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=t.lambda,r=t.escapeExpression;return'<div class="item-row'+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.owner_id:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?i:"")+'" data-id="'+r(s(null!=e?e.id:e,e))+'">\n\t<div class="device">\n\t\t<button type="button" class="monster-button monster-button-danger remove-device">'+r(s(null!=(i=null!=e?e.i18n:e)?i.unassign:i,e))+'</button>\n\t\t<a href="javascript:void(0);" class="edit-device-link monster-link">'+r(s(null!=e?e.name:e,e))+"</a>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["vmboxes-edit"]=Handlebars.template({1:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="vmbox-model">'+t.escapeExpression((i=null!=(i=n.name||(null!=e?e.name:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:{},{name:"name",hash:{},data:a}):i))+"</div>\n"},3:function(t,e,n,l,a){var i;return'\t\t\t\t<div class="vmbox-model">'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.vmboxes:i)?i.new:i,e))+"</div>\n"},5:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input type="checkbox" name="is_setup" id="is_setup" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.is_setup:e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},6:function(t,e,n,l,a){return"checked"},8:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input type="checkbox" name="require_pin" id="require_pin" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.require_pin:e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},10:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input type="checkbox" name="check_if_owner" id="check_if_owner" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.check_if_owner:e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},12:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input type="checkbox" name="skip_greeting" id="skip_greeting" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.skip_greeting:e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},14:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input type="checkbox" name="skip_instructions" id="skip_instructions" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.skip_instructions:e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},16:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input type="checkbox" name="delete_after_notify" id="delete_after_notify" '+(null!=(i=n.if.call(null!=e?e:{},null!=e?e.delete_after_notify:e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},18:function(t,e,n,l,a){var i;return'\t\t\t\t\t\t\t\t<input type="checkbox" name="extra.configurable" id="not_configurable" '+(null!=(i=n.unless.call(null!=e?e:{},null!=e?e.not_configurable:e,{name:"unless",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?i:"")+" />\n"},20:function(t,e,n,l,a,i,s){var r,o=t.lambda,c=t.escapeExpression;return'\t\t\t\t\t\t\t\t<option value="'+c(o(null!=e?e.id:e,e))+'" '+(null!=(r=(n.compare||e&&e.compare||n.helperMissing).call(null!=e?e:{},null!=(r=null!=s[1]?s[1].media:s[1])?r.unavailable:r,"===",null!=e?e.id:e,{name:"compare",hash:{},fn:t.program(21,a,0,i,s),inverse:t.noop,data:a}))?r:"")+">"+c(o(null!=e?e.name:e,e))+"</option>\n"},21:function(t,e,n,l,a){return"selected"},23:function(t,e,n,l,a){var i;return'\t\t\t<a id="delete_vmbox" class="monster-link"><i class="fa fa-trash-o monster-red"></i>'+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.vmboxes:i)?i.deleteVmbox:i,e))+"</a>\n"},25:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=e?e.i18n:e)?i.saveChanges:i,e))+"\n"},27:function(t,e,n,l,a){var i;return"\t\t\t\t\t"+t.escapeExpression(t.lambda(null!=(i=null!=(i=null!=e?e.i18n:e)?i.vmboxes:i)?i.createVmbox:i,e))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a,i,s){var r,o,c=null!=e?e:{},u=n.helperMissing,d="function",p=t.escapeExpression,m=t.lambda;return'<div class="edit-vmbox" data-id="'+p((o=null!=(o=n.id||(null!=e?e.id:e))?o:u,typeof o===d?o.call(c,{name:"id",hash:{},data:a}):o))+'">\n\t<div class="title-bar clearfix">\n\t\t<div class="vmbox-title pull-left">\n\t\t\t<div class="vmbox-icon">\n\t\t\t\t<i class="icon-telicon-voicemail"></i>\n\t\t\t</div>\n\n'+(null!=(r=n.if.call(c,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(1,a,0,i,s),inverse:t.program(3,a,0,i,s),data:a}))?r:"")+'\t\t</div>\n\n\t\t<ul class="nav nav-pills pull-right">\n\t\t\t<li class="tabs-main-selector main-section active">\n\t\t\t\t<a class="tabs-selector change-section" data-section="basic" href="javascript:void(0)">'+p(m(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.basicTitle:r,e))+'</a>\n\t\t\t</li>\n\t\t\t<li class="tabs-main-selector main-section dropdown">\n\t\t\t\t<a class="dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">'+p(m(null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.advancedTitle:r,e))+'\n\t\t\t\t\t<b class="caret"></b>\n\t\t\t\t</a>\n\t\t\t\t<ul class="dropdown-menu pull-right">\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="options" href="javascript:void(0)"><i class="fa fa-ambulance"></i>'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.menuTitle:r,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="recipients" href="javascript:void(0)"><i class="fa fa-envelope"></i>'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.recipients:r)?r.menuTitle:r,e))+'</a></li>\n\t\t\t\t\t<li><a class="tabs-selector change-section" data-section="greeting" href="javascript:void(0)"><i class="fa icon-telicon-voicemail"></i>'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.greeting:r)?r.menuTitle:r,e))+'</a></li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\n\t<div class="content">\n\t\t<form id="form_vmbox" class="form-horizontal">\n\t\t\t<div class="tabs-section active" data-section="basic">\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.basic:r)?r.name:r)?r.label:r,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="name" name="name" value="'+p((o=null!=(o=n.name||(null!=e?e.name:e))?o:u,typeof o===d?o.call(c,{name:"name",hash:{},data:a}):o))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.basic:r)?r.number:r)?r.label:r,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="mailbox" name="mailbox" value="'+p((o=null!=(o=n.mailbox||(null!=e?e.mailbox:e))?o:u,typeof o===d?o.call(c,{name:"mailbox",hash:{},data:a}):o))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="name">'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.basic:r)?r.pinNumber:r)?r.label:r,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<input type="text" id="pin" name="pin" value="'+p((o=null!=(o=n.pin||(null!=e?e.pin:e))?o:u,typeof o===d?o.call(c,{name:"pin",hash:{},data:a}):o))+'">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section" data-section="options">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.sectionTitle:r,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-label" for="timezone">'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.timezone:r)?r.label:r,e))+'</label>\n\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t<select id="timezone" name="timezone" data-original_value="'+p((o=null!=(o=n.timezone||(null!=e?e.timezone:e))?o:u,typeof o===d?o.call(c,{name:"timezone",hash:{},data:a}):o))+'"></select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-input checkbox">\n\t\t\t\t\t\t<div data-toggle="tooltip" data-placement="right" data-original-title="'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.alreadySetup:r)?r.help:r,e))+'">\n'+(null!=(r=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.alreadySetup:r)?r.label:r,{name:"monsterCheckbox",hash:{},fn:t.program(5,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-input checkbox">\n\t\t\t\t\t\t<div data-toggle="tooltip" data-placement="right" data-original-title="'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.requirePIN:r)?r.help:r,e))+'">\n'+(null!=(r=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.requirePIN:r)?r.label:r,{name:"monsterCheckbox",hash:{},fn:t.program(8,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-input checkbox">\n\t\t\t\t\t\t<div data-toggle="tooltip" data-placement="right" data-original-title="'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.autoLogin:r)?r.help:r,e))+'">\n'+(null!=(r=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.autoLogin:r)?r.label:r,{name:"monsterCheckbox",hash:{},fn:t.program(10,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-input checkbox">\n\t\t\t\t\t\t<div data-toggle="tooltip" data-placement="right" data-original-title="'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.skipGreetings:r)?r.help:r,e))+'">\n'+(null!=(r=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.skipGreetings:r)?r.label:r,{name:"monsterCheckbox",hash:{},fn:t.program(12,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-input checkbox">\n\t\t\t\t\t\t<div data-toggle="tooltip" data-placement="right" data-original-title="'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.skipInstructions:r)?r.help:r,e))+'">\n'+(null!=(r=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.skipInstructions:r)?r.label:r,{name:"monsterCheckbox",hash:{},fn:t.program(14,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-input checkbox">\n\t\t\t\t\t\t<div data-toggle="tooltip" data-placement="right" data-original-title="'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.deleteAfterNotify:r)?r.help:r,e))+'">\n'+(null!=(r=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.deleteAfterNotify:r)?r.label:r,{name:"monsterCheckbox",hash:{},fn:t.program(16,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="control-group">\n\t\t\t\t\t<label class="control-input checkbox">\n\t\t\t\t\t\t<div data-toggle="tooltip" data-placement="right" data-original-title="'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.configurable:r)?r.help:r,e))+'">\n'+(null!=(r=(n.monsterCheckbox||e&&e.monsterCheckbox||u).call(c,null!=(r=null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.options:r)?r.configurable:r)?r.label:r,{name:"monsterCheckbox",hash:{},fn:t.program(18,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section" data-section="recipients">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.recipients:r)?r.sectionTitle:r,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="helper">\n\t\t\t\t\t<i class="fa fa-info-circle"></i>\n\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.recipients:r)?r.header:r,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="list-entities emails-list">\n\t\t\t\t\t<div class="create-entity">\n\t\t\t\t\t\t<div class="entity-wrapper placeholder">\n\t\t\t\t\t\t\t<div class="create-text">\n\t\t\t\t\t\t\t\t<i class="fa fa-plus-circle"></i>\n\t\t\t\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.recipients:r)?r.create:r,e))+'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class="create-inputs">\n\t\t\t\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.recipients:r)?r.email:r,e))+'\n\t\t\t\t\t\t\t\t<input type="text" id="entity_name" name="extra.entityName" class="input-medium">\n\t\t\t\t\t\t\t\t<button id="add_entity" class="monster-button monster-button-success">'+p(m(null!=(r=null!=e?e.i18n:e)?r.add:r,e))+'</button>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" id="cancel_entity">'+p(m(null!=(r=null!=e?e.i18n:e)?r.cancel:r,e))+'</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="saved-entities">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="tabs-section" data-section="greeting">\n\t\t\t\t<div class="title">\n\t\t\t\t\t'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.greeting:r)?r.sectionTitle:r,e))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="greeting-container">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.greeting:r)?r.dropdownLabel:r,e))+'</span>\n\t\t\t\t\t\t<select name="media.unavailable" class="media-dropdown">\n\t\t\t\t\t\t\t<option value="none">'+p(m(null!=(r=null!=(r=null!=(r=null!=(r=null!=e?e.i18n:e)?r.vmboxes:r)?r.popupSettings:r)?r.greeting:r)?r.noGreeting:r,e))+"</option>\n"+(null!=(r=n.each.call(c,null!=(r=null!=e?e.extra:e)?r.mediaList:r,{name:"each",hash:{},fn:t.program(20,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<button type="button" class="monster-button-primary non-fixed upload-toggle" data-toggle="button">\n\t\t\t\t\t\t\t'+p(m(null!=(r=null!=e?e.i18n:e)?r.upload:r,e))+'\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="upload-div">\n\t\t\t\t\t\t<input type="file" class="upload-input" accept="audio/*">\n\t\t\t\t\t\t<button type="button" class="monster-button-success non-fixed upload-action upload-submit"><i class="fa fa-upload"></i></button>\n\t\t\t\t\t\t<button type="button" class="monster-button-danger non-fixed upload-action upload-cancel"><i class="fa fa-times"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</form>\n\t</div>\n\n\t<div class="actions clearfix">\n'+(null!=(r=n.if.call(c,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(23,a,0,i,s),inverse:t.noop,data:a}))?r:"")+'\n\t\t<div class="pull-right">\n\t\t\t<a class="cancel-link monster-link blue" href="javascript:void(0);">'+p(m(null!=(r=null!=e?e.i18n:e)?r.cancel:r,e))+'</a>\n\t\t\t<button type="button" class="monster-button monster-button-success save">\n'+(null!=(r=n.if.call(c,null!=e?e.id:e,{name:"if",hash:{},fn:t.program(25,a,0,i,s),inverse:t.program(27,a,0,i,s),data:a}))?r:"")+"\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0,useDepths:!0}),this.monster.cache.templates.voip["vmboxes-emailRow"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=null!=e?e:{},r=n.helperMissing,o="function",c=t.escapeExpression;return'<div class="entity-wrapper" data-name="'+c((i=null!=(i=n.name||(null!=e?e.name:e))?i:r,typeof i===o?i.call(s,{name:"name",hash:{},data:a}):i))+'">\n\t<span class="entity-title">'+c((i=null!=(i=n.name||(null!=e?e.name:e))?i:r,typeof i===o?i.call(s,{name:"name",hash:{},data:a}):i))+'</span>\n\t<div class="delete-entity"><i class="fa fa-trash-o monster-red"></i></div>\n</div>'},useData:!0}),this.monster.cache.templates.voip["vmboxes-layout"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s,r=t.lambda,o=t.escapeExpression;return'<div id="vmboxes_container">\n\t<div class="vmboxes-header">\n\t\t<div class="title">\n\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.vmboxes:i)?i.title:i,e))+'\n\t\t\t<span class="count-vmboxes">'+o((s=null!=(s=n.countVMBoxes||(null!=e?e.countVMBoxes:e))?s:n.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"countVMBoxes",hash:{},data:a}):s))+'</span>\n\t\t</div>\n\n\t\t<a class="monster-link add-vmbox">\n\t\t\t<i class="fa fa-plus-circle"></i>\n\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.vmboxes:i)?i.add:i,e))+'\n\t\t</a>\n\n\t\t<span class="search-box pull-right">\n\t\t\t<i class="fa fa-search"></i>\n\t\t\t<input type="text" class="search-query" placeholder="'+o(r(null!=(i=null!=e?e.i18n:e)?i.search:i,e))+'..."></input>\n\t\t</span>\n\t</div>\n\n\t<div class="vmboxes-grid">\n\t\t<div class="grid-row title">\n\t\t\t<div class="grid-cell number">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.vmboxes:i)?i.titleGrid:i)?i.number:i,e))+'</div>\n\t\t\t<div class="grid-cell name">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.vmboxes:i)?i.titleGrid:i)?i.name:i,e))+'</div>\n\t\t\t<div class="grid-cell owner">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.vmboxes:i)?i.titleGrid:i)?i.owner:i,e))+'</div>\n\t\t\t<div class="grid-cell edit">'+o(r(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.vmboxes:i)?i.titleGrid:i)?i.edit:i,e))+'</div>\n\t\t</div>\n\t\t<div class="vmboxes-rows">\n\t\t\t<div class="empty-search-row">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.noMatchingVMBoxes:i,e))+'\n\t\t\t</div>\n\t\t\t<div class="no-devices-row">\n\t\t\t\t'+o(r(null!=(i=null!=(i=null!=e?e.i18n:e)?i.devices:i)?i.noVMBoxesConfigured:i,e))+"\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"},useData:!0}),this.monster.cache.templates.voip["vmboxes-row"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,n,l,a){var i,s=null!=e?e:{},r=n.helperMissing,o="function",c=t.escapeExpression;return'<div class="grid-row" data-id="'+c((i=null!=(i=n.id||(null!=e?e.id:e))?i:r,typeof i===o?i.call(s,{name:"id",hash:{},data:a}):i))+'" data-search="'+c((i=null!=(i=n.name||(null!=e?e.name:e))?i:r,typeof i===o?i.call(s,{name:"name",hash:{},data:a}):i))+" "+c((i=null!=(i=n.mailbox||(null!=e?e.mailbox:e))?i:r,typeof i===o?i.call(s,{name:"mailbox",hash:{},data:a}):i))+" "+c((i=null!=(i=n.id||(null!=e?e.id:e))?i:r,typeof i===o?i.call(s,{name:"id",hash:{},data:a}):i))+" "+c((i=null!=(i=n.friendlyOwnerName||(null!=e?e.friendlyOwnerName:e))?i:r,typeof i===o?i.call(s,{name:"friendlyOwnerName",hash:{},data:a}):i))+'">\n\t<div class="vmboxes-cells">\n\t\t<div class="number grid-cell centered">\n\t\t\t'+c((i=null!=(i=n.mailbox||(null!=e?e.mailbox:e))?i:r,typeof i===o?i.call(s,{name:"mailbox",hash:{},data:a}):i))+'\n\t\t</div>\n\n\t\t<div class="name grid-cell">\n\t\t\t'+c((i=null!=(i=n.name||(null!=e?e.name:e))?i:r,typeof i===o?i.call(s,{name:"name",hash:{},data:a}):i))+'\n\t\t</div>\n\n\t\t<div class="owner grid-cell">\n\t\t\t'+c((i=null!=(i=n.friendlyOwnerName||(null!=e?e.friendlyOwnerName:e))?i:r,typeof i===o?i.call(s,{name:"friendlyOwnerName",hash:{},data:a}):i))+'\n\t\t</div>\n\n\t\t<div class="edit grid-cell centered">\n\t\t\t<i class="fa fa-wrench settings"></i>\n\t\t</div>\n\t</div>\n</div>'},useData:!0});