define("apps/voicemails/app",["require","jquery","underscore","monster","chosen"],function(t){var e=t("jquery"),a=t("underscore"),l=t("monster"),n=(t("chosen"),{name:"voicemails",css:["app"],i18n:{"en-US":{customCss:!1}},appFlags:{voicemails:{maxRange:31,defaultRange:1}},requests:{},subscribe:{},load:function(t){var e=this;e.initApp(function(){t&&t(e)})},initApp:function(t){var e=this;l.pub("auth.initApp",{app:e,callback:t})},render:function(t){var e=this;l.ui.generateAppLayout(e,{menus:[{tabs:[{text:e.i18n.active().voicemails.menuTitles.receivedVMs,callback:e.renderReceivedVMs}]}]})},renderReceivedVMs:function(t){var a=this,n=t||{},i=n.container||e("#voicemails_app_container .app-content-wrapper");a.listVMBoxes(function(t){var n={vmboxes:t},s=e(l.template(a,"received-voicemails",n));a.voicemailsInitDatePicker(i,s),a.bindReceivedVMs(s),i.fadeOut(function(){e(this).empty().append(s).fadeIn()})})},voicemailsInitDatePicker:function(t,e){var a=this,n=l.util.getDefaultRangeDates(a.appFlags.voicemails.defaultRange),i=n.from,s=n.to,o={container:e,range:a.appFlags.voicemails.maxRange};l.ui.initRangeDatepicker(o),e.find("#startDate").datepicker("setDate",i),e.find("#endDate").datepicker("setDate",s),e.find(".apply-filter").on("click",function(l){var n=e.find("#select_vmbox").val();a.displayVMList(t,n)}),e.find(".toggle-filter").on("click",function(){e.find(".filter-by-date").toggleClass("active")})},bindReceivedVMs:function(t){function a(){t.find(".select-message:checked").length?(t.find(".hidable").removeClass("hidden"),t.find(".main-select-message").prop("checked",!0)):(t.find(".hidable").addClass("hidden"),t.find(".main-select-message").prop("checked",!1))}var n=this,i=t.find("#select_vmbox");l.ui.tooltips(t),l.ui.footable(t.find(".footable")),i.chosen({search_contains:!0,width:"220px",placeholder_text_single:n.i18n.active().voicemails.receivedVMs.actionBar.selectVM.none}),t.find(".vmboxes-list").on("click",".box-row",function(){i.val(e(this).data("id")),i.trigger("chosen:updated"),n.displayVMList(t,e(this).data("id"))}),i.on("change",function(){n.displayVMList(t,e(this).val())}),t.find("#refresh_voicemails").on("click",function(){var e=i.val();"none"!==e&&n.displayVMList(t,e)}),t.find(".mark-as-link").on("click",function(){var a=e(this).data("type"),l=i.val(),s=t.find(".select-message:checked"),o=[];s.each(function(){o.push(e(this).data("media-id"))}),t.find(".data-state").hide(),t.find(".loading-state").show(),n.updateFolder(l,o,a,function(e){n.displayVMList(t,l)})}),t.find(".move-to-vmbox").on("click",function(){var a=e(this).data("id"),l=i.val(),s=t.find(".select-message:checked"),o=[];s.each(function(){o.push(e(this).data("media-id"))}),t.find(".data-state").hide(),t.find(".loading-state").show(),n.moveVoicemailMessages(l,a,o,function(e){n.displayVMList(t,l)})}),t.on("click",".play-vm",function(){var a=e(this).parents(".voicemail-row"),l=t.find(".voicemail-row.active");if(a.hasClass("active")||0===l.length){var i=t.find("#select_vmbox").val(),s=a.data("media-id");t.find("table").addClass(".highlighted"),a.addClass("active"),n.playVoicemail(t,i,s)}else n.removeOpacityLayer(t)}),t.on("click",".details-vm",function(){var t=e(this).parents(".voicemail-row"),a=t.data("call-id");n.getCDR(a,function(t){var a=e(l.template(n,"voicemails-CDRDialog"));l.ui.renderJSON(t,a.find("#jsoneditor")),l.ui.dialog(a,{title:n.i18n.active().voicemails.receivedVMs.CDRPopup.title})},function(){l.ui.alert(n.i18n.active().voicemails.receivedVMs.noCDR)})}),t.on("click",".voicemail-row",function(a){var l=t.find("table"),i=e(this);l.hasClass("highlighted")&&!i.hasClass("active")&&n.removeOpacityLayer(t)}),t.on("click",".select-message",function(){a()}),t.find(".main-select-message").on("click",function(){var l=e(this),n=l.prop("checked");t.find(".select-message").prop("checked",n),a()}),t.find(".select-some-messages").on("click",function(){var l=e(this),n=l.data("type");t.find(".select-message").prop("checked",!1),"none"!==n&&("all"===n?t.find(".select-message").prop("checked",!0):["new","saved","deleted"].indexOf(n)>=0&&t.find('.voicemail-row[data-folder="'+n+'"] .select-message').prop("checked",!0)),a()}),t.on("click",".select-line",function(){var t=e(this).parents(".voicemail-row").find(".select-message");t.prop("checked",!t.prop("checked")),a()})},removeOpacityLayer:function(t){var e=t.find(".voicemail-row.active"),a=t.find("table");e.find(".voicemail-player").remove(),e.find(".duration, .actions").show(),e.removeClass("active"),a.removeClass("highlighted")},formatVMURI:function(t,e){var a=this;return a.apiUrl+"accounts/"+a.accountId+"/vmboxes/"+t+"/messages/"+e+"/raw?auth_token="+a.getAuthToken()},playVoicemail:function(t,a,n){var i=this,s=t.find('.voicemail-row[data-media-id="'+n+'"]');t.find("table").addClass("highlighted"),s.addClass("active"),s.find(".duration, .actions").hide();var o=i.formatVMURI(a,n),c={uri:o},d=e(l.template(i,"cell-voicemail-player",c));"new"===s.data("folder")&&i.updateFolder(a,[n],"saved",function(){s.data("folder","saved").attr("data-folder","saved"),s.find(".status").data("folder","saved").attr("data-folder","saved").html(i.i18n.active().voicemails.receivedVMs.status.saved)}),d.find(".close-player").on("click",function(){s.find(".voicemail-player").remove(),s.find(".duration, .actions").show(),t.find("table").removeClass("highlighted"),s.removeClass("active")}),s.append(d),d.find("audio").get(0).play()},voicemailsGetRows:function(t,a,n){var i=this;i.newGetVMBoxMessages(t,a,function(t){var s={voicemails:i.formatMessagesData(t.data,a)},o=e(l.template(i,"voicemails-rows",s));n&&n(o,t)})},displayVMList:function(t,a){var n=this,i=t.find("input.filter-from").datepicker("getDate"),s=t.find("input.filter-to").datepicker("getDate"),o=t.find(".filter-by-date").hasClass("active");t.removeClass("empty"),t.find(".data-state").hide(),t.find(".loading-state").show(),t.find(".hidable").addClass("hidden"),t.find(".main-select-message").prop("checked",!1),l.ui.footable(t.find(".voicemails-table .footable"),{getData:function(t,c){o&&(t=e.extend(!0,t,{created_from:l.util.dateToBeginningOfGregorianDay(i),created_to:l.util.dateToEndOfGregorianDay(s)})),n.voicemailsGetRows(t,a,c)},afterInitialized:function(){t.find(".data-state").show(),t.find(".loading-state").hide()},backendPagination:{enabled:!1}})},formatMessagesData:function(t,e){var n=this;return a.each(t,function(t){t.formatted={},t.formatted.to=l.util.formatPhoneNumber(t.to.substr(0,t.to.indexOf("@"))),t.formatted.from=l.util.formatPhoneNumber(t.from.substr(0,t.from.indexOf("@"))),t.formatted.duration=l.util.friendlyTimer(t.length/1e3),t.formatted.uri=n.formatVMURI(e,t.media_id),t.formatted.callId=l.util.getModbID(t.call_id,t.timestamp),t.formatted.mediaId=t.media_id}),t},formatVoicemailsData:function(t){var e=this,n=t.messages;return a.each(n,function(a){a.formatted={},a.formatted.to=l.util.formatPhoneNumber(a.to.substr(0,a.to.indexOf("@"))),a.formatted.from=l.util.formatPhoneNumber(a.from.substr(0,a.from.indexOf("@"))),a.formatted.duration=l.util.friendlyTimer(a.length/1e3),a.formatted.uri=e.formatVMURI(t.id,a.media_id)}),n},updateFolder:function(t,e,a,l){var n=this;n.updateVMBoxMessages(t,e,a,function(){l&&l()})},getCDR:function(t,e,a){var l=this;l.callApi({resource:"cdrs.get",data:{accountId:l.accountId,cdrId:t,generateError:!1},success:function(t){e&&e(t.data)},error:function(t,e,l){t&&"404"===t.error?a&&a({}):l(t,{generateError:!0})}})},getVMBox:function(t,e){var a=this;a.callApi({resource:"voicemail.get",data:{accountId:a.accountId,voicemailId:t},success:function(t){e&&e(t.data)}})},getVMBoxMessages:function(t,e){var a=this;a.callApi({resource:"voicemail.listMessages",data:{accountId:a.accountId,voicemailId:t},success:function(t){e&&e(t.data)}})},newGetVMBoxMessages:function(t,e,a){var l=this;l.callApi({resource:"voicemail.listMessages",data:{accountId:l.accountId,voicemailId:e,filters:t},success:function(t){a&&a(t)}})},moveVoicemailMessages:function(t,e,a,l){var n=this,i={messages:a,source_id:e};n.bulkUpdateMessages(t,i,l)},updateVMBoxMessages:function(t,e,a,l){var n=this,i={messages:e,folder:a};n.bulkUpdateMessages(t,i,l)},bulkUpdateMessages:function(t,e,a){var l=this;l.callApi({resource:"voicemail.updateMessages",data:{accountId:l.accountId,voicemailId:t,data:e},success:function(t){a&&a(t.data)}})},updateVMBox:function(t,e){var a=this;a.callApi({resource:"voicemail.update",data:{accountId:a.accountId,voicemailId:t.id,data:t},success:function(t){e&&e(t.data)}})},listVMBoxes:function(t){var e=this;e.callApi({resource:"voicemail.list",data:{accountId:e.accountId,filters:{paginate:!1}},success:function(e){t&&t(e.data)}})}});return n}),this.monster=this.monster||{},this.monster.cache=this.monster.cache||{},this.monster.cache.templates=this.monster.cache.templates||{},this.monster.cache.templates.voicemails=this.monster.cache.templates.voicemails||{},this.monster.cache.templates.voicemails["cell-voicemail-player"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,a,l,n){var i,s,o=t.escapeExpression;return'<td colspan="2" class="voicemail-player">\n\t<span class="close-player">'+o(t.lambda(null!=(i=null!=e?e.i18n:e)?i.close:i,e))+'</span>\n\t<audio controls src="'+o((s=null!=(s=a.uri||(null!=e?e.uri:e))?s:a.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"uri",hash:{},data:n}):s))+'"></audio>\n</td>'},useData:!0}),this.monster.cache.templates.voicemails["received-voicemails"]=Handlebars.template({1:function(t,e,a,l,n){return'\t\t\t\t\t\t\t<input class="main-select-message" type="checkbox"/>\n'},3:function(t,e,a,l,n){var i,s=null!=e?e:{},o=a.helperMissing,c="function",d=t.escapeExpression;return'\t\t\t\t\t\t\t\t<li><a href="javascript:void(0);" class="move-to-vmbox" data-id="'+d((i=null!=(i=a.id||(null!=e?e.id:e))?i:o,typeof i===c?i.call(s,{name:"id",hash:{},data:n}):i))+'">'+d((i=null!=(i=a.name||(null!=e?e.name:e))?i:o,typeof i===c?i.call(s,{name:"name",hash:{},data:n}):i))+"</a></li>\n"},5:function(t,e,a,l,n){var i,s=null!=e?e:{},o=a.helperMissing,c="function",d=t.escapeExpression;return'\t\t\t\t\t<option value="'+d((i=null!=(i=a.id||(null!=e?e.id:e))?i:o,typeof i===c?i.call(s,{name:"id",hash:{},data:n}):i))+'">'+d((i=null!=(i=a.name||(null!=e?e.name:e))?i:o,typeof i===c?i.call(s,{name:"name",hash:{},data:n}):i))+"</option>\n"},7:function(t,e,a,l,n){var i,s=null!=e?e:{},o=a.helperMissing,c="function",d=t.escapeExpression;return'\t\t\t\t\t\t\t<tr class="box-row" data-id="'+d((i=null!=(i=a.id||(null!=e?e.id:e))?i:o,typeof i===c?i.call(s,{name:"id",hash:{},data:n}):i))+'">\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t'+d((i=null!=(i=a.name||(null!=e?e.name:e))?i:o,typeof i===c?i.call(s,{name:"name",hash:{},data:n}):i))+"\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,a,l,n){var i,s,o,c=t.lambda,d=t.escapeExpression,r=null!=e?e:{},u='<div class="received-voicemails-container empty">\n\t<div class="action-bar clearfix">\n\t\t<div class="filters basic-actions pull-left">\n\t\t\t<div class="select-voicemails-wrapper monster-select-dropdown pull-left" data-toggle="tooltip" data-placement="top" data-original-title="'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.tooltips:i)?i.select:i,e))+'">\n\t\t\t\t<li class="dropdown">\n\t\t\t\t\t<a data-toggle="dropdown" class="dropdown-toggle" href="javascript:void(0);">\n';return s=null!=(s=a.monsterCheckbox||(null!=e?e.monsterCheckbox:e))?s:a.helperMissing,o={name:"monsterCheckbox",hash:{},fn:t.program(1,n,0),inverse:t.noop,data:n},i="function"==typeof s?s.call(r,o):s,a.monsterCheckbox||(i=a.blockHelperMissing.call(e,i,o)),null!=i&&(u+=i),u+'\t\t\t\t\t\t<i class="icon-telicon-caret-down"></i>\n\t\t\t\t\t</a>\n\t\t\t\t\t<ul class="dropdown-menu">\n\t\t\t\t\t\t<li><a href="javascript:void(0);" class="select-some-messages" data-type="all">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.select:i)?i.all:i,e))+'</a></li>\n\t\t\t\t\t\t<li><a href="javascript:void(0);" class="select-some-messages" data-type="new">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.select:i)?i.new:i,e))+'</a></li>\n\t\t\t\t\t\t<li><a href="javascript:void(0);" class="select-some-messages" data-type="saved">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.select:i)?i.listened:i,e))+'</a></li>\n\t\t\t\t\t\t<li><a href="javascript:void(0);" class="select-some-messages" data-type="deleted">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.select:i)?i.deleted:i,e))+'</a></li>\n\t\t\t\t\t\t<li><a href="javascript:void(0);" class="select-some-messages" data-type="none">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.select:i)?i.none:i,e))+'</a></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</div>\n\n\t\t\t<div class="filters selected-actions pull-left margin-left">\n\t\t\t\t<div class="mark-as-wrapper hidable hidden monster-select-dropdown pull-left" data-toggle="tooltip" data-placement="top" data-original-title="'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.tooltips:i)?i.markAs:i,e))+'">\n\t\t\t\t\t<li class="dropdown">\n\t\t\t\t\t\t<a data-toggle="dropdown" class="dropdown-toggle" href="javascript:void(0);">\n\t\t\t\t\t\t\t<i class="icon-telicon-prioritize"></i>\n\t\t\t\t\t\t\t<i class="icon-telicon-caret-down"></i>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class="dropdown-menu">\n\t\t\t\t\t\t\t<li><a href="javascript:void(0);" class="mark-as-link" data-type="new">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.markAsNew:i,e))+'</a></li>\n\t\t\t\t\t\t\t<li><a href="javascript:void(0);" class="mark-as-link" data-type="saved">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.markAsListened:i,e))+'</a></li>\n\t\t\t\t\t\t\t<li><a href="javascript:void(0);" class="mark-as-link" data-type="deleted">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.markAsDeleted:i,e))+'</a></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="move-to-wrapper hidable hidden monster-select-dropdown pull-left" data-toggle="tooltip" data-placement="top" data-original-title="'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.tooltips:i)?i.moveTo:i,e))+'">\n\t\t\t\t\t<li class="dropdown">\n\t\t\t\t\t\t<a data-toggle="dropdown" class="dropdown-toggle" href="javascript:void(0);">\n\t\t\t\t\t\t\t<i class="icon-telicon-forward"></i>\n\t\t\t\t\t\t\t<i class="icon-telicon-caret-down"></i>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class="dropdown-menu vmbox-target">\n'+(null!=(i=a.each.call(r,null!=e?e.vmboxes:e,{name:"each",hash:{},fn:t.program(3,n,0),inverse:t.noop,data:n}))?i:"")+'\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="filters vmbox-selector">\n\t\t\t<select id="select_vmbox">\n\t\t\t\t<option value="none"></option>\n'+(null!=(i=a.each.call(r,null!=e?e.vmboxes:e,{name:"each",hash:{},fn:t.program(5,n,0),inverse:t.noop,data:n}))?i:"")+'\t\t\t</select>\n\n\t\t\t<button id="refresh_voicemails" class="monster-button-secondary monster-button-fit margin-left" data-toggle="tooltip" data-placement="top" data-original-title="'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.actionBar:i)?i.tooltips:i)?i.refresh:i,e))+'">\n\t\t\t\t<i class="fa fa-refresh"></i>\n\t\t\t</button>\n\t\t</div>\n\n\t\t<div class="filter-by-date">\n\t\t\t<div class="expand-dates">\n\t\t\t\t<a class="monster-link blue toggle-filter">'+d(c(null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.filterByDate:i,e))+'</a>\n\t\t\t</div>\n\t\t\t<div class="date-ranges">\n\t\t\t\t<span>'+d(c(null!=(i=null!=e?e.i18n:e)?i.startDate:i,e))+'</span>\n\t\t\t\t<input id="startDate" type="text" class="date-filter filter-from">\n\t\t\t\t<span>'+d(c(null!=(i=null!=e?e.i18n:e)?i.endDate:i,e))+'</span>\n\t\t\t\t<input id="endDate" type="text" class="date-filter filter-to">\n\t\t\t\t<button type="button" class="apply-filter monster-button monster-button-primary">'+d(c(null!=(i=null!=e?e.i18n:e)?i.filter:i,e))+'</button>\n\t\t\t\t<a class="monster-link blue toggle-filter">'+d(c(null!=(i=null!=e?e.i18n:e)?i.cancel:i,e))+'</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<div class="content">\n\t\t<div class="empty-state">\n\t\t\t<i class="icon-title icon-telicon-voicemail"></i>\n\t\t\t<div class="headline">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.empty:i)?i.headline:i,e))+'</div>\n\t\t\t<div class="vmboxes-list">\n\t\t\t\t<table class="monster-table footable">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th data-breakpoints="xs">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.table:i)?i.columns:i)?i.name:i,e))+"</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n"+(null!=(i=a.each.call(r,null!=e?e.vmboxes:e,{name:"each",hash:{},fn:t.program(7,n,0),inverse:t.noop,data:n}))?i:"")+'\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="data-state">\n\t\t\t<div class="voicemails-table">\n\t\t\t\t<table class="monster-table footable">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th data-type="html" data-sortable="false"></th>\n\t\t\t\t\t\t\t<th>'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.table:i)?i.columns:i)?i.status:i,e))+"</th>\n\t\t\t\t\t\t\t<!--<th>"+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.table:i)?i.columns:i)?i.callId:i,e))+'</th>-->\n\t\t\t\t\t\t\t<th data-type="html" data-sorted="true" data-direction="DESC">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.table:i)?i.columns:i)?i.received:i,e))+"</th>\n\t\t\t\t\t\t\t<th>"+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.table:i)?i.columns:i)?i.from:i,e))+"</th>\n\t\t\t\t\t\t\t<th>"+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.table:i)?i.columns:i)?i.targetNumber:i,e))+'</th>\n\t\t\t\t\t\t\t<th data-breakpoints="xs">'+d(c(null!=(i=null!=(i=null!=(i=null!=(i=null!=(i=null!=e?e.i18n:e)?i.voicemails:i)?i.receivedVMs:i)?i.table:i)?i.columns:i)?i.duration:i,e))+'</th>\n\t\t\t\t\t\t\t<th data-filterable="false" data-type="html" data-sortable="false"></th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="loading-state">\n\t\t\t<i class="fa fa-spin fa-spinner monster-primary-color"></i>\n\t\t</div>\n\t</div>\n</div>'},useData:!0}),this.monster.cache.templates.voicemails["voicemails-CDRDialog"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(t,e,a,l,n){return'<div id="voicemails_cdr_details_dialog">\n\t<div id="jsoneditor">\n\t</div>\n</div>'},useData:!0}),this.monster.cache.templates.voicemails["voicemails-rows"]=Handlebars.template({1:function(t,e,a,l,n){var i,s,o,c=t.lambda,d=t.escapeExpression,r=null!=e?e:{},u=a.helperMissing,m="function",f='\t<tr class="voicemail-row" data-media-id="'+d(c(null!=(i=null!=e?e.formatted:e)?i.mediaId:i,e))+'" data-call-id="'+d(c(null!=(i=null!=e?e.formatted:e)?i.callId:i,e))+'" data-timestamp="'+d((s=null!=(s=a.timestamp||(null!=e?e.timestamp:e))?s:u,typeof s===m?s.call(r,{name:"timestamp",hash:{},data:n}):s))+'" data-folder="'+d((s=null!=(s=a.folder||(null!=e?e.folder:e))?s:u,typeof s===m?s.call(r,{name:"folder",hash:{},data:n}):s))+'">\n\t\t<td data-filter-value="'+d(c(null!=(i=null!=e?e.formatted:e)?i.callId:i,e))+'">\n';return s=null!=(s=a.monsterCheckbox||(null!=e?e.monsterCheckbox:e))?s:u,o={name:"monsterCheckbox",hash:{},fn:t.program(2,n,0),inverse:t.noop,data:n},i=typeof s===m?s.call(r,o):s,a.monsterCheckbox||(i=a.blockHelperMissing.call(e,i,o)),null!=i&&(f+=i),f+'\t\t</td>\n\t\t<td class="status select-line" data-folder="'+d((s=null!=(s=a.folder||(null!=e?e.folder:e))?s:u,typeof s===m?s.call(r,{name:"folder",hash:{},data:n}):s))+'">'+d((a.tryI18n||e&&e.tryI18n||u).call(r,(i=(i=(i=(i=n&&n.root)&&i.i18n)&&i.voicemails)&&i.receivedVMs)&&i.status,null!=e?e.folder:e,{name:"tryI18n",hash:{},data:n}))+'</td>\n\t\t<!--<td class="select-line">'+d((s=null!=(s=a.call_id||(null!=e?e.call_id:e))?s:u,typeof s===m?s.call(r,{name:"call_id",hash:{},data:n}):s))+'</td>-->\n\t\t<td class="select-line" data-filter-value="'+d((s=null!=(s=a.timestamp||(null!=e?e.timestamp:e))?s:u,typeof s===m?s.call(r,{name:"timestamp",hash:{},data:n}):s))+" "+d((a.toFriendlyDate||e&&e.toFriendlyDate||u).call(r,null!=e?e.timestamp:e,{name:"toFriendlyDate",hash:{},data:n}))+'" data-sort-value="'+d((s=null!=(s=a.timestamp||(null!=e?e.timestamp:e))?s:u,typeof s===m?s.call(r,{name:"timestamp",hash:{},data:n}):s))+'">'+d((a.toFriendlyDate||e&&e.toFriendlyDate||u).call(r,null!=e?e.timestamp:e,{name:"toFriendlyDate",hash:{},data:n}))+'</td>\n\t\t<td class="select-line" data-filter-value="'+d((s=null!=(s=a.from||(null!=e?e.from:e))?s:u,typeof s===m?s.call(r,{name:"from",hash:{},data:n}):s))+" "+d(c(null!=(i=null!=e?e.formatted:e)?i.from:i,e))+'">'+d(c(null!=(i=null!=e?e.formatted:e)?i.from:i,e))+'</td>\n\t\t<td class="select-line" data-filter-value="'+d((s=null!=(s=a.to||(null!=e?e.to:e))?s:u,typeof s===m?s.call(r,{name:"to",hash:{},data:n}):s))+" "+d(c(null!=(i=null!=e?e.formatted:e)?i.to:i,e))+'">'+d(c(null!=(i=null!=e?e.formatted:e)?i.to:i,e))+'</td>\n\t\t<td class="duration select-line">'+d(c(null!=(i=null!=e?e.formatted:e)?i.duration:i,e))+'</td>\n\t\t<td class="actions">\n\t\t\t<i class="fa fa-play action-item play-vm"></i>\n\t\t\t<a class="action-item" href="'+d(c(null!=(i=null!=e?e.formatted:e)?i.uri:i,e))+'" target="_blank">\n\t\t\t\t<i class="fa fa-download download-vm"></i>\n\t\t\t</a>\n\t\t\t<i class="fa fa-list action-item details-vm"></i>\n\t\t</td>\n\t</tr>\n'},2:function(t,e,a,l,n){var i;return'\t\t\t\t<input class="select-message" type="checkbox" data-media-id="'+t.escapeExpression(t.lambda(null!=(i=null!=e?e.formatted:e)?i.mediaId:i,e))+'"/>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,a,l,n){var i;return null!=(i=a.each.call(null!=e?e:{},null!=e?e.voicemails:e,{name:"each",hash:{},fn:t.program(1,n,0),inverse:t.noop,data:n}))?i:""},useData:!0});