define(["require","jquery","underscore","monster","toastr"],function(e){var t=e("jquery"),n=e("underscore"),r=e("monster"),s=(e("toastr"),{name:"tutorial",externalScripts:["example"],css:["app"],i18n:{"en-US":{customCss:!1},"fr-FR":{customCss:!0}},requests:{"skeleton.listNumbers":{url:"phone_numbers?prefix={pattern}&quantity={size}",verb:"GET"}},subscribe:{"pbxsManager.activate":"_render"},load:function(e){var t=this;t.initApp(function(){e&&e(t)})},initApp:function(e){var t=this;r.pub("auth.initApp",{app:t,callback:e})},render:function(e){var t=this;t._render(e)},_render:function(e){var s=this,i=t(r.template(s,"layout")),a=n.isEmpty(e)?t("#monster-content"):e;s.bindEvents(i),a.empty().append(i)},bindEvents:function(e){var t=this;e.find("#search").on("click",function(n){t.searchNumbers(415,15,function(n){var s=r.template(t,"results",n);e.find(".results").empty().append(s)})})},searchNumbers:function(e,t,n){r.request({resource:"skeleton.listNumbers",data:{pattern:e,size:t},success:function(e){n&&n(e.data)}})}});return s});