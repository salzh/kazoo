define(["require","jquery","underscore","monster","monster-timezone"],function(t){var c=t("jquery"),n=(t("underscore"),t("monster")),a=t("monster-timezone"),e={subscribe:{"myaccount.account.renderContent":"_accountRenderContent"},_accountRenderContent:function(t){var a=this;a.accountGetData(function(e){var o=c(n.template(a,"account-layout",e));a.accountBindEvents(o,e),n.pub("myaccount.renderSubmodule",o),t.callback&&t.callback(o)})},accountBindEvents:function(t,c){a.populateDropdown(t.find("#account_timezone"),c.account.timezone),t.find("#account_timezone").chosen({search_contains:!0,width:"220px"}),t.find("#accountsmanager_carrier_save").removeClass("btn btn-success").addClass("monster-button-success"),n.pub("myaccount.events",{template:t,data:c})},accountGetNoMatch:function(t){var c=this;c.callApi({resource:"callflow.list",data:{accountId:c.accountId,filters:{filter_numbers:"no_match"}},success:function(n){1===n.data.length?c.callApi({resource:"callflow.get",data:{callflowId:n.data[0].id,accountId:c.accountId},success:function(c){t(c.data)}}):t({})}})},accountGetData:function(t){var c=this;n.parallel({account:function(t){c.callApi({resource:"account.get",data:{accountId:c.accountId},success:function(c,n){t&&t(null,c.data)}})},noMatch:function(t){c.accountGetNoMatch(function(c){t&&t(null,c)})}},function(n,a){c.accountFormatData(a,t)})},accountFormatData:function(t,c){c&&c(t)}};return e});